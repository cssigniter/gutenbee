/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/blocks/accordion/script.js":
/*!****************************************!*\
  !*** ./src/blocks/accordion/script.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()($ => {\n  const expandedClass = 'wp-block-gutenbee-accordion-item-expanded';\n  const $titles = $('.wp-block-gutenbee-accordion-item-title');\n  const $defaultExpanded = $(`.${expandedClass}`);\n  $defaultExpanded.find('.wp-block-gutenbee-accordion-item-content-wrap').slideDown(350);\n  $titles.on('click', function () {\n    const $this = $(this);\n    const $accordion = $this.parents('.wp-block-gutenbee-accordion');\n    const $item = $this.parent('.wp-block-gutenbee-accordion-item');\n    const $content = $item.find('.wp-block-gutenbee-accordion-item-content-wrap');\n    const collapseOthers = $accordion.data('collapse-others');\n    if ($item.hasClass(expandedClass)) {\n      $content.slideUp(350);\n      $item.removeClass(expandedClass);\n    } else {\n      if (collapseOthers) {\n        $item.siblings().removeClass(expandedClass).find('.wp-block-gutenbee-accordion-item-content-wrap').slideUp(350);\n      }\n      $content.slideDown(350);\n      $item.addClass(expandedClass);\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2tzL2FjY29yZGlvbi9zY3JpcHQuanMuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQTRCO0FBRTVCQSw2Q0FBTSxDQUFDQyxDQUFDLElBQUk7RUFDVixNQUFNQyxhQUFhLEdBQUcsMkNBQTJDO0VBQ2pFLE1BQU1DLE9BQU8sR0FBR0YsQ0FBQyxDQUFDLHlDQUF5QyxDQUFDO0VBQzVELE1BQU1HLGdCQUFnQixHQUFHSCxDQUFDLENBQUMsSUFBSUMsYUFBYSxFQUFFLENBQUM7RUFFL0NFLGdCQUFnQixDQUNiQyxJQUFJLENBQUMsZ0RBQWdELENBQUMsQ0FDdERDLFNBQVMsQ0FBQyxHQUFHLENBQUM7RUFFakJILE9BQU8sQ0FBQ0ksRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFXO0lBQzdCLE1BQU1DLEtBQUssR0FBR1AsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNyQixNQUFNUSxVQUFVLEdBQUdELEtBQUssQ0FBQ0UsT0FBTyxDQUFDLDhCQUE4QixDQUFDO0lBQ2hFLE1BQU1DLEtBQUssR0FBR0gsS0FBSyxDQUFDSSxNQUFNLENBQUMsbUNBQW1DLENBQUM7SUFDL0QsTUFBTUMsUUFBUSxHQUFHRixLQUFLLENBQUNOLElBQUksQ0FDekIsZ0RBQ0YsQ0FBQztJQUNELE1BQU1TLGNBQWMsR0FBR0wsVUFBVSxDQUFDTSxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFFekQsSUFBSUosS0FBSyxDQUFDSyxRQUFRLENBQUNkLGFBQWEsQ0FBQyxFQUFFO01BQ2pDVyxRQUFRLENBQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUM7TUFDckJOLEtBQUssQ0FBQ08sV0FBVyxDQUFDaEIsYUFBYSxDQUFDO0lBQ2xDLENBQUMsTUFBTTtNQUNMLElBQUlZLGNBQWMsRUFBRTtRQUNsQkgsS0FBSyxDQUNGUSxRQUFRLENBQUMsQ0FBQyxDQUNWRCxXQUFXLENBQUNoQixhQUFhLENBQUMsQ0FDMUJHLElBQUksQ0FBQyxnREFBZ0QsQ0FBQyxDQUN0RFksT0FBTyxDQUFDLEdBQUcsQ0FBQztNQUNqQjtNQUNBSixRQUFRLENBQUNQLFNBQVMsQ0FBQyxHQUFHLENBQUM7TUFDdkJLLEtBQUssQ0FBQ1MsUUFBUSxDQUFDbEIsYUFBYSxDQUFDO0lBQy9CO0VBQ0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvYmxvY2tzL2FjY29yZGlvbi9zY3JpcHQuanM/NjBhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgalF1ZXJ5IGZyb20gJ2pxdWVyeSc7XG5cbmpRdWVyeSgkID0+IHtcbiAgY29uc3QgZXhwYW5kZWRDbGFzcyA9ICd3cC1ibG9jay1ndXRlbmJlZS1hY2NvcmRpb24taXRlbS1leHBhbmRlZCc7XG4gIGNvbnN0ICR0aXRsZXMgPSAkKCcud3AtYmxvY2stZ3V0ZW5iZWUtYWNjb3JkaW9uLWl0ZW0tdGl0bGUnKTtcbiAgY29uc3QgJGRlZmF1bHRFeHBhbmRlZCA9ICQoYC4ke2V4cGFuZGVkQ2xhc3N9YCk7XG5cbiAgJGRlZmF1bHRFeHBhbmRlZFxuICAgIC5maW5kKCcud3AtYmxvY2stZ3V0ZW5iZWUtYWNjb3JkaW9uLWl0ZW0tY29udGVudC13cmFwJylcbiAgICAuc2xpZGVEb3duKDM1MCk7XG5cbiAgJHRpdGxlcy5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XG4gICAgY29uc3QgJGFjY29yZGlvbiA9ICR0aGlzLnBhcmVudHMoJy53cC1ibG9jay1ndXRlbmJlZS1hY2NvcmRpb24nKTtcbiAgICBjb25zdCAkaXRlbSA9ICR0aGlzLnBhcmVudCgnLndwLWJsb2NrLWd1dGVuYmVlLWFjY29yZGlvbi1pdGVtJyk7XG4gICAgY29uc3QgJGNvbnRlbnQgPSAkaXRlbS5maW5kKFxuICAgICAgJy53cC1ibG9jay1ndXRlbmJlZS1hY2NvcmRpb24taXRlbS1jb250ZW50LXdyYXAnLFxuICAgICk7XG4gICAgY29uc3QgY29sbGFwc2VPdGhlcnMgPSAkYWNjb3JkaW9uLmRhdGEoJ2NvbGxhcHNlLW90aGVycycpO1xuXG4gICAgaWYgKCRpdGVtLmhhc0NsYXNzKGV4cGFuZGVkQ2xhc3MpKSB7XG4gICAgICAkY29udGVudC5zbGlkZVVwKDM1MCk7XG4gICAgICAkaXRlbS5yZW1vdmVDbGFzcyhleHBhbmRlZENsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbGxhcHNlT3RoZXJzKSB7XG4gICAgICAgICRpdGVtXG4gICAgICAgICAgLnNpYmxpbmdzKClcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoZXhwYW5kZWRDbGFzcylcbiAgICAgICAgICAuZmluZCgnLndwLWJsb2NrLWd1dGVuYmVlLWFjY29yZGlvbi1pdGVtLWNvbnRlbnQtd3JhcCcpXG4gICAgICAgICAgLnNsaWRlVXAoMzUwKTtcbiAgICAgIH1cbiAgICAgICRjb250ZW50LnNsaWRlRG93bigzNTApO1xuICAgICAgJGl0ZW0uYWRkQ2xhc3MoZXhwYW5kZWRDbGFzcyk7XG4gICAgfVxuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImpRdWVyeSIsIiQiLCJleHBhbmRlZENsYXNzIiwiJHRpdGxlcyIsIiRkZWZhdWx0RXhwYW5kZWQiLCJmaW5kIiwic2xpZGVEb3duIiwib24iLCIkdGhpcyIsIiRhY2NvcmRpb24iLCJwYXJlbnRzIiwiJGl0ZW0iLCJwYXJlbnQiLCIkY29udGVudCIsImNvbGxhcHNlT3RoZXJzIiwiZGF0YSIsImhhc0NsYXNzIiwic2xpZGVVcCIsInJlbW92ZUNsYXNzIiwic2libGluZ3MiLCJhZGRDbGFzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/blocks/accordion/script.js\n");

/***/ }),

/***/ "./src/blocks/banner/script.js":
/*!*************************************!*\
  !*** ./src/blocks/banner/script.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_video_providers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/video/providers */ \"./src/util/video/providers.js\");\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()($ => {\n  const $window = $(window);\n\n  /* -----------------------------------------\n  Video Backgrounds\n  ----------------------------------------- */\n  const $videoBg = $('.wp-block-gutenbee-banner .wp-block-gutenbee-video-bg');\n  const $videoWrap = $videoBg.parents('.wp-block-gutenbee-video-bg-wrapper');\n\n  // YouTube videos\n  function onYouTubeAPIReady($videoBg) {\n    const $videoWrap = $videoBg.parents('.wp-block-gutenbee-video-bg-wrapper');\n    const $block = $videoWrap.closest('.wp-block-gutenbee-banner');\n    const videoId = $videoWrap.data('video-id');\n    const startTime = $videoWrap.data('video-start');\n    const video = $videoBg.attr('id');\n    new window.YT.Player(video, {\n      videoId: videoId,\n      playerVars: {\n        autoplay: 1,\n        controls: 0,\n        showinfo: 0,\n        modestbranding: 1,\n        loop: 1,\n        playlist: videoId,\n        fs: 0,\n        cc_load_policy: 0,\n        iv_load_policy: 3,\n        autohide: 0,\n        start: startTime || undefined\n      },\n      events: {\n        onReady: function (event) {\n          event.target.mute();\n          event.target.playVideo();\n        },\n        onStateChange: function (event) {\n          if (event.data === window.YT.PlayerState.PLAYING) {\n            adjustVideoSize($videoWrap);\n            $videoWrap.addClass('visible');\n            $block.addClass('gutenbee-video-loaded');\n          }\n        }\n      }\n    });\n  }\n\n  // Vimeo videos\n  function onVimeoAPIReady($videoBg) {\n    const $videoWrap = $videoBg.parents('.wp-block-gutenbee-video-bg-wrapper');\n    const $block = $videoWrap.closest('.wp-block-gutenbee-banner');\n    const videoId = $videoWrap.data('video-id');\n    const startTime = $videoWrap.data('video-start');\n    const player = new window.Vimeo.Player($videoBg, {\n      id: videoId,\n      loop: true,\n      autoplay: true,\n      byline: false,\n      title: false,\n      autopause: false,\n      muted: true\n    });\n    player.setVolume(0);\n    if (startTime) {\n      player.setCurrentTime(startTime);\n    }\n    player.on('play', function () {\n      adjustVideoSize($videoWrap);\n      $videoWrap.addClass('visible');\n      $block.addClass('gutenbee-video-loaded');\n    });\n  }\n  let videoResizeTimer;\n  $window.on('resize.ciVideo', function () {\n    clearTimeout(videoResizeTimer);\n    videoResizeTimer = setTimeout(function () {\n      $videoWrap.each(function () {\n        const $this = $(this);\n        adjustVideoSize($this);\n      });\n    }, 350);\n  });\n  function getVideoSize($videoWrap) {\n    const containerWidth = $videoWrap.outerWidth();\n    const containerHeight = $videoWrap.outerHeight();\n    const aspectRatio = 16 / 9;\n    const ratioWidth = containerWidth / aspectRatio;\n    const ratioHeight = containerHeight * aspectRatio;\n    const isWidthFixed = containerWidth / containerHeight > aspectRatio;\n    return {\n      width: isWidthFixed ? containerWidth : ratioHeight,\n      height: isWidthFixed ? ratioWidth : containerHeight\n    };\n  }\n  function adjustVideoSize($videoWrap) {\n    const size = getVideoSize($videoWrap);\n    $videoWrap.find('iframe, video').css({\n      width: size.width + 'px',\n      height: size.height + 'px'\n    });\n  }\n  if ($videoBg.length && window.innerWidth > 1080) {\n    $videoBg.each(async function () {\n      const $this = $(this);\n      const videoType = $this.parents('.wp-block-gutenbee-video-bg-wrapper').data('video-type');\n      const $videoWrap = $this.parents('.wp-block-gutenbee-video-bg-wrapper');\n      const $block = $this.closest('.wp-block-gutenbee-banner');\n      if (videoType === 'youtube') {\n        await (0,_util_video_providers__WEBPACK_IMPORTED_MODULE_1__.maybeLoadYouTubeApi)();\n        onYouTubeAPIReady($this);\n      } else if (videoType === 'vimeo') {\n        await (0,_util_video_providers__WEBPACK_IMPORTED_MODULE_1__.maybeLoadVimeoApi)();\n        onVimeoAPIReady($this);\n      } else if (videoType === 'self') {\n        $videoWrap.find('video').on('play', () => {\n          $videoWrap.addClass('visible');\n          $block.addClass('gutenbee-video-loaded');\n        });\n      }\n    });\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN6QjBDLGVBQWUsQ0FBQ2UsS0FBSyxDQUFDO01BQ3hCLENBQUMsTUFBTSxJQUFJaUIsU0FBUyxLQUFLLE1BQU0sRUFBRTtRQUMvQnBFLFVBQVUsQ0FBQ2dFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQ2xCLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTTtVQUN4QzlDLFVBQVUsQ0FBQ21DLFFBQVEsQ0FBQyxTQUFTLENBQUM7VUFDOUJoQyxNQUFNLENBQUNnQyxRQUFRLENBQUMsdUJBQXVCLENBQUM7UUFDMUMsQ0FBQyxDQUFDO01BQ0o7SUFDRixDQUFDLENBQUM7RUFDSjtBQUNGLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dwLy4vc3JjL2Jsb2Nrcy9iYW5uZXIvc2NyaXB0LmpzPzYzNDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xuXG5pbXBvcnQge1xuICBtYXliZUxvYWRWaW1lb0FwaSxcbiAgbWF5YmVMb2FkWW91VHViZUFwaSxcbn0gZnJvbSAnLi4vLi4vdXRpbC92aWRlby9wcm92aWRlcnMnO1xuXG5qUXVlcnkoJCA9PiB7XG4gIGNvbnN0ICR3aW5kb3cgPSAkKHdpbmRvdyk7XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0IFZpZGVvIEJhY2tncm91bmRzXG5cdCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICBjb25zdCAkdmlkZW9CZyA9ICQoJy53cC1ibG9jay1ndXRlbmJlZS1iYW5uZXIgLndwLWJsb2NrLWd1dGVuYmVlLXZpZGVvLWJnJyk7XG4gIGNvbnN0ICR2aWRlb1dyYXAgPSAkdmlkZW9CZy5wYXJlbnRzKCcud3AtYmxvY2stZ3V0ZW5iZWUtdmlkZW8tYmctd3JhcHBlcicpO1xuXG4gIC8vIFlvdVR1YmUgdmlkZW9zXG4gIGZ1bmN0aW9uIG9uWW91VHViZUFQSVJlYWR5KCR2aWRlb0JnKSB7XG4gICAgY29uc3QgJHZpZGVvV3JhcCA9ICR2aWRlb0JnLnBhcmVudHMoJy53cC1ibG9jay1ndXRlbmJlZS12aWRlby1iZy13cmFwcGVyJyk7XG4gICAgY29uc3QgJGJsb2NrID0gJHZpZGVvV3JhcC5jbG9zZXN0KCcud3AtYmxvY2stZ3V0ZW5iZWUtYmFubmVyJyk7XG4gICAgY29uc3QgdmlkZW9JZCA9ICR2aWRlb1dyYXAuZGF0YSgndmlkZW8taWQnKTtcbiAgICBjb25zdCBzdGFydFRpbWUgPSAkdmlkZW9XcmFwLmRhdGEoJ3ZpZGVvLXN0YXJ0Jyk7XG4gICAgY29uc3QgdmlkZW8gPSAkdmlkZW9CZy5hdHRyKCdpZCcpO1xuXG4gICAgbmV3IHdpbmRvdy5ZVC5QbGF5ZXIodmlkZW8sIHtcbiAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsXG4gICAgICBwbGF5ZXJWYXJzOiB7XG4gICAgICAgIGF1dG9wbGF5OiAxLFxuICAgICAgICBjb250cm9sczogMCxcbiAgICAgICAgc2hvd2luZm86IDAsXG4gICAgICAgIG1vZGVzdGJyYW5kaW5nOiAxLFxuICAgICAgICBsb29wOiAxLFxuICAgICAgICBwbGF5bGlzdDogdmlkZW9JZCxcbiAgICAgICAgZnM6IDAsXG4gICAgICAgIGNjX2xvYWRfcG9saWN5OiAwLFxuICAgICAgICBpdl9sb2FkX3BvbGljeTogMyxcbiAgICAgICAgYXV0b2hpZGU6IDAsXG4gICAgICAgIHN0YXJ0OiBzdGFydFRpbWUgfHwgdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGV2ZW50czoge1xuICAgICAgICBvblJlYWR5OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGV2ZW50LnRhcmdldC5tdXRlKCk7XG4gICAgICAgICAgZXZlbnQudGFyZ2V0LnBsYXlWaWRlbygpO1xuICAgICAgICB9LFxuICAgICAgICBvblN0YXRlQ2hhbmdlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGlmIChldmVudC5kYXRhID09PSB3aW5kb3cuWVQuUGxheWVyU3RhdGUuUExBWUlORykge1xuICAgICAgICAgICAgYWRqdXN0VmlkZW9TaXplKCR2aWRlb1dyYXApO1xuICAgICAgICAgICAgJHZpZGVvV3JhcC5hZGRDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgJGJsb2NrLmFkZENsYXNzKCdndXRlbmJlZS12aWRlby1sb2FkZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLy8gVmltZW8gdmlkZW9zXG4gIGZ1bmN0aW9uIG9uVmltZW9BUElSZWFkeSgkdmlkZW9CZykge1xuICAgIGNvbnN0ICR2aWRlb1dyYXAgPSAkdmlkZW9CZy5wYXJlbnRzKCcud3AtYmxvY2stZ3V0ZW5iZWUtdmlkZW8tYmctd3JhcHBlcicpO1xuICAgIGNvbnN0ICRibG9jayA9ICR2aWRlb1dyYXAuY2xvc2VzdCgnLndwLWJsb2NrLWd1dGVuYmVlLWJhbm5lcicpO1xuICAgIGNvbnN0IHZpZGVvSWQgPSAkdmlkZW9XcmFwLmRhdGEoJ3ZpZGVvLWlkJyk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gJHZpZGVvV3JhcC5kYXRhKCd2aWRlby1zdGFydCcpO1xuXG4gICAgY29uc3QgcGxheWVyID0gbmV3IHdpbmRvdy5WaW1lby5QbGF5ZXIoJHZpZGVvQmcsIHtcbiAgICAgIGlkOiB2aWRlb0lkLFxuICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgYnlsaW5lOiBmYWxzZSxcbiAgICAgIHRpdGxlOiBmYWxzZSxcbiAgICAgIGF1dG9wYXVzZTogZmFsc2UsXG4gICAgICBtdXRlZDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHBsYXllci5zZXRWb2x1bWUoMCk7XG5cbiAgICBpZiAoc3RhcnRUaW1lKSB7XG4gICAgICBwbGF5ZXIuc2V0Q3VycmVudFRpbWUoc3RhcnRUaW1lKTtcbiAgICB9XG5cbiAgICBwbGF5ZXIub24oJ3BsYXknLCBmdW5jdGlvbigpIHtcbiAgICAgIGFkanVzdFZpZGVvU2l6ZSgkdmlkZW9XcmFwKTtcbiAgICAgICR2aWRlb1dyYXAuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICRibG9jay5hZGRDbGFzcygnZ3V0ZW5iZWUtdmlkZW8tbG9hZGVkJyk7XG4gICAgfSk7XG4gIH1cblxuICBsZXQgdmlkZW9SZXNpemVUaW1lcjtcblxuICAkd2luZG93Lm9uKCdyZXNpemUuY2lWaWRlbycsIGZ1bmN0aW9uKCkge1xuICAgIGNsZWFyVGltZW91dCh2aWRlb1Jlc2l6ZVRpbWVyKTtcbiAgICB2aWRlb1Jlc2l6ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICR2aWRlb1dyYXAuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICBhZGp1c3RWaWRlb1NpemUoJHRoaXMpO1xuICAgICAgfSk7XG4gICAgfSwgMzUwKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0VmlkZW9TaXplKCR2aWRlb1dyYXApIHtcbiAgICBjb25zdCBjb250YWluZXJXaWR0aCA9ICR2aWRlb1dyYXAub3V0ZXJXaWR0aCgpO1xuICAgIGNvbnN0IGNvbnRhaW5lckhlaWdodCA9ICR2aWRlb1dyYXAub3V0ZXJIZWlnaHQoKTtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IDE2IC8gOTtcbiAgICBjb25zdCByYXRpb1dpZHRoID0gY29udGFpbmVyV2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICBjb25zdCByYXRpb0hlaWdodCA9IGNvbnRhaW5lckhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgIGNvbnN0IGlzV2lkdGhGaXhlZCA9IGNvbnRhaW5lcldpZHRoIC8gY29udGFpbmVySGVpZ2h0ID4gYXNwZWN0UmF0aW87XG5cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IGlzV2lkdGhGaXhlZCA/IGNvbnRhaW5lcldpZHRoIDogcmF0aW9IZWlnaHQsXG4gICAgICBoZWlnaHQ6IGlzV2lkdGhGaXhlZCA/IHJhdGlvV2lkdGggOiBjb250YWluZXJIZWlnaHQsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkanVzdFZpZGVvU2l6ZSgkdmlkZW9XcmFwKSB7XG4gICAgY29uc3Qgc2l6ZSA9IGdldFZpZGVvU2l6ZSgkdmlkZW9XcmFwKTtcblxuICAgICR2aWRlb1dyYXAuZmluZCgnaWZyYW1lLCB2aWRlbycpLmNzcyh7XG4gICAgICB3aWR0aDogc2l6ZS53aWR0aCArICdweCcsXG4gICAgICBoZWlnaHQ6IHNpemUuaGVpZ2h0ICsgJ3B4JyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICgkdmlkZW9CZy5sZW5ndGggJiYgd2luZG93LmlubmVyV2lkdGggPiAxMDgwKSB7XG4gICAgJHZpZGVvQmcuZWFjaChhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgIGNvbnN0IHZpZGVvVHlwZSA9ICR0aGlzXG4gICAgICAgIC5wYXJlbnRzKCcud3AtYmxvY2stZ3V0ZW5iZWUtdmlkZW8tYmctd3JhcHBlcicpXG4gICAgICAgIC5kYXRhKCd2aWRlby10eXBlJyk7XG4gICAgICBjb25zdCAkdmlkZW9XcmFwID0gJHRoaXMucGFyZW50cygnLndwLWJsb2NrLWd1dGVuYmVlLXZpZGVvLWJnLXdyYXBwZXInKTtcbiAgICAgIGNvbnN0ICRibG9jayA9ICR0aGlzLmNsb3Nlc3QoJy53cC1ibG9jay1ndXRlbmJlZS1iYW5uZXInKTtcblxuICAgICAgaWYgKHZpZGVvVHlwZSA9PT0gJ3lvdXR1YmUnKSB7XG4gICAgICAgIGF3YWl0IG1heWJlTG9hZFlvdVR1YmVBcGkoKTtcbiAgICAgICAgb25Zb3VUdWJlQVBJUmVhZHkoJHRoaXMpO1xuICAgICAgfSBlbHNlIGlmICh2aWRlb1R5cGUgPT09ICd2aW1lbycpIHtcbiAgICAgICAgYXdhaXQgbWF5YmVMb2FkVmltZW9BcGkoKTtcbiAgICAgICAgb25WaW1lb0FQSVJlYWR5KCR0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAodmlkZW9UeXBlID09PSAnc2VsZicpIHtcbiAgICAgICAgJHZpZGVvV3JhcC5maW5kKCd2aWRlbycpLm9uKCdwbGF5JywgKCkgPT4ge1xuICAgICAgICAgICR2aWRlb1dyYXAuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAkYmxvY2suYWRkQ2xhc3MoJ2d1dGVuYmVlLXZpZGVvLWxvYWRlZCcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iXSwibmFtZXMiOlsialF1ZXJ5IiwibWF5YmVMb2FkVmltZW9BcGkiLCJtYXliZUxvYWRZb3VUdWJlQXBpIiwiJCIsIiR3aW5kb3ciLCJ3aW5kb3ciLCIkdmlkZW9CZyIsIiR2aWRlb1dyYXAiLCJwYXJlbnRzIiwib25Zb3VUdWJlQVBJUmVhZHkiLCIkYmxvY2siLCJjbG9zZXN0IiwidmlkZW9JZCIsImRhdGEiLCJzdGFydFRpbWUiLCJ2aWRlbyIsImF0dHIiLCJZVCIsIlBsYXllciIsInBsYXllclZhcnMiLCJhdXRvcGxheSIsImNvbnRyb2xzIiwic2hvd2luZm8iLCJtb2Rlc3RicmFuZGluZyIsImxvb3AiLCJwbGF5bGlzdCIsImZzIiwiY2NfbG9hZF9wb2xpY3kiLCJpdl9sb2FkX3BvbGljeSIsImF1dG9oaWRlIiwic3RhcnQiLCJ1bmRlZmluZWQiLCJldmVudHMiLCJvblJlYWR5IiwiZXZlbnQiLCJ0YXJnZXQiLCJtdXRlIiwicGxheVZpZGVvIiwib25TdGF0ZUNoYW5nZSIsIlBsYXllclN0YXRlIiwiUExBWUlORyIsImFkanVzdFZpZGVvU2l6ZSIsImFkZENsYXNzIiwib25WaW1lb0FQSVJlYWR5IiwicGxheWVyIiwiVmltZW8iLCJpZCIsImJ5bGluZSIsInRpdGxlIiwiYXV0b3BhdXNlIiwibXV0ZWQiLCJzZXRWb2x1bWUiLCJzZXRDdXJyZW50VGltZSIsIm9uIiwidmlkZW9SZXNpemVUaW1lciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJlYWNoIiwiJHRoaXMiLCJnZXRWaWRlb1NpemUiLCJjb250YWluZXJXaWR0aCIsIm91dGVyV2lkdGgiLCJjb250YWluZXJIZWlnaHQiLCJvdXRlckhlaWdodCIsImFzcGVjdFJhdGlvIiwicmF0aW9XaWR0aCIsInJhdGlvSGVpZ2h0IiwiaXNXaWR0aEZpeGVkIiwid2lkdGgiLCJoZWlnaHQiLCJzaXplIiwiZmluZCIsImNzcyIsImxlbmd0aCIsImlubmVyV2lkdGgiLCJ2aWRlb1R5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/blocks/banner/script.js\n");

/***/ }),

/***/ "./src/blocks/container/script.js":
/*!****************************************!*\
  !*** ./src/blocks/container/script.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_video_providers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/video/providers */ \"./src/util/video/providers.js\");\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()($ => {\n  const $window = $(window);\n\n  /* -----------------------------------------\n  Video Backgrounds\n  ----------------------------------------- */\n  const $videoBg = $('.wp-block-gutenbee-container .wp-block-gutenbee-video-bg');\n  const $videoWrap = $videoBg.parents('.wp-block-gutenbee-video-bg-wrapper');\n\n  // YouTube videos\n  function onYouTubeApiReady($videoBg) {\n    const $videoWrap = $videoBg.parents('.wp-block-gutenbee-video-bg-wrapper');\n    const $block = $videoWrap.closest('.wp-block-gutenbee-container');\n    const videoId = $videoWrap.data('video-id');\n    const startTime = $videoWrap.data('video-start');\n    const video = $videoBg.attr('id');\n    new window.YT.Player(video, {\n      videoId: videoId,\n      playerVars: {\n        autoplay: 1,\n        controls: 0,\n        showinfo: 0,\n        modestbranding: 1,\n        loop: 1,\n        playlist: videoId,\n        fs: 0,\n        cc_load_policy: 0,\n        iv_load_policy: 3,\n        autohide: 0,\n        start: startTime || undefined\n      },\n      events: {\n        onReady: function (event) {\n          event.target.mute();\n          event.target.playVideo();\n        },\n        onStateChange: function (event) {\n          if (event.data === window.YT.PlayerState.PLAYING) {\n            adjustVideoSize($videoWrap);\n            $videoWrap.addClass('visible');\n            $block.addClass('gutenbee-video-loaded');\n          }\n        }\n      }\n    });\n  }\n\n  // Vimeo videos\n  function onVimeoApiReady($videoBg) {\n    const $videoWrap = $videoBg.parents('.wp-block-gutenbee-video-bg-wrapper');\n    const $block = $videoWrap.closest('.wp-block-gutenbee-container');\n    const videoId = $videoWrap.data('video-id');\n    const startTime = $videoWrap.data('video-start');\n    const player = new window.Vimeo.Player($videoBg, {\n      id: videoId,\n      loop: true,\n      autoplay: true,\n      byline: false,\n      title: false,\n      autopause: false,\n      muted: true\n    });\n    player.setVolume(0);\n    if (startTime) {\n      player.setCurrentTime(startTime);\n    }\n    player.on('playing', function () {\n      adjustVideoSize($videoWrap);\n      $videoWrap.addClass('visible');\n      $block.addClass('gutenbee-video-loaded');\n    });\n  }\n  let videoResizeTimer;\n  $window.on('resize.ciVideo', function () {\n    clearTimeout(videoResizeTimer);\n    videoResizeTimer = setTimeout(function () {\n      $videoWrap.each(function () {\n        const $this = $(this);\n        adjustVideoSize($this);\n      });\n    }, 350);\n  });\n  function getVideoSize($videoWrap) {\n    const containerWidth = $videoWrap.outerWidth();\n    const containerHeight = $videoWrap.outerHeight();\n    const aspectRatio = 16 / 9;\n    const ratioWidth = containerWidth / aspectRatio;\n    const ratioHeight = containerHeight * aspectRatio;\n    const isWidthFixed = containerWidth / containerHeight > aspectRatio;\n    return {\n      width: isWidthFixed ? containerWidth : ratioHeight,\n      height: isWidthFixed ? ratioWidth : containerHeight\n    };\n  }\n  function adjustVideoSize($videoWrap) {\n    const size = getVideoSize($videoWrap);\n    $videoWrap.find('iframe, video').css({\n      width: size.width + 'px',\n      height: size.height + 'px'\n    });\n  }\n  if ($videoBg.length && window.innerWidth > 1080) {\n    $videoBg.each(async function () {\n      const $this = $(this);\n      const videoType = $this.parents('.wp-block-gutenbee-video-bg-wrapper').data('video-type');\n      const $videoWrap = $this.parents('.wp-block-gutenbee-video-bg-wrapper');\n      const $block = $this.closest('.wp-block-gutenbee-container');\n      if (videoType === 'youtube') {\n        await (0,_util_video_providers__WEBPACK_IMPORTED_MODULE_1__.maybeLoadYouTubeApi)();\n        onYouTubeApiReady($this);\n      } else if (videoType === 'vimeo') {\n        await (0,_util_video_providers__WEBPACK_IMPORTED_MODULE_1__.maybeLoadVimeoApi)();\n        onVimeoApiReady($this);\n      } else if (videoType === 'self') {\n        $videoWrap.find('video').on('play', () => {\n          $videoWrap.addClass('visible');\n          $block.addClass('gutenbee-video-loaded');\n        });\n      }\n    });\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQ3pCMEMsZUFBZSxDQUFDZSxLQUFLLENBQUM7TUFDeEIsQ0FBQyxNQUFNLElBQUlpQixTQUFTLEtBQUssTUFBTSxFQUFFO1FBQy9CcEUsVUFBVSxDQUFDZ0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDbEIsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNO1VBQ3hDOUMsVUFBVSxDQUFDbUMsUUFBUSxDQUFDLFNBQVMsQ0FBQztVQUM5QmhDLE1BQU0sQ0FBQ2dDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztRQUMxQyxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsQ0FBQztFQUNKO0FBQ0YsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvYmxvY2tzL2NvbnRhaW5lci9zY3JpcHQuanM/NjczZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgalF1ZXJ5IGZyb20gJ2pxdWVyeSc7XG5cbmltcG9ydCB7XG4gIG1heWJlTG9hZFZpbWVvQXBpLFxuICBtYXliZUxvYWRZb3VUdWJlQXBpLFxufSBmcm9tICcuLi8uLi91dGlsL3ZpZGVvL3Byb3ZpZGVycyc7XG5cbmpRdWVyeSgkID0+IHtcbiAgY29uc3QgJHdpbmRvdyA9ICQod2luZG93KTtcblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQgVmlkZW8gQmFja2dyb3VuZHNcblx0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIGNvbnN0ICR2aWRlb0JnID0gJChcbiAgICAnLndwLWJsb2NrLWd1dGVuYmVlLWNvbnRhaW5lciAud3AtYmxvY2stZ3V0ZW5iZWUtdmlkZW8tYmcnLFxuICApO1xuICBjb25zdCAkdmlkZW9XcmFwID0gJHZpZGVvQmcucGFyZW50cygnLndwLWJsb2NrLWd1dGVuYmVlLXZpZGVvLWJnLXdyYXBwZXInKTtcblxuICAvLyBZb3VUdWJlIHZpZGVvc1xuICBmdW5jdGlvbiBvbllvdVR1YmVBcGlSZWFkeSgkdmlkZW9CZykge1xuICAgIGNvbnN0ICR2aWRlb1dyYXAgPSAkdmlkZW9CZy5wYXJlbnRzKCcud3AtYmxvY2stZ3V0ZW5iZWUtdmlkZW8tYmctd3JhcHBlcicpO1xuICAgIGNvbnN0ICRibG9jayA9ICR2aWRlb1dyYXAuY2xvc2VzdCgnLndwLWJsb2NrLWd1dGVuYmVlLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHZpZGVvSWQgPSAkdmlkZW9XcmFwLmRhdGEoJ3ZpZGVvLWlkJyk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gJHZpZGVvV3JhcC5kYXRhKCd2aWRlby1zdGFydCcpO1xuXG4gICAgY29uc3QgdmlkZW8gPSAkdmlkZW9CZy5hdHRyKCdpZCcpO1xuICAgIG5ldyB3aW5kb3cuWVQuUGxheWVyKHZpZGVvLCB7XG4gICAgICB2aWRlb0lkOiB2aWRlb0lkLFxuICAgICAgcGxheWVyVmFyczoge1xuICAgICAgICBhdXRvcGxheTogMSxcbiAgICAgICAgY29udHJvbHM6IDAsXG4gICAgICAgIHNob3dpbmZvOiAwLFxuICAgICAgICBtb2Rlc3RicmFuZGluZzogMSxcbiAgICAgICAgbG9vcDogMSxcbiAgICAgICAgcGxheWxpc3Q6IHZpZGVvSWQsXG4gICAgICAgIGZzOiAwLFxuICAgICAgICBjY19sb2FkX3BvbGljeTogMCxcbiAgICAgICAgaXZfbG9hZF9wb2xpY3k6IDMsXG4gICAgICAgIGF1dG9oaWRlOiAwLFxuICAgICAgICBzdGFydDogc3RhcnRUaW1lIHx8IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgb25SZWFkeTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBldmVudC50YXJnZXQubXV0ZSgpO1xuICAgICAgICAgIGV2ZW50LnRhcmdldC5wbGF5VmlkZW8oKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TdGF0ZUNoYW5nZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PT0gd2luZG93LllULlBsYXllclN0YXRlLlBMQVlJTkcpIHtcbiAgICAgICAgICAgIGFkanVzdFZpZGVvU2l6ZSgkdmlkZW9XcmFwKTtcbiAgICAgICAgICAgICR2aWRlb1dyYXAuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICRibG9jay5hZGRDbGFzcygnZ3V0ZW5iZWUtdmlkZW8tbG9hZGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFZpbWVvIHZpZGVvc1xuICBmdW5jdGlvbiBvblZpbWVvQXBpUmVhZHkoJHZpZGVvQmcpIHtcbiAgICBjb25zdCAkdmlkZW9XcmFwID0gJHZpZGVvQmcucGFyZW50cygnLndwLWJsb2NrLWd1dGVuYmVlLXZpZGVvLWJnLXdyYXBwZXInKTtcbiAgICBjb25zdCAkYmxvY2sgPSAkdmlkZW9XcmFwLmNsb3Nlc3QoJy53cC1ibG9jay1ndXRlbmJlZS1jb250YWluZXInKTtcbiAgICBjb25zdCB2aWRlb0lkID0gJHZpZGVvV3JhcC5kYXRhKCd2aWRlby1pZCcpO1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9ICR2aWRlb1dyYXAuZGF0YSgndmlkZW8tc3RhcnQnKTtcblxuICAgIGNvbnN0IHBsYXllciA9IG5ldyB3aW5kb3cuVmltZW8uUGxheWVyKCR2aWRlb0JnLCB7XG4gICAgICBpZDogdmlkZW9JZCxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgIGJ5bGluZTogZmFsc2UsXG4gICAgICB0aXRsZTogZmFsc2UsXG4gICAgICBhdXRvcGF1c2U6IGZhbHNlLFxuICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgfSk7XG5cbiAgICBwbGF5ZXIuc2V0Vm9sdW1lKDApO1xuXG4gICAgaWYgKHN0YXJ0VGltZSkge1xuICAgICAgcGxheWVyLnNldEN1cnJlbnRUaW1lKHN0YXJ0VGltZSk7XG4gICAgfVxuXG4gICAgcGxheWVyLm9uKCdwbGF5aW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICBhZGp1c3RWaWRlb1NpemUoJHZpZGVvV3JhcCk7XG4gICAgICAkdmlkZW9XcmFwLmFkZENsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAkYmxvY2suYWRkQ2xhc3MoJ2d1dGVuYmVlLXZpZGVvLWxvYWRlZCcpO1xuICAgIH0pO1xuICB9XG5cbiAgbGV0IHZpZGVvUmVzaXplVGltZXI7XG5cbiAgJHdpbmRvdy5vbigncmVzaXplLmNpVmlkZW8nLCBmdW5jdGlvbigpIHtcbiAgICBjbGVhclRpbWVvdXQodmlkZW9SZXNpemVUaW1lcik7XG4gICAgdmlkZW9SZXNpemVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkdmlkZW9XcmFwLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgYWRqdXN0VmlkZW9TaXplKCR0aGlzKTtcbiAgICAgIH0pO1xuICAgIH0sIDM1MCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFZpZGVvU2l6ZSgkdmlkZW9XcmFwKSB7XG4gICAgY29uc3QgY29udGFpbmVyV2lkdGggPSAkdmlkZW9XcmFwLm91dGVyV2lkdGgoKTtcbiAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSAkdmlkZW9XcmFwLm91dGVySGVpZ2h0KCk7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSAxNiAvIDk7XG4gICAgY29uc3QgcmF0aW9XaWR0aCA9IGNvbnRhaW5lcldpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgY29uc3QgcmF0aW9IZWlnaHQgPSBjb250YWluZXJIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICBjb25zdCBpc1dpZHRoRml4ZWQgPSBjb250YWluZXJXaWR0aCAvIGNvbnRhaW5lckhlaWdodCA+IGFzcGVjdFJhdGlvO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiBpc1dpZHRoRml4ZWQgPyBjb250YWluZXJXaWR0aCA6IHJhdGlvSGVpZ2h0LFxuICAgICAgaGVpZ2h0OiBpc1dpZHRoRml4ZWQgPyByYXRpb1dpZHRoIDogY29udGFpbmVySGVpZ2h0LFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RWaWRlb1NpemUoJHZpZGVvV3JhcCkge1xuICAgIGNvbnN0IHNpemUgPSBnZXRWaWRlb1NpemUoJHZpZGVvV3JhcCk7XG5cbiAgICAkdmlkZW9XcmFwLmZpbmQoJ2lmcmFtZSwgdmlkZW8nKS5jc3Moe1xuICAgICAgd2lkdGg6IHNpemUud2lkdGggKyAncHgnLFxuICAgICAgaGVpZ2h0OiBzaXplLmhlaWdodCArICdweCcsXG4gICAgfSk7XG4gIH1cblxuICBpZiAoJHZpZGVvQmcubGVuZ3RoICYmIHdpbmRvdy5pbm5lcldpZHRoID4gMTA4MCkge1xuICAgICR2aWRlb0JnLmVhY2goYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XG4gICAgICBjb25zdCB2aWRlb1R5cGUgPSAkdGhpc1xuICAgICAgICAucGFyZW50cygnLndwLWJsb2NrLWd1dGVuYmVlLXZpZGVvLWJnLXdyYXBwZXInKVxuICAgICAgICAuZGF0YSgndmlkZW8tdHlwZScpO1xuICAgICAgY29uc3QgJHZpZGVvV3JhcCA9ICR0aGlzLnBhcmVudHMoJy53cC1ibG9jay1ndXRlbmJlZS12aWRlby1iZy13cmFwcGVyJyk7XG4gICAgICBjb25zdCAkYmxvY2sgPSAkdGhpcy5jbG9zZXN0KCcud3AtYmxvY2stZ3V0ZW5iZWUtY29udGFpbmVyJyk7XG5cbiAgICAgIGlmICh2aWRlb1R5cGUgPT09ICd5b3V0dWJlJykge1xuICAgICAgICBhd2FpdCBtYXliZUxvYWRZb3VUdWJlQXBpKCk7XG4gICAgICAgIG9uWW91VHViZUFwaVJlYWR5KCR0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAodmlkZW9UeXBlID09PSAndmltZW8nKSB7XG4gICAgICAgIGF3YWl0IG1heWJlTG9hZFZpbWVvQXBpKCk7XG4gICAgICAgIG9uVmltZW9BcGlSZWFkeSgkdGhpcyk7XG4gICAgICB9IGVsc2UgaWYgKHZpZGVvVHlwZSA9PT0gJ3NlbGYnKSB7XG4gICAgICAgICR2aWRlb1dyYXAuZmluZCgndmlkZW8nKS5vbigncGxheScsICgpID0+IHtcbiAgICAgICAgICAkdmlkZW9XcmFwLmFkZENsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgJGJsb2NrLmFkZENsYXNzKCdndXRlbmJlZS12aWRlby1sb2FkZWQnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbImpRdWVyeSIsIm1heWJlTG9hZFZpbWVvQXBpIiwibWF5YmVMb2FkWW91VHViZUFwaSIsIiQiLCIkd2luZG93Iiwid2luZG93IiwiJHZpZGVvQmciLCIkdmlkZW9XcmFwIiwicGFyZW50cyIsIm9uWW91VHViZUFwaVJlYWR5IiwiJGJsb2NrIiwiY2xvc2VzdCIsInZpZGVvSWQiLCJkYXRhIiwic3RhcnRUaW1lIiwidmlkZW8iLCJhdHRyIiwiWVQiLCJQbGF5ZXIiLCJwbGF5ZXJWYXJzIiwiYXV0b3BsYXkiLCJjb250cm9scyIsInNob3dpbmZvIiwibW9kZXN0YnJhbmRpbmciLCJsb29wIiwicGxheWxpc3QiLCJmcyIsImNjX2xvYWRfcG9saWN5IiwiaXZfbG9hZF9wb2xpY3kiLCJhdXRvaGlkZSIsInN0YXJ0IiwidW5kZWZpbmVkIiwiZXZlbnRzIiwib25SZWFkeSIsImV2ZW50IiwidGFyZ2V0IiwibXV0ZSIsInBsYXlWaWRlbyIsIm9uU3RhdGVDaGFuZ2UiLCJQbGF5ZXJTdGF0ZSIsIlBMQVlJTkciLCJhZGp1c3RWaWRlb1NpemUiLCJhZGRDbGFzcyIsIm9uVmltZW9BcGlSZWFkeSIsInBsYXllciIsIlZpbWVvIiwiaWQiLCJieWxpbmUiLCJ0aXRsZSIsImF1dG9wYXVzZSIsIm11dGVkIiwic2V0Vm9sdW1lIiwic2V0Q3VycmVudFRpbWUiLCJvbiIsInZpZGVvUmVzaXplVGltZXIiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZWFjaCIsIiR0aGlzIiwiZ2V0VmlkZW9TaXplIiwiY29udGFpbmVyV2lkdGgiLCJvdXRlcldpZHRoIiwiY29udGFpbmVySGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJhc3BlY3RSYXRpbyIsInJhdGlvV2lkdGgiLCJyYXRpb0hlaWdodCIsImlzV2lkdGhGaXhlZCIsIndpZHRoIiwiaGVpZ2h0Iiwic2l6ZSIsImZpbmQiLCJjc3MiLCJsZW5ndGgiLCJpbm5lcldpZHRoIiwidmlkZW9UeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/blocks/container/script.js\n");

/***/ }),

/***/ "./src/blocks/countdown/script.js":
/*!****************************************!*\
  !*** ./src/blocks/countdown/script.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _util_CountdownTimer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/CountdownTimer */ \"./src/util/CountdownTimer.js\");\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const countdown = document.querySelectorAll('.wp-block-gutenbee-countdown');\n  [...countdown].forEach(element => {\n    const date = element.dataset.date || '1900-01-01T00:00:00';\n\n    // eslint-disable-next-line no-new\n    new _util_CountdownTimer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](element, date);\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2tzL2NvdW50ZG93bi9zY3JpcHQuanMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBdUQ7QUFFdkRDLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtFQUNsRCxNQUFNQyxTQUFTLEdBQUdGLFFBQVEsQ0FBQ0csZ0JBQWdCLENBQUMsOEJBQThCLENBQUM7RUFFM0UsQ0FBQyxHQUFHRCxTQUFTLENBQUMsQ0FBQ0UsT0FBTyxDQUFDQyxPQUFPLElBQUk7SUFDaEMsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUNFLE9BQU8sQ0FBQ0QsSUFBSSxJQUFJLHFCQUFxQjs7SUFFMUQ7SUFDQSxJQUFJUCw0REFBYyxDQUFDTSxPQUFPLEVBQUVDLElBQUksQ0FBQztFQUNuQyxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cC8uL3NyYy9ibG9ja3MvY291bnRkb3duL3NjcmlwdC5qcz9hMmE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb3VudGRvd25UaW1lciBmcm9tICcuLi8uLi91dGlsL0NvdW50ZG93blRpbWVyJztcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgY29uc3QgY291bnRkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndwLWJsb2NrLWd1dGVuYmVlLWNvdW50ZG93bicpO1xuXG4gIFsuLi5jb3VudGRvd25dLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgY29uc3QgZGF0ZSA9IGVsZW1lbnQuZGF0YXNldC5kYXRlIHx8ICcxOTAwLTAxLTAxVDAwOjAwOjAwJztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXdcbiAgICBuZXcgQ291bnRkb3duVGltZXIoZWxlbWVudCwgZGF0ZSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiQ291bnRkb3duVGltZXIiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb3VudGRvd24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJkYXRlIiwiZGF0YXNldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/blocks/countdown/script.js\n");

/***/ }),

/***/ "./src/blocks/countup/script.js":
/*!**************************************!*\
  !*** ./src/blocks/countup/script.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var countup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! countup */ \"./node_modules/countup/dist/countUp.min.js\");\n/* harmony import */ var countup__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(countup__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_isElementInViewport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/isElementInViewport */ \"./src/util/isElementInViewport.js\");\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const elements = document.getElementsByClassName('wp-block-gutenbee-countup-number');\n  const countupInit = element => {\n    const separator = element.dataset.separator;\n    const options = {\n      useGrouping: !!separator,\n      separator,\n      prefix: element.dataset.prefix,\n      suffix: element.dataset.suffix\n    };\n    const countup = new (countup__WEBPACK_IMPORTED_MODULE_0___default())(element, element.dataset.start, element.dataset.end, 0, element.dataset.animationDuration, options);\n    if (!countup.error) {\n      countup.start();\n      element.dataset.started = true;\n    }\n  };\n  [...elements].forEach(element => {\n    if (element.dataset.inviewport === 'true') {\n      const handler = () => window.requestAnimationFrame(() => {\n        if ((0,_util_isElementInViewport__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element, 100) && !element.dataset.started) {\n          countupInit(element);\n        }\n      });\n      handler();\n      window.addEventListener('scroll', handler);\n    } else {\n      countupInit(element);\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2tzL2NvdW50dXAvc2NyaXB0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBOEI7QUFFbUM7QUFFakVFLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtFQUNsRCxNQUFNQyxRQUFRLEdBQUdGLFFBQVEsQ0FBQ0csc0JBQXNCLENBQzlDLGtDQUNGLENBQUM7RUFFRCxNQUFNQyxXQUFXLEdBQUdDLE9BQU8sSUFBSTtJQUM3QixNQUFNQyxTQUFTLEdBQUdELE9BQU8sQ0FBQ0UsT0FBTyxDQUFDRCxTQUFTO0lBQzNDLE1BQU1FLE9BQU8sR0FBRztNQUNkQyxXQUFXLEVBQUUsQ0FBQyxDQUFDSCxTQUFTO01BQ3hCQSxTQUFTO01BQ1RJLE1BQU0sRUFBRUwsT0FBTyxDQUFDRSxPQUFPLENBQUNHLE1BQU07TUFDOUJDLE1BQU0sRUFBRU4sT0FBTyxDQUFDRSxPQUFPLENBQUNJO0lBQzFCLENBQUM7SUFFRCxNQUFNQyxPQUFPLEdBQUcsSUFBSWQsZ0RBQU8sQ0FDekJPLE9BQU8sRUFDUEEsT0FBTyxDQUFDRSxPQUFPLENBQUNNLEtBQUssRUFDckJSLE9BQU8sQ0FBQ0UsT0FBTyxDQUFDTyxHQUFHLEVBQ25CLENBQUMsRUFDRFQsT0FBTyxDQUFDRSxPQUFPLENBQUNRLGlCQUFpQixFQUNqQ1AsT0FDRixDQUFDO0lBRUQsSUFBSSxDQUFDSSxPQUFPLENBQUNJLEtBQUssRUFBRTtNQUNsQkosT0FBTyxDQUFDQyxLQUFLLENBQUMsQ0FBQztNQUNmUixPQUFPLENBQUNFLE9BQU8sQ0FBQ1UsT0FBTyxHQUFHLElBQUk7SUFDaEM7RUFDRixDQUFDO0VBRUQsQ0FBQyxHQUFHZixRQUFRLENBQUMsQ0FBQ2dCLE9BQU8sQ0FBQ2IsT0FBTyxJQUFJO0lBQy9CLElBQUlBLE9BQU8sQ0FBQ0UsT0FBTyxDQUFDWSxVQUFVLEtBQUssTUFBTSxFQUFFO01BQ3pDLE1BQU1DLE9BQU8sR0FBR0EsQ0FBQSxLQUNkQyxNQUFNLENBQUNDLHFCQUFxQixDQUFDLE1BQU07UUFDakMsSUFBSXZCLHFFQUFtQixDQUFDTSxPQUFPLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQ0EsT0FBTyxDQUFDRSxPQUFPLENBQUNVLE9BQU8sRUFBRTtVQUNqRWIsV0FBVyxDQUFDQyxPQUFPLENBQUM7UUFDdEI7TUFDRixDQUFDLENBQUM7TUFFSmUsT0FBTyxDQUFDLENBQUM7TUFDVEMsTUFBTSxDQUFDcEIsZ0JBQWdCLENBQUMsUUFBUSxFQUFFbUIsT0FBTyxDQUFDO0lBQzVDLENBQUMsTUFBTTtNQUNMaEIsV0FBVyxDQUFDQyxPQUFPLENBQUM7SUFDdEI7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cC8uL3NyYy9ibG9ja3MvY291bnR1cC9zY3JpcHQuanM/MDkzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ291bnRVcCBmcm9tICdjb3VudHVwJztcblxuaW1wb3J0IGlzRWxlbWVudEluVmlld3BvcnQgZnJvbSAnLi4vLi4vdXRpbC9pc0VsZW1lbnRJblZpZXdwb3J0JztcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICd3cC1ibG9jay1ndXRlbmJlZS1jb3VudHVwLW51bWJlcicsXG4gICk7XG5cbiAgY29uc3QgY291bnR1cEluaXQgPSBlbGVtZW50ID0+IHtcbiAgICBjb25zdCBzZXBhcmF0b3IgPSBlbGVtZW50LmRhdGFzZXQuc2VwYXJhdG9yO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICB1c2VHcm91cGluZzogISFzZXBhcmF0b3IsXG4gICAgICBzZXBhcmF0b3IsXG4gICAgICBwcmVmaXg6IGVsZW1lbnQuZGF0YXNldC5wcmVmaXgsXG4gICAgICBzdWZmaXg6IGVsZW1lbnQuZGF0YXNldC5zdWZmaXgsXG4gICAgfTtcblxuICAgIGNvbnN0IGNvdW50dXAgPSBuZXcgQ291bnRVcChcbiAgICAgIGVsZW1lbnQsXG4gICAgICBlbGVtZW50LmRhdGFzZXQuc3RhcnQsXG4gICAgICBlbGVtZW50LmRhdGFzZXQuZW5kLFxuICAgICAgMCxcbiAgICAgIGVsZW1lbnQuZGF0YXNldC5hbmltYXRpb25EdXJhdGlvbixcbiAgICAgIG9wdGlvbnMsXG4gICAgKTtcblxuICAgIGlmICghY291bnR1cC5lcnJvcikge1xuICAgICAgY291bnR1cC5zdGFydCgpO1xuICAgICAgZWxlbWVudC5kYXRhc2V0LnN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBbLi4uZWxlbWVudHNdLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgaWYgKGVsZW1lbnQuZGF0YXNldC5pbnZpZXdwb3J0ID09PSAndHJ1ZScpIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PlxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBpZiAoaXNFbGVtZW50SW5WaWV3cG9ydChlbGVtZW50LCAxMDApICYmICFlbGVtZW50LmRhdGFzZXQuc3RhcnRlZCkge1xuICAgICAgICAgICAgY291bnR1cEluaXQoZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgaGFuZGxlcigpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudHVwSW5pdChlbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiQ291bnRVcCIsImlzRWxlbWVudEluVmlld3BvcnQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbGVtZW50cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjb3VudHVwSW5pdCIsImVsZW1lbnQiLCJzZXBhcmF0b3IiLCJkYXRhc2V0Iiwib3B0aW9ucyIsInVzZUdyb3VwaW5nIiwicHJlZml4Iiwic3VmZml4IiwiY291bnR1cCIsInN0YXJ0IiwiZW5kIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJlcnJvciIsInN0YXJ0ZWQiLCJmb3JFYWNoIiwiaW52aWV3cG9ydCIsImhhbmRsZXIiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/blocks/countup/script.js\n");

/***/ }),

/***/ "./src/blocks/google-maps/script.js":
/*!******************************************!*\
  !*** ./src/blocks/google-maps/script.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()($ => {\n  const google = window.google;\n  if (typeof google === 'undefined') {\n    return;\n  }\n  const $maps = $('.wp-block-gutenbee-google-maps > div, .wp-block-gutenbee-google-maps');\n  $maps.each(function () {\n    const $this = $(this);\n    const location = {\n      lat: parseFloat($this.data('latitude')),\n      lng: parseFloat($this.data('longitude'))\n    };\n    const info = $this.data('info-window');\n    if (!location.lat || !location.lng) {\n      return;\n    }\n    const map = new google.maps.Map($this.get(0), {\n      zoom: $this.data('zoom'),\n      center: location,\n      scrollwheel: !$this.data('prevent-scroll'),\n      styles: $this.data('map-style')\n    });\n    const marker = new google.maps.Marker({\n      position: location,\n      icon: $this.data('marker-icon'),\n      map\n    });\n    const infoWindow = new google.maps.InfoWindow({\n      content: '<div class=\"wp-block-gutenbee-google-maps-info-window\">' + info + '</div>',\n      maxWidth: 350\n    });\n    if (info) {\n      marker.addListener('click', () => {\n        infoWindow.open(map, marker);\n      });\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2tzL2dvb2dsZS1tYXBzL3NjcmlwdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBNEI7QUFFNUJBLDZDQUFNLENBQUNDLENBQUMsSUFBSTtFQUNWLE1BQU1DLE1BQU0sR0FBR0MsTUFBTSxDQUFDRCxNQUFNO0VBRTVCLElBQUksT0FBT0EsTUFBTSxLQUFLLFdBQVcsRUFBRTtJQUNqQztFQUNGO0VBRUEsTUFBTUUsS0FBSyxHQUFHSCxDQUFDLENBQ2Isc0VBQ0YsQ0FBQztFQUVERyxLQUFLLENBQUNDLElBQUksQ0FBQyxZQUFXO0lBQ3BCLE1BQU1DLEtBQUssR0FBR0wsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNyQixNQUFNTSxRQUFRLEdBQUc7TUFDZkMsR0FBRyxFQUFFQyxVQUFVLENBQUNILEtBQUssQ0FBQ0ksSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO01BQ3ZDQyxHQUFHLEVBQUVGLFVBQVUsQ0FBQ0gsS0FBSyxDQUFDSSxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQ3pDLENBQUM7SUFDRCxNQUFNRSxJQUFJLEdBQUdOLEtBQUssQ0FBQ0ksSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUV0QyxJQUFJLENBQUNILFFBQVEsQ0FBQ0MsR0FBRyxJQUFJLENBQUNELFFBQVEsQ0FBQ0ksR0FBRyxFQUFFO01BQ2xDO0lBQ0Y7SUFFQSxNQUFNRSxHQUFHLEdBQUcsSUFBSVgsTUFBTSxDQUFDWSxJQUFJLENBQUNDLEdBQUcsQ0FBQ1QsS0FBSyxDQUFDVSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7TUFDNUNDLElBQUksRUFBRVgsS0FBSyxDQUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDO01BQ3hCUSxNQUFNLEVBQUVYLFFBQVE7TUFDaEJZLFdBQVcsRUFBRSxDQUFDYixLQUFLLENBQUNJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztNQUMxQ1UsTUFBTSxFQUFFZCxLQUFLLENBQUNJLElBQUksQ0FBQyxXQUFXO0lBQ2hDLENBQUMsQ0FBQztJQUVGLE1BQU1XLE1BQU0sR0FBRyxJQUFJbkIsTUFBTSxDQUFDWSxJQUFJLENBQUNRLE1BQU0sQ0FBQztNQUNwQ0MsUUFBUSxFQUFFaEIsUUFBUTtNQUNsQmlCLElBQUksRUFBRWxCLEtBQUssQ0FBQ0ksSUFBSSxDQUFDLGFBQWEsQ0FBQztNQUMvQkc7SUFDRixDQUFDLENBQUM7SUFFRixNQUFNWSxVQUFVLEdBQUcsSUFBSXZCLE1BQU0sQ0FBQ1ksSUFBSSxDQUFDWSxVQUFVLENBQUM7TUFDNUNDLE9BQU8sRUFDTCx5REFBeUQsR0FDekRmLElBQUksR0FDSixRQUFRO01BQ1ZnQixRQUFRLEVBQUU7SUFDWixDQUFDLENBQUM7SUFFRixJQUFJaEIsSUFBSSxFQUFFO01BQ1JTLE1BQU0sQ0FBQ1EsV0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2hDSixVQUFVLENBQUNLLElBQUksQ0FBQ2pCLEdBQUcsRUFBRVEsTUFBTSxDQUFDO01BQzlCLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvYmxvY2tzL2dvb2dsZS1tYXBzL3NjcmlwdC5qcz8zMmNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqUXVlcnkgZnJvbSAnanF1ZXJ5JztcblxualF1ZXJ5KCQgPT4ge1xuICBjb25zdCBnb29nbGUgPSB3aW5kb3cuZ29vZ2xlO1xuXG4gIGlmICh0eXBlb2YgZ29vZ2xlID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0ICRtYXBzID0gJChcbiAgICAnLndwLWJsb2NrLWd1dGVuYmVlLWdvb2dsZS1tYXBzID4gZGl2LCAud3AtYmxvY2stZ3V0ZW5iZWUtZ29vZ2xlLW1hcHMnLFxuICApO1xuXG4gICRtYXBzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuICAgIGNvbnN0IGxvY2F0aW9uID0ge1xuICAgICAgbGF0OiBwYXJzZUZsb2F0KCR0aGlzLmRhdGEoJ2xhdGl0dWRlJykpLFxuICAgICAgbG5nOiBwYXJzZUZsb2F0KCR0aGlzLmRhdGEoJ2xvbmdpdHVkZScpKSxcbiAgICB9O1xuICAgIGNvbnN0IGluZm8gPSAkdGhpcy5kYXRhKCdpbmZvLXdpbmRvdycpO1xuXG4gICAgaWYgKCFsb2NhdGlvbi5sYXQgfHwgIWxvY2F0aW9uLmxuZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoJHRoaXMuZ2V0KDApLCB7XG4gICAgICB6b29tOiAkdGhpcy5kYXRhKCd6b29tJyksXG4gICAgICBjZW50ZXI6IGxvY2F0aW9uLFxuICAgICAgc2Nyb2xsd2hlZWw6ICEkdGhpcy5kYXRhKCdwcmV2ZW50LXNjcm9sbCcpLFxuICAgICAgc3R5bGVzOiAkdGhpcy5kYXRhKCdtYXAtc3R5bGUnKSxcbiAgICB9KTtcblxuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgcG9zaXRpb246IGxvY2F0aW9uLFxuICAgICAgaWNvbjogJHRoaXMuZGF0YSgnbWFya2VyLWljb24nKSxcbiAgICAgIG1hcCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGluZm9XaW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7XG4gICAgICBjb250ZW50OlxuICAgICAgICAnPGRpdiBjbGFzcz1cIndwLWJsb2NrLWd1dGVuYmVlLWdvb2dsZS1tYXBzLWluZm8td2luZG93XCI+JyArXG4gICAgICAgIGluZm8gK1xuICAgICAgICAnPC9kaXY+JyxcbiAgICAgIG1heFdpZHRoOiAzNTAsXG4gICAgfSk7XG5cbiAgICBpZiAoaW5mbykge1xuICAgICAgbWFya2VyLmFkZExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaW5mb1dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqUXVlcnkiLCIkIiwiZ29vZ2xlIiwid2luZG93IiwiJG1hcHMiLCJlYWNoIiwiJHRoaXMiLCJsb2NhdGlvbiIsImxhdCIsInBhcnNlRmxvYXQiLCJkYXRhIiwibG5nIiwiaW5mbyIsIm1hcCIsIm1hcHMiLCJNYXAiLCJnZXQiLCJ6b29tIiwiY2VudGVyIiwic2Nyb2xsd2hlZWwiLCJzdHlsZXMiLCJtYXJrZXIiLCJNYXJrZXIiLCJwb3NpdGlvbiIsImljb24iLCJpbmZvV2luZG93IiwiSW5mb1dpbmRvdyIsImNvbnRlbnQiLCJtYXhXaWR0aCIsImFkZExpc3RlbmVyIiwib3BlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/blocks/google-maps/script.js\n");

/***/ }),

/***/ "./src/blocks/image-comparison/script.js":
/*!***********************************************!*\
  !*** ./src/blocks/image-comparison/script.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var zurb_twentytwenty_js_jquery_event_move__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zurb-twentytwenty/js/jquery.event.move */ \"./node_modules/zurb-twentytwenty/js/jquery.event.move.js\");\n/* harmony import */ var zurb_twentytwenty_js_jquery_event_move__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(zurb_twentytwenty_js_jquery_event_move__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var zurb_twentytwenty_js_jquery_twentytwenty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zurb-twentytwenty/js/jquery.twentytwenty */ \"./node_modules/zurb-twentytwenty/js/jquery.twentytwenty.js\");\n/* harmony import */ var zurb_twentytwenty_js_jquery_twentytwenty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(zurb_twentytwenty_js_jquery_twentytwenty__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on('load', () => {\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.wp-block-gutenbee-comparison-wrap').each(function () {\n    const $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n    $this.twentytwenty({\n      default_offset_pct: $this.data('offset') / 100,\n      before_label: window.gutenbeeStrings.image_comparison_before_label,\n      after_label: window.gutenbeeStrings.image_comparison_after_label\n    });\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2tzL2ltYWdlLWNvbXBhcmlzb24vc2NyaXB0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEI7QUFDb0I7QUFDRTtBQUVsREEsNkNBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTTtFQUM5QkYsNkNBQU0sQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDRyxJQUFJLENBQUMsWUFBVztJQUMzRCxNQUFNQyxLQUFLLEdBQUdKLDZDQUFNLENBQUMsSUFBSSxDQUFDO0lBRTFCSSxLQUFLLENBQUNDLFlBQVksQ0FBQztNQUNqQkMsa0JBQWtCLEVBQUVGLEtBQUssQ0FBQ0csSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQUc7TUFDOUNDLFlBQVksRUFBRVAsTUFBTSxDQUFDUSxlQUFlLENBQUNDLDZCQUE2QjtNQUNsRUMsV0FBVyxFQUFFVixNQUFNLENBQUNRLGVBQWUsQ0FBQ0c7SUFDdEMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvYmxvY2tzL2ltYWdlLWNvbXBhcmlzb24vc2NyaXB0LmpzPzgxZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xuaW1wb3J0ICd6dXJiLXR3ZW50eXR3ZW50eS9qcy9qcXVlcnkuZXZlbnQubW92ZSc7XG5pbXBvcnQgJ3p1cmItdHdlbnR5dHdlbnR5L2pzL2pxdWVyeS50d2VudHl0d2VudHknO1xuXG5qUXVlcnkod2luZG93KS5vbignbG9hZCcsICgpID0+IHtcbiAgalF1ZXJ5KCcud3AtYmxvY2stZ3V0ZW5iZWUtY29tcGFyaXNvbi13cmFwJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICBjb25zdCAkdGhpcyA9IGpRdWVyeSh0aGlzKTtcblxuICAgICR0aGlzLnR3ZW50eXR3ZW50eSh7XG4gICAgICBkZWZhdWx0X29mZnNldF9wY3Q6ICR0aGlzLmRhdGEoJ29mZnNldCcpIC8gMTAwLFxuICAgICAgYmVmb3JlX2xhYmVsOiB3aW5kb3cuZ3V0ZW5iZWVTdHJpbmdzLmltYWdlX2NvbXBhcmlzb25fYmVmb3JlX2xhYmVsLFxuICAgICAgYWZ0ZXJfbGFiZWw6IHdpbmRvdy5ndXRlbmJlZVN0cmluZ3MuaW1hZ2VfY29tcGFyaXNvbl9hZnRlcl9sYWJlbCxcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqUXVlcnkiLCJ3aW5kb3ciLCJvbiIsImVhY2giLCIkdGhpcyIsInR3ZW50eXR3ZW50eSIsImRlZmF1bHRfb2Zmc2V0X3BjdCIsImRhdGEiLCJiZWZvcmVfbGFiZWwiLCJndXRlbmJlZVN0cmluZ3MiLCJpbWFnZV9jb21wYXJpc29uX2JlZm9yZV9sYWJlbCIsImFmdGVyX2xhYmVsIiwiaW1hZ2VfY29tcGFyaXNvbl9hZnRlcl9sYWJlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/blocks/image-comparison/script.js\n");

/***/ }),

/***/ "./src/blocks/justified-gallery/script.js":
/*!************************************************!*\
  !*** ./src/blocks/justified-gallery/script.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var justifiedGallery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! justifiedGallery */ \"./node_modules/justifiedGallery/dist/js/jquery.justifiedGallery.js\");\n/* harmony import */ var justifiedGallery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(justifiedGallery__WEBPACK_IMPORTED_MODULE_1__);\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()($ => {\n  const $justifiedGallery = $('.wp-block-gutenbee-gallery-justified');\n  $justifiedGallery.each(function () {\n    const $this = $(this);\n    const $content = $this.find('.wp-block-gutenbee-gallery-content');\n    const $type = $this.data('gallery-type');\n    if ($type !== 'justified') {\n      return;\n    }\n    $content.justifiedGallery({\n      rowHeight: $this.data('row-height'),\n      margins: $this.data('margins'),\n      lastRow: $this.data('last-row'),\n      randomize: $this.data('randomize')\n    });\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2tzL2p1c3RpZmllZC1nYWxsZXJ5L3NjcmlwdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE0QjtBQUNGO0FBRTFCQSw2Q0FBTSxDQUFDQyxDQUFDLElBQUk7RUFDVixNQUFNQyxpQkFBaUIsR0FBR0QsQ0FBQyxDQUFDLHNDQUFzQyxDQUFDO0VBRW5FQyxpQkFBaUIsQ0FBQ0MsSUFBSSxDQUFDLFlBQVc7SUFDaEMsTUFBTUMsS0FBSyxHQUFHSCxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3JCLE1BQU1JLFFBQVEsR0FBR0QsS0FBSyxDQUFDRSxJQUFJLENBQUMsb0NBQW9DLENBQUM7SUFDakUsTUFBTUMsS0FBSyxHQUFHSCxLQUFLLENBQUNJLElBQUksQ0FBQyxjQUFjLENBQUM7SUFFeEMsSUFBSUQsS0FBSyxLQUFLLFdBQVcsRUFBRTtNQUN6QjtJQUNGO0lBRUFGLFFBQVEsQ0FBQ0ksZ0JBQWdCLENBQUM7TUFDeEJDLFNBQVMsRUFBRU4sS0FBSyxDQUFDSSxJQUFJLENBQUMsWUFBWSxDQUFDO01BQ25DRyxPQUFPLEVBQUVQLEtBQUssQ0FBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQztNQUM5QkksT0FBTyxFQUFFUixLQUFLLENBQUNJLElBQUksQ0FBQyxVQUFVLENBQUM7TUFDL0JLLFNBQVMsRUFBRVQsS0FBSyxDQUFDSSxJQUFJLENBQUMsV0FBVztJQUNuQyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cC8uL3NyYy9ibG9ja3MvanVzdGlmaWVkLWdhbGxlcnkvc2NyaXB0LmpzPzFjNzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xuaW1wb3J0ICdqdXN0aWZpZWRHYWxsZXJ5JztcblxualF1ZXJ5KCQgPT4ge1xuICBjb25zdCAkanVzdGlmaWVkR2FsbGVyeSA9ICQoJy53cC1ibG9jay1ndXRlbmJlZS1nYWxsZXJ5LWp1c3RpZmllZCcpO1xuXG4gICRqdXN0aWZpZWRHYWxsZXJ5LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuICAgIGNvbnN0ICRjb250ZW50ID0gJHRoaXMuZmluZCgnLndwLWJsb2NrLWd1dGVuYmVlLWdhbGxlcnktY29udGVudCcpO1xuICAgIGNvbnN0ICR0eXBlID0gJHRoaXMuZGF0YSgnZ2FsbGVyeS10eXBlJyk7XG5cbiAgICBpZiAoJHR5cGUgIT09ICdqdXN0aWZpZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJGNvbnRlbnQuanVzdGlmaWVkR2FsbGVyeSh7XG4gICAgICByb3dIZWlnaHQ6ICR0aGlzLmRhdGEoJ3Jvdy1oZWlnaHQnKSxcbiAgICAgIG1hcmdpbnM6ICR0aGlzLmRhdGEoJ21hcmdpbnMnKSxcbiAgICAgIGxhc3RSb3c6ICR0aGlzLmRhdGEoJ2xhc3Qtcm93JyksXG4gICAgICByYW5kb21pemU6ICR0aGlzLmRhdGEoJ3JhbmRvbWl6ZScpLFxuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImpRdWVyeSIsIiQiLCIkanVzdGlmaWVkR2FsbGVyeSIsImVhY2giLCIkdGhpcyIsIiRjb250ZW50IiwiZmluZCIsIiR0eXBlIiwiZGF0YSIsImp1c3RpZmllZEdhbGxlcnkiLCJyb3dIZWlnaHQiLCJtYXJnaW5zIiwibGFzdFJvdyIsInJhbmRvbWl6ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/blocks/justified-gallery/script.js\n");

/***/ }),

/***/ "./src/blocks/post-types/script.js":
/*!*****************************************!*\
  !*** ./src/blocks/post-types/script.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()($ => {\n  const $loadMoreButtons = $('.wp-block-gutenbee-post-types-load-more-button');\n  $loadMoreButtons.each(function () {\n    const $this = $(this);\n    const $block = $this.closest('.wp-block-gutenbee-post-types');\n    const $items = $block.find('[class*=\"row-items\"]');\n    const blockId = $block.attr('id');\n    let nextLink = $block.find('.navigation .page-numbers.next').attr('href');\n    if (!nextLink) {\n      $this.hide();\n    }\n    $this.on('click', () => {\n      $block.addClass('gutenbee-block-is-loading');\n      $this.addClass('gutenbee-button-is-loading');\n      $.get(nextLink, function (data) {\n        const $body = $(data);\n        const $newBlock = $body.find(`#${blockId}`);\n        const $newItems = $newBlock.find('[class*=\"row-items\"] > div');\n\n        // Update the link so that we fetch the next page.\n        nextLink = $newBlock.find('.navigation .page-numbers.next').attr('href');\n        if (!nextLink) {\n          $this.fadeOut('fast');\n        }\n        $items.append($newItems);\n        $block.removeClass('gutenbee-block-is-loading');\n        $this.removeClass('gutenbee-button-is-loading');\n        $('body').trigger('gutenbee.posts-loaded', [$newItems]);\n      });\n    });\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2tzL3Bvc3QtdHlwZXMvc2NyaXB0LmpzLmpzIiwibWFwcGluZ3MiOiI7OztBQUE0QjtBQUU1QkEsNkNBQU0sQ0FBQ0MsQ0FBQyxJQUFJO0VBQ1YsTUFBTUMsZ0JBQWdCLEdBQUdELENBQUMsQ0FBQyxnREFBZ0QsQ0FBQztFQUU1RUMsZ0JBQWdCLENBQUNDLElBQUksQ0FBQyxZQUFXO0lBQy9CLE1BQU1DLEtBQUssR0FBR0gsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNyQixNQUFNSSxNQUFNLEdBQUdELEtBQUssQ0FBQ0UsT0FBTyxDQUFDLCtCQUErQixDQUFDO0lBQzdELE1BQU1DLE1BQU0sR0FBR0YsTUFBTSxDQUFDRyxJQUFJLENBQUMsc0JBQXNCLENBQUM7SUFDbEQsTUFBTUMsT0FBTyxHQUFHSixNQUFNLENBQUNLLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDakMsSUFBSUMsUUFBUSxHQUFHTixNQUFNLENBQUNHLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDRSxJQUFJLENBQUMsTUFBTSxDQUFDO0lBRXpFLElBQUksQ0FBQ0MsUUFBUSxFQUFFO01BQ2JQLEtBQUssQ0FBQ1EsSUFBSSxDQUFDLENBQUM7SUFDZDtJQUVBUixLQUFLLENBQUNTLEVBQUUsQ0FBQyxPQUFPLEVBQUUsTUFBTTtNQUN0QlIsTUFBTSxDQUFDUyxRQUFRLENBQUMsMkJBQTJCLENBQUM7TUFDNUNWLEtBQUssQ0FBQ1UsUUFBUSxDQUFDLDRCQUE0QixDQUFDO01BRTVDYixDQUFDLENBQUNjLEdBQUcsQ0FBQ0osUUFBUSxFQUFFLFVBQVNLLElBQUksRUFBRTtRQUM3QixNQUFNQyxLQUFLLEdBQUdoQixDQUFDLENBQUNlLElBQUksQ0FBQztRQUNyQixNQUFNRSxTQUFTLEdBQUdELEtBQUssQ0FBQ1QsSUFBSSxDQUFDLElBQUlDLE9BQU8sRUFBRSxDQUFDO1FBQzNDLE1BQU1VLFNBQVMsR0FBR0QsU0FBUyxDQUFDVixJQUFJLENBQUMsNEJBQTRCLENBQUM7O1FBRTlEO1FBQ0FHLFFBQVEsR0FBR08sU0FBUyxDQUNqQlYsSUFBSSxDQUFDLGdDQUFnQyxDQUFDLENBQ3RDRSxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRWYsSUFBSSxDQUFDQyxRQUFRLEVBQUU7VUFDYlAsS0FBSyxDQUFDZ0IsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUN2QjtRQUVBYixNQUFNLENBQUNjLE1BQU0sQ0FBQ0YsU0FBUyxDQUFDO1FBQ3hCZCxNQUFNLENBQUNpQixXQUFXLENBQUMsMkJBQTJCLENBQUM7UUFDL0NsQixLQUFLLENBQUNrQixXQUFXLENBQUMsNEJBQTRCLENBQUM7UUFDL0NyQixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUNzQixPQUFPLENBQUMsdUJBQXVCLEVBQUUsQ0FBQ0osU0FBUyxDQUFDLENBQUM7TUFDekQsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvYmxvY2tzL3Bvc3QtdHlwZXMvc2NyaXB0LmpzP2YxMjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xuXG5qUXVlcnkoJCA9PiB7XG4gIGNvbnN0ICRsb2FkTW9yZUJ1dHRvbnMgPSAkKCcud3AtYmxvY2stZ3V0ZW5iZWUtcG9zdC10eXBlcy1sb2FkLW1vcmUtYnV0dG9uJyk7XG5cbiAgJGxvYWRNb3JlQnV0dG9ucy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgICBjb25zdCAkYmxvY2sgPSAkdGhpcy5jbG9zZXN0KCcud3AtYmxvY2stZ3V0ZW5iZWUtcG9zdC10eXBlcycpO1xuICAgIGNvbnN0ICRpdGVtcyA9ICRibG9jay5maW5kKCdbY2xhc3MqPVwicm93LWl0ZW1zXCJdJyk7XG4gICAgY29uc3QgYmxvY2tJZCA9ICRibG9jay5hdHRyKCdpZCcpO1xuICAgIGxldCBuZXh0TGluayA9ICRibG9jay5maW5kKCcubmF2aWdhdGlvbiAucGFnZS1udW1iZXJzLm5leHQnKS5hdHRyKCdocmVmJyk7XG5cbiAgICBpZiAoIW5leHRMaW5rKSB7XG4gICAgICAkdGhpcy5oaWRlKCk7XG4gICAgfVxuXG4gICAgJHRoaXMub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgJGJsb2NrLmFkZENsYXNzKCdndXRlbmJlZS1ibG9jay1pcy1sb2FkaW5nJyk7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnZ3V0ZW5iZWUtYnV0dG9uLWlzLWxvYWRpbmcnKTtcblxuICAgICAgJC5nZXQobmV4dExpbmssIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc3QgJGJvZHkgPSAkKGRhdGEpO1xuICAgICAgICBjb25zdCAkbmV3QmxvY2sgPSAkYm9keS5maW5kKGAjJHtibG9ja0lkfWApO1xuICAgICAgICBjb25zdCAkbmV3SXRlbXMgPSAkbmV3QmxvY2suZmluZCgnW2NsYXNzKj1cInJvdy1pdGVtc1wiXSA+IGRpdicpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbGluayBzbyB0aGF0IHdlIGZldGNoIHRoZSBuZXh0IHBhZ2UuXG4gICAgICAgIG5leHRMaW5rID0gJG5ld0Jsb2NrXG4gICAgICAgICAgLmZpbmQoJy5uYXZpZ2F0aW9uIC5wYWdlLW51bWJlcnMubmV4dCcpXG4gICAgICAgICAgLmF0dHIoJ2hyZWYnKTtcblxuICAgICAgICBpZiAoIW5leHRMaW5rKSB7XG4gICAgICAgICAgJHRoaXMuZmFkZU91dCgnZmFzdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgJGl0ZW1zLmFwcGVuZCgkbmV3SXRlbXMpO1xuICAgICAgICAkYmxvY2sucmVtb3ZlQ2xhc3MoJ2d1dGVuYmVlLWJsb2NrLWlzLWxvYWRpbmcnKTtcbiAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2d1dGVuYmVlLWJ1dHRvbi1pcy1sb2FkaW5nJyk7XG4gICAgICAgICQoJ2JvZHknKS50cmlnZ2VyKCdndXRlbmJlZS5wb3N0cy1sb2FkZWQnLCBbJG5ld0l0ZW1zXSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqUXVlcnkiLCIkIiwiJGxvYWRNb3JlQnV0dG9ucyIsImVhY2giLCIkdGhpcyIsIiRibG9jayIsImNsb3Nlc3QiLCIkaXRlbXMiLCJmaW5kIiwiYmxvY2tJZCIsImF0dHIiLCJuZXh0TGluayIsImhpZGUiLCJvbiIsImFkZENsYXNzIiwiZ2V0IiwiZGF0YSIsIiRib2R5IiwiJG5ld0Jsb2NrIiwiJG5ld0l0ZW1zIiwiZmFkZU91dCIsImFwcGVuZCIsInJlbW92ZUNsYXNzIiwidHJpZ2dlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/blocks/post-types/script.js\n");

/***/ }),

/***/ "./src/blocks/slideshow/script.js":
/*!****************************************!*\
  !*** ./src/blocks/slideshow/script.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var slick_carousel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! slick-carousel */ \"./node_modules/slick-carousel/slick/slick.js\");\n/* harmony import */ var slick_carousel__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(slick_carousel__WEBPACK_IMPORTED_MODULE_1__);\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on('load', () => {\n  const $slideshow = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.wp-block-gutenbee-slideshow');\n  $slideshow.each(function () {\n    const $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n    $this.slick({\n      arrows: $this.data('arrows'),\n      dots: $this.data('dots'),\n      autoplay: $this.data('autoplay'),\n      fade: $this.data('fade'),\n      infinite: $this.data('infinite'),\n      speed: $this.data('speed'),\n      autoplaySpeed: $this.data('autoplay-speed'),\n      slidesToScroll: $this.data('slides-to-scroll'),\n      slidesToShow: $this.data('slides-to-show'),\n      pauseOnHover: $this.data('pause-on-hover'),\n      slide: '.gutenbee-slideshow-item',\n      prevArrow: '<button class=\"slick-prev\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 192 512\"><path d=\"M25.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L64.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L25 264.5c-4.6-4.7-4.6-12.3.1-17z\"/></svg></button>',\n      nextArrow: '<button class=\"slick-next\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 192 512\"><path d=\"M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z\"/></svg></button>',\n      customPaging: () => {\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default()('<button type=\"button\" />').css({\n          backgroundColor: $this.data('dots-color')\n        });\n      }\n    });\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2tzL3NsaWRlc2hvdy9zY3JpcHQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEI7QUFDSjtBQUV4QkEsNkNBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTTtFQUM5QixNQUFNQyxVQUFVLEdBQUdILDZDQUFNLENBQUMsOEJBQThCLENBQUM7RUFFekRHLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDLFlBQVc7SUFDekIsTUFBTUMsS0FBSyxHQUFHTCw2Q0FBTSxDQUFDLElBQUksQ0FBQztJQUUxQkssS0FBSyxDQUFDQyxLQUFLLENBQUM7TUFDVkMsTUFBTSxFQUFFRixLQUFLLENBQUNHLElBQUksQ0FBQyxRQUFRLENBQUM7TUFDNUJDLElBQUksRUFBRUosS0FBSyxDQUFDRyxJQUFJLENBQUMsTUFBTSxDQUFDO01BQ3hCRSxRQUFRLEVBQUVMLEtBQUssQ0FBQ0csSUFBSSxDQUFDLFVBQVUsQ0FBQztNQUNoQ0csSUFBSSxFQUFFTixLQUFLLENBQUNHLElBQUksQ0FBQyxNQUFNLENBQUM7TUFDeEJJLFFBQVEsRUFBRVAsS0FBSyxDQUFDRyxJQUFJLENBQUMsVUFBVSxDQUFDO01BQ2hDSyxLQUFLLEVBQUVSLEtBQUssQ0FBQ0csSUFBSSxDQUFDLE9BQU8sQ0FBQztNQUMxQk0sYUFBYSxFQUFFVCxLQUFLLENBQUNHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztNQUMzQ08sY0FBYyxFQUFFVixLQUFLLENBQUNHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztNQUM5Q1EsWUFBWSxFQUFFWCxLQUFLLENBQUNHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztNQUMxQ1MsWUFBWSxFQUFFWixLQUFLLENBQUNHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztNQUMxQ1UsS0FBSyxFQUFFLDBCQUEwQjtNQUNqQ0MsU0FBUyxFQUNQLDJTQUEyUztNQUM3U0MsU0FBUyxFQUNQLGdUQUFnVDtNQUNsVEMsWUFBWSxFQUFFQSxDQUFBLEtBQU07UUFDbEIsT0FBT3JCLDZDQUFNLENBQUMsMEJBQTBCLENBQUMsQ0FBQ3NCLEdBQUcsQ0FBQztVQUM1Q0MsZUFBZSxFQUFFbEIsS0FBSyxDQUFDRyxJQUFJLENBQUMsWUFBWTtRQUMxQyxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dwLy4vc3JjL2Jsb2Nrcy9zbGlkZXNob3cvc2NyaXB0LmpzPzRmNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xuaW1wb3J0ICdzbGljay1jYXJvdXNlbCc7XG5cbmpRdWVyeSh3aW5kb3cpLm9uKCdsb2FkJywgKCkgPT4ge1xuICBjb25zdCAkc2xpZGVzaG93ID0galF1ZXJ5KCcud3AtYmxvY2stZ3V0ZW5iZWUtc2xpZGVzaG93Jyk7XG5cbiAgJHNsaWRlc2hvdy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0ICR0aGlzID0galF1ZXJ5KHRoaXMpO1xuXG4gICAgJHRoaXMuc2xpY2soe1xuICAgICAgYXJyb3dzOiAkdGhpcy5kYXRhKCdhcnJvd3MnKSxcbiAgICAgIGRvdHM6ICR0aGlzLmRhdGEoJ2RvdHMnKSxcbiAgICAgIGF1dG9wbGF5OiAkdGhpcy5kYXRhKCdhdXRvcGxheScpLFxuICAgICAgZmFkZTogJHRoaXMuZGF0YSgnZmFkZScpLFxuICAgICAgaW5maW5pdGU6ICR0aGlzLmRhdGEoJ2luZmluaXRlJyksXG4gICAgICBzcGVlZDogJHRoaXMuZGF0YSgnc3BlZWQnKSxcbiAgICAgIGF1dG9wbGF5U3BlZWQ6ICR0aGlzLmRhdGEoJ2F1dG9wbGF5LXNwZWVkJyksXG4gICAgICBzbGlkZXNUb1Njcm9sbDogJHRoaXMuZGF0YSgnc2xpZGVzLXRvLXNjcm9sbCcpLFxuICAgICAgc2xpZGVzVG9TaG93OiAkdGhpcy5kYXRhKCdzbGlkZXMtdG8tc2hvdycpLFxuICAgICAgcGF1c2VPbkhvdmVyOiAkdGhpcy5kYXRhKCdwYXVzZS1vbi1ob3ZlcicpLFxuICAgICAgc2xpZGU6ICcuZ3V0ZW5iZWUtc2xpZGVzaG93LWl0ZW0nLFxuICAgICAgcHJldkFycm93OlxuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInNsaWNrLXByZXZcIj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDE5MiA1MTJcIj48cGF0aCBkPVwiTTI1LjEgMjQ3LjVsMTE3LjgtMTE2YzQuNy00LjcgMTIuMy00LjcgMTcgMGw3LjEgNy4xYzQuNyA0LjcgNC43IDEyLjMgMCAxN0w2NC43IDI1NmwxMDIuMiAxMDAuNGM0LjcgNC43IDQuNyAxMi4zIDAgMTdsLTcuMSA3LjFjLTQuNyA0LjctMTIuMyA0LjctMTcgMEwyNSAyNjQuNWMtNC42LTQuNy00LjYtMTIuMy4xLTE3elwiLz48L3N2Zz48L2J1dHRvbj4nLFxuICAgICAgbmV4dEFycm93OlxuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInNsaWNrLW5leHRcIj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDE5MiA1MTJcIj48cGF0aCBkPVwiTTE2Ni45IDI2NC41bC0xMTcuOCAxMTZjLTQuNyA0LjctMTIuMyA0LjctMTcgMGwtNy4xLTcuMWMtNC43LTQuNy00LjctMTIuMyAwLTE3TDEyNy4zIDI1NiAyNS4xIDE1NS42Yy00LjctNC43LTQuNy0xMi4zIDAtMTdsNy4xLTcuMWM0LjctNC43IDEyLjMtNC43IDE3IDBsMTE3LjggMTE2YzQuNiA0LjcgNC42IDEyLjMtLjEgMTd6XCIvPjwvc3ZnPjwvYnV0dG9uPicsXG4gICAgICBjdXN0b21QYWdpbmc6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGpRdWVyeSgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgLz4nKS5jc3Moe1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJHRoaXMuZGF0YSgnZG90cy1jb2xvcicpLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsialF1ZXJ5Iiwid2luZG93Iiwib24iLCIkc2xpZGVzaG93IiwiZWFjaCIsIiR0aGlzIiwic2xpY2siLCJhcnJvd3MiLCJkYXRhIiwiZG90cyIsImF1dG9wbGF5IiwiZmFkZSIsImluZmluaXRlIiwic3BlZWQiLCJhdXRvcGxheVNwZWVkIiwic2xpZGVzVG9TY3JvbGwiLCJzbGlkZXNUb1Nob3ciLCJwYXVzZU9uSG92ZXIiLCJzbGlkZSIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImN1c3RvbVBhZ2luZyIsImNzcyIsImJhY2tncm91bmRDb2xvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/blocks/slideshow/script.js\n");

/***/ }),

/***/ "./src/blocks/tabs/script.js":
/*!***********************************!*\
  !*** ./src/blocks/tabs/script.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()($ => {\n  const prefix = 'wp-block-gutenbee-tabs';\n  const $tabs = $(`.${prefix}`);\n  $tabs.each(function () {\n    const $this = $(this);\n    const $titles = $this.find(`.${prefix}-nav-item`);\n    const $tabContents = $this.find(`.${prefix}-tab-content`);\n    $titles.on('click', function (event) {\n      event.preventDefault();\n      const $title = $(this);\n      const index = $title.index();\n      $title.addClass(`${prefix}-nav-item-active`).siblings().removeClass(`${prefix}-nav-item-active`);\n      $tabContents.hide();\n      $tabContents.eq(index).fadeIn('fast');\n    });\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2tzL3RhYnMvc2NyaXB0LmpzLmpzIiwibWFwcGluZ3MiOiI7OztBQUE0QjtBQUU1QkEsNkNBQU0sQ0FBQ0MsQ0FBQyxJQUFJO0VBQ1YsTUFBTUMsTUFBTSxHQUFHLHdCQUF3QjtFQUN2QyxNQUFNQyxLQUFLLEdBQUdGLENBQUMsQ0FBQyxJQUFJQyxNQUFNLEVBQUUsQ0FBQztFQUU3QkMsS0FBSyxDQUFDQyxJQUFJLENBQUMsWUFBVztJQUNwQixNQUFNQyxLQUFLLEdBQUdKLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDckIsTUFBTUssT0FBTyxHQUFHRCxLQUFLLENBQUNFLElBQUksQ0FBQyxJQUFJTCxNQUFNLFdBQVcsQ0FBQztJQUNqRCxNQUFNTSxZQUFZLEdBQUdILEtBQUssQ0FBQ0UsSUFBSSxDQUFDLElBQUlMLE1BQU0sY0FBYyxDQUFDO0lBRXpESSxPQUFPLENBQUNHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO01BQ2xDQSxLQUFLLENBQUNDLGNBQWMsQ0FBQyxDQUFDO01BQ3RCLE1BQU1DLE1BQU0sR0FBR1gsQ0FBQyxDQUFDLElBQUksQ0FBQztNQUN0QixNQUFNWSxLQUFLLEdBQUdELE1BQU0sQ0FBQ0MsS0FBSyxDQUFDLENBQUM7TUFFNUJELE1BQU0sQ0FDSEUsUUFBUSxDQUFDLEdBQUdaLE1BQU0sa0JBQWtCLENBQUMsQ0FDckNhLFFBQVEsQ0FBQyxDQUFDLENBQ1ZDLFdBQVcsQ0FBQyxHQUFHZCxNQUFNLGtCQUFrQixDQUFDO01BQzNDTSxZQUFZLENBQUNTLElBQUksQ0FBQyxDQUFDO01BQ25CVCxZQUFZLENBQUNVLEVBQUUsQ0FBQ0wsS0FBSyxDQUFDLENBQUNNLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDdkMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvYmxvY2tzL3RhYnMvc2NyaXB0LmpzPzhmM2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xuXG5qUXVlcnkoJCA9PiB7XG4gIGNvbnN0IHByZWZpeCA9ICd3cC1ibG9jay1ndXRlbmJlZS10YWJzJztcbiAgY29uc3QgJHRhYnMgPSAkKGAuJHtwcmVmaXh9YCk7XG5cbiAgJHRhYnMuZWFjaChmdW5jdGlvbigpIHtcbiAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XG4gICAgY29uc3QgJHRpdGxlcyA9ICR0aGlzLmZpbmQoYC4ke3ByZWZpeH0tbmF2LWl0ZW1gKTtcbiAgICBjb25zdCAkdGFiQ29udGVudHMgPSAkdGhpcy5maW5kKGAuJHtwcmVmaXh9LXRhYi1jb250ZW50YCk7XG5cbiAgICAkdGl0bGVzLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgJHRpdGxlID0gJCh0aGlzKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gJHRpdGxlLmluZGV4KCk7XG5cbiAgICAgICR0aXRsZVxuICAgICAgICAuYWRkQ2xhc3MoYCR7cHJlZml4fS1uYXYtaXRlbS1hY3RpdmVgKVxuICAgICAgICAuc2libGluZ3MoKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoYCR7cHJlZml4fS1uYXYtaXRlbS1hY3RpdmVgKTtcbiAgICAgICR0YWJDb250ZW50cy5oaWRlKCk7XG4gICAgICAkdGFiQ29udGVudHMuZXEoaW5kZXgpLmZhZGVJbignZmFzdCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImpRdWVyeSIsIiQiLCJwcmVmaXgiLCIkdGFicyIsImVhY2giLCIkdGhpcyIsIiR0aXRsZXMiLCJmaW5kIiwiJHRhYkNvbnRlbnRzIiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiJHRpdGxlIiwiaW5kZXgiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJoaWRlIiwiZXEiLCJmYWRlSW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/blocks/tabs/script.js\n");

/***/ }),

/***/ "./src/blocks/video-embed/script.js":
/*!******************************************!*\
  !*** ./src/blocks/video-embed/script.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_video_providers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/video/providers */ \"./src/util/video/providers.js\");\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()($ => {\n  const $videoEmbed = $('.gutenbee-video-embed');\n  const $videoWrap = $videoEmbed.parents('.gutenbee-video-embed-wrapper');\n  const attrState = attr => {\n    return 'true' === attr ? 1 : 0;\n  };\n\n  // YouTube videos\n  const onYouTubeApiReady = videoEmbed => {\n    const $dataset = videoEmbed[0].dataset;\n    const $video = $(videoEmbed).find('div').get(0);\n    const $overlay = $(videoEmbed).siblings('.gutenbee-video-embed-overlay');\n\n    // eslint-disable-next-line no-unused-vars\n    const ytPlayer = new window.YT.Player($video, {\n      videoId: $dataset.videoId,\n      playerVars: {\n        autoplay: $dataset.videoAutoplay ? attrState($dataset.videoAutoplay) : 0,\n        controls: $dataset.videoControls ? attrState($dataset.videoControls) : 0,\n        showinfo: 0,\n        modestbranding: $dataset.videoBranding ? attrState($dataset.videoBranding) : 0,\n        loop: $dataset.videoLoop ? attrState($dataset.videoLoop) : 0,\n        playlist: $dataset.videoId,\n        fs: 0,\n        cc_load_policy: 0,\n        iv_load_policy: 3,\n        autohide: 0,\n        mute: $dataset.videoMute ? attrState($dataset.videoMute) : 0,\n        start: parseInt($dataset.videoStart, 10) || undefined,\n        end: parseInt($dataset.videoEnd, 10) || undefined\n      },\n      events: {\n        onReady: event => {\n          if ('true' === $dataset.videoAutoplay) {\n            event.target.playVideo();\n          }\n          if ('true' === $dataset.videoAutoplay && $overlay.length) {\n            $overlay.fadeOut();\n          } else if ('false' === $dataset.videoAutoplay && $overlay.length && 'true' === $dataset.videoLazy) {\n            $overlay.fadeOut;\n            ytPlayer.playVideo();\n          } else if ('false' === $dataset.videoAutoplay && $overlay.length) {\n            $overlay.on('click', function () {\n              $overlay.find('div').addClass('gutenbee-spinner').removeClass('play-button');\n              ytPlayer.playVideo();\n            });\n          }\n        },\n        onStateChange: event => {\n          if (event.data === window.YT.PlayerState.PLAYING) {\n            $overlay.fadeOut();\n          }\n        }\n      }\n    });\n  };\n\n  // Vimeo videos\n  const onVimeoApiReady = videoEmbed => {\n    const $dataset = videoEmbed[0].dataset;\n    const $overlay = $(videoEmbed).siblings('.gutenbee-video-embed-overlay');\n    const player = new window.Vimeo.Player(videoEmbed, {\n      id: $dataset.videoId,\n      loop: $dataset.videoLoop ? attrState($dataset.videoLoop) : 0,\n      autoplay: $dataset.videoAutoplay ? attrState($dataset.videoAutoplay) : 0,\n      controls: $dataset.videoControls ? attrState($dataset.videoControls) : 0,\n      byline: false,\n      title: false,\n      autopause: false,\n      muted: $dataset.videoMute ? attrState($dataset.videoMute) : 0\n    });\n    if ($dataset.videoStart) {\n      player.setCurrentTime($dataset.videoStart);\n    }\n    player.on('loaded', function () {\n      if ('true' === $dataset.videoAutoplay && $overlay.length) {\n        $overlay.fadeOut();\n      } else if ('false' === $dataset.videoAutoplay && $overlay.length && 'true' === $dataset.videoLazy) {\n        player.play();\n        player.on('play', function () {\n          $overlay.fadeOut();\n        });\n      } else if ('false' === $dataset.videoAutoplay && $overlay.length) {\n        $overlay.on('click', function () {\n          $overlay.find('div').addClass('gutenbee-spinner').removeClass('play-button');\n          player.play();\n          player.on('play', function () {\n            $overlay.fadeOut();\n          });\n        });\n      }\n    });\n  };\n  const createEmbed = async (firstScript, videoType, videoEmbed) => {\n    if (videoType === 'youtube') {\n      await (0,_util_video_providers__WEBPACK_IMPORTED_MODULE_1__.maybeLoadYouTubeApi)();\n      onYouTubeApiReady(videoEmbed);\n    }\n    if (videoType === 'vimeo') {\n      await (0,_util_video_providers__WEBPACK_IMPORTED_MODULE_1__.maybeLoadVimeoApi)();\n      onVimeoApiReady(videoEmbed);\n    }\n  };\n  $videoWrap.on('click', function () {\n    const $this = $(this);\n    const embedLoaded = $this.find('iframe').length;\n    const $overlay = $this.find('.gutenbee-video-embed-overlay');\n    const $videoEmbed = $this.find('.gutenbee-video-embed');\n    const $firstScript = $('script');\n    const videoType = $videoEmbed.data('video-type');\n    if (embedLoaded) {\n      return;\n    }\n    $overlay.find('div').removeClass('play-button');\n    $overlay.find('div').addClass('gutenbee-spinner');\n    createEmbed($firstScript, videoType, $videoEmbed);\n  });\n  $videoEmbed.each(function () {\n    const $this = $(this);\n    const firstScript = $('script');\n    const $dataset = $this[0].dataset;\n    const $overlay = $this.siblings('.gutenbee-video-embed-overlay');\n    if (1 === $overlay.length && 'false' === $dataset.videoAutoplay) {\n      $overlay.find('div').addClass('play-button');\n    } else if (1 === $overlay.length && 'true' === $dataset.videoAutoplay) {\n      $overlay.find('div').addClass('gutenbee-spinner');\n    }\n    if (0 === $overlay.length || 'false' === $dataset.videoLazy) {\n      createEmbed(firstScript, $dataset.videoType, $this);\n    }\n  });\n  var $window = $(window);\n  var $stickyWrap = $('.wp-block-gutenbee-video-embed-sticky');\n  var $stickyVideoWrap = $stickyWrap.find('.gutenbee-video-embed-wrapper');\n  var videoWrapHeight = $stickyWrap.outerHeight();\n  var offset = 50;\n  if ($stickyWrap.length) {\n    $window.on('scroll', function () {\n      var windowScrollTop = $window.scrollTop();\n      var videoBottom = videoWrapHeight + $stickyWrap.offset().top;\n      if (windowScrollTop > videoBottom + offset) {\n        if (!$stickyVideoWrap.hasClass('closed') && !$stickyVideoWrap.hasClass('stuck')) {\n          $stickyWrap.height(videoWrapHeight);\n          $stickyVideoWrap.addClass('stuck');\n          $stickyVideoWrap.append('<span class=\"close\"></span>');\n          var $close = $($stickyVideoWrap).find('.close');\n          $close.on('click', function () {\n            var $videoId = $(this).siblings('.gutenbee-video-embed').find('iframe').attr('id');\n            document.getElementById($videoId).contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n            $stickyVideoWrap.removeClass('stuck');\n            $stickyVideoWrap.addClass('closed');\n          });\n        }\n      } else {\n        $stickyVideoWrap.removeClass('stuck');\n        $stickyVideoWrap.find('.close').remove();\n      }\n    });\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YyxRQUFRLENBQUMsdUJBQXVCLENBQUMsQ0FDakNILElBQUksQ0FBQyxRQUFRLENBQUMsQ0FDZE4sSUFBSSxDQUFDLElBQUksQ0FBQztZQUNicUYsUUFBUSxDQUNMQyxjQUFjLENBQUNGLFFBQVEsQ0FBQyxDQUN4QkcsYUFBYSxDQUFDQyxXQUFXLENBQ3hCLG1EQUFtRCxFQUNuRCxHQUNGLENBQUM7WUFDSGhCLGdCQUFnQixDQUFDeEIsV0FBVyxDQUFDLE9BQU8sQ0FBQztZQUNyQ3dCLGdCQUFnQixDQUFDekIsUUFBUSxDQUFDLFFBQVEsQ0FBQztVQUNyQyxDQUFDLENBQUM7UUFDSjtNQUNGLENBQUMsTUFBTTtRQUNMeUIsZ0JBQWdCLENBQUN4QixXQUFXLENBQUMsT0FBTyxDQUFDO1FBQ3JDd0IsZ0JBQWdCLENBQUNsRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUNtRixNQUFNLENBQUMsQ0FBQztNQUMxQztJQUNGLENBQUMsQ0FBQztFQUNKO0FBQ0YsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvYmxvY2tzL3ZpZGVvLWVtYmVkL3NjcmlwdC5qcz9iOWY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqUXVlcnkgZnJvbSAnanF1ZXJ5JztcblxuaW1wb3J0IHtcbiAgbWF5YmVMb2FkVmltZW9BcGksXG4gIG1heWJlTG9hZFlvdVR1YmVBcGksXG59IGZyb20gJy4uLy4uL3V0aWwvdmlkZW8vcHJvdmlkZXJzJztcblxualF1ZXJ5KCQgPT4ge1xuICBjb25zdCAkdmlkZW9FbWJlZCA9ICQoJy5ndXRlbmJlZS12aWRlby1lbWJlZCcpO1xuICBjb25zdCAkdmlkZW9XcmFwID0gJHZpZGVvRW1iZWQucGFyZW50cygnLmd1dGVuYmVlLXZpZGVvLWVtYmVkLXdyYXBwZXInKTtcblxuICBjb25zdCBhdHRyU3RhdGUgPSBhdHRyID0+IHtcbiAgICByZXR1cm4gJ3RydWUnID09PSBhdHRyID8gMSA6IDA7XG4gIH07XG5cbiAgLy8gWW91VHViZSB2aWRlb3NcbiAgY29uc3Qgb25Zb3VUdWJlQXBpUmVhZHkgPSB2aWRlb0VtYmVkID0+IHtcbiAgICBjb25zdCAkZGF0YXNldCA9IHZpZGVvRW1iZWRbMF0uZGF0YXNldDtcbiAgICBjb25zdCAkdmlkZW8gPSAkKHZpZGVvRW1iZWQpXG4gICAgICAuZmluZCgnZGl2JylcbiAgICAgIC5nZXQoMCk7XG4gICAgY29uc3QgJG92ZXJsYXkgPSAkKHZpZGVvRW1iZWQpLnNpYmxpbmdzKCcuZ3V0ZW5iZWUtdmlkZW8tZW1iZWQtb3ZlcmxheScpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgY29uc3QgeXRQbGF5ZXIgPSBuZXcgd2luZG93LllULlBsYXllcigkdmlkZW8sIHtcbiAgICAgIHZpZGVvSWQ6ICRkYXRhc2V0LnZpZGVvSWQsXG4gICAgICBwbGF5ZXJWYXJzOiB7XG4gICAgICAgIGF1dG9wbGF5OiAkZGF0YXNldC52aWRlb0F1dG9wbGF5XG4gICAgICAgICAgPyBhdHRyU3RhdGUoJGRhdGFzZXQudmlkZW9BdXRvcGxheSlcbiAgICAgICAgICA6IDAsXG4gICAgICAgIGNvbnRyb2xzOiAkZGF0YXNldC52aWRlb0NvbnRyb2xzXG4gICAgICAgICAgPyBhdHRyU3RhdGUoJGRhdGFzZXQudmlkZW9Db250cm9scylcbiAgICAgICAgICA6IDAsXG4gICAgICAgIHNob3dpbmZvOiAwLFxuICAgICAgICBtb2Rlc3RicmFuZGluZzogJGRhdGFzZXQudmlkZW9CcmFuZGluZ1xuICAgICAgICAgID8gYXR0clN0YXRlKCRkYXRhc2V0LnZpZGVvQnJhbmRpbmcpXG4gICAgICAgICAgOiAwLFxuICAgICAgICBsb29wOiAkZGF0YXNldC52aWRlb0xvb3AgPyBhdHRyU3RhdGUoJGRhdGFzZXQudmlkZW9Mb29wKSA6IDAsXG4gICAgICAgIHBsYXlsaXN0OiAkZGF0YXNldC52aWRlb0lkLFxuICAgICAgICBmczogMCxcbiAgICAgICAgY2NfbG9hZF9wb2xpY3k6IDAsXG4gICAgICAgIGl2X2xvYWRfcG9saWN5OiAzLFxuICAgICAgICBhdXRvaGlkZTogMCxcbiAgICAgICAgbXV0ZTogJGRhdGFzZXQudmlkZW9NdXRlID8gYXR0clN0YXRlKCRkYXRhc2V0LnZpZGVvTXV0ZSkgOiAwLFxuICAgICAgICBzdGFydDogcGFyc2VJbnQoJGRhdGFzZXQudmlkZW9TdGFydCwgMTApIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgZW5kOiBwYXJzZUludCgkZGF0YXNldC52aWRlb0VuZCwgMTApIHx8IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgb25SZWFkeTogZXZlbnQgPT4ge1xuICAgICAgICAgIGlmICgndHJ1ZScgPT09ICRkYXRhc2V0LnZpZGVvQXV0b3BsYXkpIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wbGF5VmlkZW8oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJ3RydWUnID09PSAkZGF0YXNldC52aWRlb0F1dG9wbGF5ICYmICRvdmVybGF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgJG92ZXJsYXkuZmFkZU91dCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAnZmFsc2UnID09PSAkZGF0YXNldC52aWRlb0F1dG9wbGF5ICYmXG4gICAgICAgICAgICAkb3ZlcmxheS5sZW5ndGggJiZcbiAgICAgICAgICAgICd0cnVlJyA9PT0gJGRhdGFzZXQudmlkZW9MYXp5XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAkb3ZlcmxheS5mYWRlT3V0O1xuICAgICAgICAgICAgeXRQbGF5ZXIucGxheVZpZGVvKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICgnZmFsc2UnID09PSAkZGF0YXNldC52aWRlb0F1dG9wbGF5ICYmICRvdmVybGF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgJG92ZXJsYXkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICRvdmVybGF5XG4gICAgICAgICAgICAgICAgLmZpbmQoJ2RpdicpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdndXRlbmJlZS1zcGlubmVyJylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3BsYXktYnV0dG9uJyk7XG4gICAgICAgICAgICAgIHl0UGxheWVyLnBsYXlWaWRlbygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblN0YXRlQ2hhbmdlOiBldmVudCA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IHdpbmRvdy5ZVC5QbGF5ZXJTdGF0ZS5QTEFZSU5HKSB7XG4gICAgICAgICAgICAkb3ZlcmxheS5mYWRlT3V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvLyBWaW1lbyB2aWRlb3NcbiAgY29uc3Qgb25WaW1lb0FwaVJlYWR5ID0gdmlkZW9FbWJlZCA9PiB7XG4gICAgY29uc3QgJGRhdGFzZXQgPSB2aWRlb0VtYmVkWzBdLmRhdGFzZXQ7XG4gICAgY29uc3QgJG92ZXJsYXkgPSAkKHZpZGVvRW1iZWQpLnNpYmxpbmdzKCcuZ3V0ZW5iZWUtdmlkZW8tZW1iZWQtb3ZlcmxheScpO1xuXG4gICAgY29uc3QgcGxheWVyID0gbmV3IHdpbmRvdy5WaW1lby5QbGF5ZXIodmlkZW9FbWJlZCwge1xuICAgICAgaWQ6ICRkYXRhc2V0LnZpZGVvSWQsXG4gICAgICBsb29wOiAkZGF0YXNldC52aWRlb0xvb3AgPyBhdHRyU3RhdGUoJGRhdGFzZXQudmlkZW9Mb29wKSA6IDAsXG4gICAgICBhdXRvcGxheTogJGRhdGFzZXQudmlkZW9BdXRvcGxheSA/IGF0dHJTdGF0ZSgkZGF0YXNldC52aWRlb0F1dG9wbGF5KSA6IDAsXG4gICAgICBjb250cm9sczogJGRhdGFzZXQudmlkZW9Db250cm9scyA/IGF0dHJTdGF0ZSgkZGF0YXNldC52aWRlb0NvbnRyb2xzKSA6IDAsXG4gICAgICBieWxpbmU6IGZhbHNlLFxuICAgICAgdGl0bGU6IGZhbHNlLFxuICAgICAgYXV0b3BhdXNlOiBmYWxzZSxcbiAgICAgIG11dGVkOiAkZGF0YXNldC52aWRlb011dGUgPyBhdHRyU3RhdGUoJGRhdGFzZXQudmlkZW9NdXRlKSA6IDAsXG4gICAgfSk7XG5cbiAgICBpZiAoJGRhdGFzZXQudmlkZW9TdGFydCkge1xuICAgICAgcGxheWVyLnNldEN1cnJlbnRUaW1lKCRkYXRhc2V0LnZpZGVvU3RhcnQpO1xuICAgIH1cblxuICAgIHBsYXllci5vbignbG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJ3RydWUnID09PSAkZGF0YXNldC52aWRlb0F1dG9wbGF5ICYmICRvdmVybGF5Lmxlbmd0aCkge1xuICAgICAgICAkb3ZlcmxheS5mYWRlT3V0KCk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAnZmFsc2UnID09PSAkZGF0YXNldC52aWRlb0F1dG9wbGF5ICYmXG4gICAgICAgICRvdmVybGF5Lmxlbmd0aCAmJlxuICAgICAgICAndHJ1ZScgPT09ICRkYXRhc2V0LnZpZGVvTGF6eVxuICAgICAgKSB7XG4gICAgICAgIHBsYXllci5wbGF5KCk7XG4gICAgICAgIHBsYXllci5vbigncGxheScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRvdmVybGF5LmZhZGVPdXQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKCdmYWxzZScgPT09ICRkYXRhc2V0LnZpZGVvQXV0b3BsYXkgJiYgJG92ZXJsYXkubGVuZ3RoKSB7XG4gICAgICAgICRvdmVybGF5Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRvdmVybGF5XG4gICAgICAgICAgICAuZmluZCgnZGl2JylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnZ3V0ZW5iZWUtc3Bpbm5lcicpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3BsYXktYnV0dG9uJyk7XG4gICAgICAgICAgcGxheWVyLnBsYXkoKTtcbiAgICAgICAgICBwbGF5ZXIub24oJ3BsYXknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRvdmVybGF5LmZhZGVPdXQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlRW1iZWQgPSBhc3luYyAoZmlyc3RTY3JpcHQsIHZpZGVvVHlwZSwgdmlkZW9FbWJlZCkgPT4ge1xuICAgIGlmICh2aWRlb1R5cGUgPT09ICd5b3V0dWJlJykge1xuICAgICAgYXdhaXQgbWF5YmVMb2FkWW91VHViZUFwaSgpO1xuICAgICAgb25Zb3VUdWJlQXBpUmVhZHkodmlkZW9FbWJlZCk7XG4gICAgfVxuXG4gICAgaWYgKHZpZGVvVHlwZSA9PT0gJ3ZpbWVvJykge1xuICAgICAgYXdhaXQgbWF5YmVMb2FkVmltZW9BcGkoKTtcbiAgICAgIG9uVmltZW9BcGlSZWFkeSh2aWRlb0VtYmVkKTtcbiAgICB9XG4gIH07XG5cbiAgJHZpZGVvV3JhcC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XG4gICAgY29uc3QgZW1iZWRMb2FkZWQgPSAkdGhpcy5maW5kKCdpZnJhbWUnKS5sZW5ndGg7XG5cbiAgICBjb25zdCAkb3ZlcmxheSA9ICR0aGlzLmZpbmQoJy5ndXRlbmJlZS12aWRlby1lbWJlZC1vdmVybGF5Jyk7XG4gICAgY29uc3QgJHZpZGVvRW1iZWQgPSAkdGhpcy5maW5kKCcuZ3V0ZW5iZWUtdmlkZW8tZW1iZWQnKTtcblxuICAgIGNvbnN0ICRmaXJzdFNjcmlwdCA9ICQoJ3NjcmlwdCcpO1xuICAgIGNvbnN0IHZpZGVvVHlwZSA9ICR2aWRlb0VtYmVkLmRhdGEoJ3ZpZGVvLXR5cGUnKTtcblxuICAgIGlmIChlbWJlZExvYWRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRvdmVybGF5LmZpbmQoJ2RpdicpLnJlbW92ZUNsYXNzKCdwbGF5LWJ1dHRvbicpO1xuICAgICRvdmVybGF5LmZpbmQoJ2RpdicpLmFkZENsYXNzKCdndXRlbmJlZS1zcGlubmVyJyk7XG4gICAgY3JlYXRlRW1iZWQoJGZpcnN0U2NyaXB0LCB2aWRlb1R5cGUsICR2aWRlb0VtYmVkKTtcbiAgfSk7XG5cbiAgJHZpZGVvRW1iZWQuZWFjaChmdW5jdGlvbigpIHtcbiAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XG4gICAgY29uc3QgZmlyc3RTY3JpcHQgPSAkKCdzY3JpcHQnKTtcbiAgICBjb25zdCAkZGF0YXNldCA9ICR0aGlzWzBdLmRhdGFzZXQ7XG4gICAgY29uc3QgJG92ZXJsYXkgPSAkdGhpcy5zaWJsaW5ncygnLmd1dGVuYmVlLXZpZGVvLWVtYmVkLW92ZXJsYXknKTtcblxuICAgIGlmICgxID09PSAkb3ZlcmxheS5sZW5ndGggJiYgJ2ZhbHNlJyA9PT0gJGRhdGFzZXQudmlkZW9BdXRvcGxheSkge1xuICAgICAgJG92ZXJsYXkuZmluZCgnZGl2JykuYWRkQ2xhc3MoJ3BsYXktYnV0dG9uJyk7XG4gICAgfSBlbHNlIGlmICgxID09PSAkb3ZlcmxheS5sZW5ndGggJiYgJ3RydWUnID09PSAkZGF0YXNldC52aWRlb0F1dG9wbGF5KSB7XG4gICAgICAkb3ZlcmxheS5maW5kKCdkaXYnKS5hZGRDbGFzcygnZ3V0ZW5iZWUtc3Bpbm5lcicpO1xuICAgIH1cblxuICAgIGlmICgwID09PSAkb3ZlcmxheS5sZW5ndGggfHwgJ2ZhbHNlJyA9PT0gJGRhdGFzZXQudmlkZW9MYXp5KSB7XG4gICAgICBjcmVhdGVFbWJlZChmaXJzdFNjcmlwdCwgJGRhdGFzZXQudmlkZW9UeXBlLCAkdGhpcyk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcbiAgdmFyICRzdGlja3lXcmFwID0gJCgnLndwLWJsb2NrLWd1dGVuYmVlLXZpZGVvLWVtYmVkLXN0aWNreScpO1xuICB2YXIgJHN0aWNreVZpZGVvV3JhcCA9ICRzdGlja3lXcmFwLmZpbmQoJy5ndXRlbmJlZS12aWRlby1lbWJlZC13cmFwcGVyJyk7XG4gIHZhciB2aWRlb1dyYXBIZWlnaHQgPSAkc3RpY2t5V3JhcC5vdXRlckhlaWdodCgpO1xuICB2YXIgb2Zmc2V0ID0gNTA7XG5cbiAgaWYgKCRzdGlja3lXcmFwLmxlbmd0aCkge1xuICAgICR3aW5kb3cub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHdpbmRvd1Njcm9sbFRvcCA9ICR3aW5kb3cuc2Nyb2xsVG9wKCk7XG4gICAgICB2YXIgdmlkZW9Cb3R0b20gPSB2aWRlb1dyYXBIZWlnaHQgKyAkc3RpY2t5V3JhcC5vZmZzZXQoKS50b3A7XG5cbiAgICAgIGlmICh3aW5kb3dTY3JvbGxUb3AgPiB2aWRlb0JvdHRvbSArIG9mZnNldCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgISRzdGlja3lWaWRlb1dyYXAuaGFzQ2xhc3MoJ2Nsb3NlZCcpICYmXG4gICAgICAgICAgISRzdGlja3lWaWRlb1dyYXAuaGFzQ2xhc3MoJ3N0dWNrJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgJHN0aWNreVdyYXAuaGVpZ2h0KHZpZGVvV3JhcEhlaWdodCk7XG4gICAgICAgICAgJHN0aWNreVZpZGVvV3JhcC5hZGRDbGFzcygnc3R1Y2snKTtcbiAgICAgICAgICAkc3RpY2t5VmlkZW9XcmFwLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJjbG9zZVwiPsOXPC9zcGFuPicpO1xuICAgICAgICAgIHZhciAkY2xvc2UgPSAkKCRzdGlja3lWaWRlb1dyYXApLmZpbmQoJy5jbG9zZScpO1xuICAgICAgICAgICRjbG9zZS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdmlkZW9JZCA9ICQodGhpcylcbiAgICAgICAgICAgICAgLnNpYmxpbmdzKCcuZ3V0ZW5iZWUtdmlkZW8tZW1iZWQnKVxuICAgICAgICAgICAgICAuZmluZCgnaWZyYW1lJylcbiAgICAgICAgICAgICAgLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICBkb2N1bWVudFxuICAgICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoJHZpZGVvSWQpXG4gICAgICAgICAgICAgIC5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICd7XCJldmVudFwiOlwiY29tbWFuZFwiLFwiZnVuY1wiOlwicGF1c2VWaWRlb1wiLFwiYXJnc1wiOlwiXCJ9JyxcbiAgICAgICAgICAgICAgICAnKicsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAkc3RpY2t5VmlkZW9XcmFwLnJlbW92ZUNsYXNzKCdzdHVjaycpO1xuICAgICAgICAgICAgJHN0aWNreVZpZGVvV3JhcC5hZGRDbGFzcygnY2xvc2VkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRzdGlja3lWaWRlb1dyYXAucmVtb3ZlQ2xhc3MoJ3N0dWNrJyk7XG4gICAgICAgICRzdGlja3lWaWRlb1dyYXAuZmluZCgnLmNsb3NlJykucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbImpRdWVyeSIsIm1heWJlTG9hZFZpbWVvQXBpIiwibWF5YmVMb2FkWW91VHViZUFwaSIsIiQiLCIkdmlkZW9FbWJlZCIsIiR2aWRlb1dyYXAiLCJwYXJlbnRzIiwiYXR0clN0YXRlIiwiYXR0ciIsIm9uWW91VHViZUFwaVJlYWR5IiwidmlkZW9FbWJlZCIsIiRkYXRhc2V0IiwiZGF0YXNldCIsIiR2aWRlbyIsImZpbmQiLCJnZXQiLCIkb3ZlcmxheSIsInNpYmxpbmdzIiwieXRQbGF5ZXIiLCJ3aW5kb3ciLCJZVCIsIlBsYXllciIsInZpZGVvSWQiLCJwbGF5ZXJWYXJzIiwiYXV0b3BsYXkiLCJ2aWRlb0F1dG9wbGF5IiwiY29udHJvbHMiLCJ2aWRlb0NvbnRyb2xzIiwic2hvd2luZm8iLCJtb2Rlc3RicmFuZGluZyIsInZpZGVvQnJhbmRpbmciLCJsb29wIiwidmlkZW9Mb29wIiwicGxheWxpc3QiLCJmcyIsImNjX2xvYWRfcG9saWN5IiwiaXZfbG9hZF9wb2xpY3kiLCJhdXRvaGlkZSIsIm11dGUiLCJ2aWRlb011dGUiLCJzdGFydCIsInBhcnNlSW50IiwidmlkZW9TdGFydCIsInVuZGVmaW5lZCIsImVuZCIsInZpZGVvRW5kIiwiZXZlbnRzIiwib25SZWFkeSIsImV2ZW50IiwidGFyZ2V0IiwicGxheVZpZGVvIiwibGVuZ3RoIiwiZmFkZU91dCIsInZpZGVvTGF6eSIsIm9uIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm9uU3RhdGVDaGFuZ2UiLCJkYXRhIiwiUGxheWVyU3RhdGUiLCJQTEFZSU5HIiwib25WaW1lb0FwaVJlYWR5IiwicGxheWVyIiwiVmltZW8iLCJpZCIsImJ5bGluZSIsInRpdGxlIiwiYXV0b3BhdXNlIiwibXV0ZWQiLCJzZXRDdXJyZW50VGltZSIsInBsYXkiLCJjcmVhdGVFbWJlZCIsImZpcnN0U2NyaXB0IiwidmlkZW9UeXBlIiwiJHRoaXMiLCJlbWJlZExvYWRlZCIsIiRmaXJzdFNjcmlwdCIsImVhY2giLCIkd2luZG93IiwiJHN0aWNreVdyYXAiLCIkc3RpY2t5VmlkZW9XcmFwIiwidmlkZW9XcmFwSGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJvZmZzZXQiLCJ3aW5kb3dTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJ2aWRlb0JvdHRvbSIsInRvcCIsImhhc0NsYXNzIiwiaGVpZ2h0IiwiYXBwZW5kIiwiJGNsb3NlIiwiJHZpZGVvSWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGVudFdpbmRvdyIsInBvc3RNZXNzYWdlIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/blocks/video-embed/script.js\n");

/***/ }),

/***/ "./src/components/controls/background-controls/script.js":
/*!***************************************************************!*\
  !*** ./src/components/controls/background-controls/script.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()($ => {\n  var $window = $(window);\n  $.fn.gutenbeeParallax = function (opts) {\n    var options = $.extend({}, {\n      speed: null,\n      direction: null\n    }, opts);\n    var $elements = this.each(function () {\n      var $this = $(this);\n      var speed = options.speed || $this.data('parallax-speed');\n      $this.css({\n        height: 100 + speed * 100 + '%'\n      });\n    });\n    function update() {\n      var wheight = $window.height();\n      var wscroll = $window.scrollTop();\n      $elements.each(function () {\n        var $this = $(this);\n        var $parent = $this.parent();\n        var elHeight = $parent.outerHeight();\n        var heightDelta = $this.outerHeight() - elHeight;\n        var elTop = $parent.offset().top + elHeight;\n        var scrollPercentage = (elTop - wscroll) / (wheight + elHeight);\n        var ypos = (scrollPercentage - 1) * heightDelta;\n        $this.css({\n          transform: 'translateY(' + ypos + 'px)'\n        });\n      });\n    }\n    var requestParallaxUpdate = function () {\n      window.requestAnimationFrame(update);\n    };\n    $window.on('scroll', requestParallaxUpdate).on('resize', requestParallaxUpdate);\n    update();\n    $.fn.gutenbeeParallax.destroy = function () {\n      $elements.each(function () {\n        var $this = $(this);\n        $this.css({\n          height: '100%',\n          transform: 'none'\n        });\n      });\n      $window.off('scroll', requestParallaxUpdate).off('resize', requestParallaxUpdate);\n    };\n    return $elements;\n  };\n  $('.gutenbee-parallax').gutenbeeParallax();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jb250cm9scy9iYWNrZ3JvdW5kLWNvbnRyb2xzL3NjcmlwdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBNEI7QUFFNUJBLDZDQUFNLENBQUNDLENBQUMsSUFBSTtFQUNWLElBQUlDLE9BQU8sR0FBR0QsQ0FBQyxDQUFDRSxNQUFNLENBQUM7RUFFdkJGLENBQUMsQ0FBQ0csRUFBRSxDQUFDQyxnQkFBZ0IsR0FBRyxVQUFTQyxJQUFJLEVBQUU7SUFDckMsSUFBSUMsT0FBTyxHQUFHTixDQUFDLENBQUNPLE1BQU0sQ0FDcEIsQ0FBQyxDQUFDLEVBQ0Y7TUFDRUMsS0FBSyxFQUFFLElBQUk7TUFDWEMsU0FBUyxFQUFFO0lBQ2IsQ0FBQyxFQUNESixJQUNGLENBQUM7SUFFRCxJQUFJSyxTQUFTLEdBQUcsSUFBSSxDQUFDQyxJQUFJLENBQUMsWUFBVztNQUNuQyxJQUFJQyxLQUFLLEdBQUdaLENBQUMsQ0FBQyxJQUFJLENBQUM7TUFDbkIsSUFBSVEsS0FBSyxHQUFHRixPQUFPLENBQUNFLEtBQUssSUFBSUksS0FBSyxDQUFDQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7TUFFekRELEtBQUssQ0FBQ0UsR0FBRyxDQUFDO1FBQUVDLE1BQU0sRUFBRSxHQUFHLEdBQUdQLEtBQUssR0FBRyxHQUFHLEdBQUc7TUFBSSxDQUFDLENBQUM7SUFDaEQsQ0FBQyxDQUFDO0lBRUYsU0FBU1EsTUFBTUEsQ0FBQSxFQUFHO01BQ2hCLElBQUlDLE9BQU8sR0FBR2hCLE9BQU8sQ0FBQ2MsTUFBTSxDQUFDLENBQUM7TUFDOUIsSUFBSUcsT0FBTyxHQUFHakIsT0FBTyxDQUFDa0IsU0FBUyxDQUFDLENBQUM7TUFFakNULFNBQVMsQ0FBQ0MsSUFBSSxDQUFDLFlBQVc7UUFDeEIsSUFBSUMsS0FBSyxHQUFHWixDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ25CLElBQUlvQixPQUFPLEdBQUdSLEtBQUssQ0FBQ1MsTUFBTSxDQUFDLENBQUM7UUFDNUIsSUFBSUMsUUFBUSxHQUFHRixPQUFPLENBQUNHLFdBQVcsQ0FBQyxDQUFDO1FBQ3BDLElBQUlDLFdBQVcsR0FBR1osS0FBSyxDQUFDVyxXQUFXLENBQUMsQ0FBQyxHQUFHRCxRQUFRO1FBQ2hELElBQUlHLEtBQUssR0FBR0wsT0FBTyxDQUFDTSxNQUFNLENBQUMsQ0FBQyxDQUFDQyxHQUFHLEdBQUdMLFFBQVE7UUFFM0MsSUFBSU0sZ0JBQWdCLEdBQUcsQ0FBQ0gsS0FBSyxHQUFHUCxPQUFPLEtBQUtELE9BQU8sR0FBR0ssUUFBUSxDQUFDO1FBQy9ELElBQUlPLElBQUksR0FBRyxDQUFDRCxnQkFBZ0IsR0FBRyxDQUFDLElBQUlKLFdBQVc7UUFFL0NaLEtBQUssQ0FBQ0UsR0FBRyxDQUFDO1VBQ1JnQixTQUFTLEVBQUUsYUFBYSxHQUFHRCxJQUFJLEdBQUc7UUFDcEMsQ0FBQyxDQUFDO01BQ0osQ0FBQyxDQUFDO0lBQ0o7SUFFQSxJQUFJRSxxQkFBcUIsR0FBRyxTQUFBQSxDQUFBLEVBQVc7TUFDckM3QixNQUFNLENBQUM4QixxQkFBcUIsQ0FBQ2hCLE1BQU0sQ0FBQztJQUN0QyxDQUFDO0lBRURmLE9BQU8sQ0FDSmdDLEVBQUUsQ0FBQyxRQUFRLEVBQUVGLHFCQUFxQixDQUFDLENBQ25DRSxFQUFFLENBQUMsUUFBUSxFQUFFRixxQkFBcUIsQ0FBQztJQUV0Q2YsTUFBTSxDQUFDLENBQUM7SUFFUmhCLENBQUMsQ0FBQ0csRUFBRSxDQUFDQyxnQkFBZ0IsQ0FBQzhCLE9BQU8sR0FBRyxZQUFXO01BQ3pDeEIsU0FBUyxDQUFDQyxJQUFJLENBQUMsWUFBVztRQUN4QixJQUFJQyxLQUFLLEdBQUdaLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDbkJZLEtBQUssQ0FBQ0UsR0FBRyxDQUFDO1VBQUVDLE1BQU0sRUFBRSxNQUFNO1VBQUVlLFNBQVMsRUFBRTtRQUFPLENBQUMsQ0FBQztNQUNsRCxDQUFDLENBQUM7TUFFRjdCLE9BQU8sQ0FDSmtDLEdBQUcsQ0FBQyxRQUFRLEVBQUVKLHFCQUFxQixDQUFDLENBQ3BDSSxHQUFHLENBQUMsUUFBUSxFQUFFSixxQkFBcUIsQ0FBQztJQUN6QyxDQUFDO0lBRUQsT0FBT3JCLFNBQVM7RUFDbEIsQ0FBQztFQUVEVixDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQ0ksZ0JBQWdCLENBQUMsQ0FBQztBQUM1QyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cC8uL3NyYy9jb21wb25lbnRzL2NvbnRyb2xzL2JhY2tncm91bmQtY29udHJvbHMvc2NyaXB0LmpzPzA2OGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xuXG5qUXVlcnkoJCA9PiB7XG4gIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICQuZm4uZ3V0ZW5iZWVQYXJhbGxheCA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKFxuICAgICAge30sXG4gICAgICB7XG4gICAgICAgIHNwZWVkOiBudWxsLFxuICAgICAgICBkaXJlY3Rpb246IG51bGwsXG4gICAgICB9LFxuICAgICAgb3B0cyxcbiAgICApO1xuXG4gICAgdmFyICRlbGVtZW50cyA9IHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICB2YXIgc3BlZWQgPSBvcHRpb25zLnNwZWVkIHx8ICR0aGlzLmRhdGEoJ3BhcmFsbGF4LXNwZWVkJyk7XG5cbiAgICAgICR0aGlzLmNzcyh7IGhlaWdodDogMTAwICsgc3BlZWQgKiAxMDAgKyAnJScgfSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICB2YXIgd2hlaWdodCA9ICR3aW5kb3cuaGVpZ2h0KCk7XG4gICAgICB2YXIgd3Njcm9sbCA9ICR3aW5kb3cuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgJHBhcmVudCA9ICR0aGlzLnBhcmVudCgpO1xuICAgICAgICB2YXIgZWxIZWlnaHQgPSAkcGFyZW50Lm91dGVySGVpZ2h0KCk7XG4gICAgICAgIHZhciBoZWlnaHREZWx0YSA9ICR0aGlzLm91dGVySGVpZ2h0KCkgLSBlbEhlaWdodDtcbiAgICAgICAgdmFyIGVsVG9wID0gJHBhcmVudC5vZmZzZXQoKS50b3AgKyBlbEhlaWdodDtcblxuICAgICAgICB2YXIgc2Nyb2xsUGVyY2VudGFnZSA9IChlbFRvcCAtIHdzY3JvbGwpIC8gKHdoZWlnaHQgKyBlbEhlaWdodCk7XG4gICAgICAgIHZhciB5cG9zID0gKHNjcm9sbFBlcmNlbnRhZ2UgLSAxKSAqIGhlaWdodERlbHRhO1xuXG4gICAgICAgICR0aGlzLmNzcyh7XG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgnICsgeXBvcyArICdweCknLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0UGFyYWxsYXhVcGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcbiAgICB9O1xuXG4gICAgJHdpbmRvd1xuICAgICAgLm9uKCdzY3JvbGwnLCByZXF1ZXN0UGFyYWxsYXhVcGRhdGUpXG4gICAgICAub24oJ3Jlc2l6ZScsIHJlcXVlc3RQYXJhbGxheFVwZGF0ZSk7XG5cbiAgICB1cGRhdGUoKTtcblxuICAgICQuZm4uZ3V0ZW5iZWVQYXJhbGxheC5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAkZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgJHRoaXMuY3NzKHsgaGVpZ2h0OiAnMTAwJScsIHRyYW5zZm9ybTogJ25vbmUnIH0pO1xuICAgICAgfSk7XG5cbiAgICAgICR3aW5kb3dcbiAgICAgICAgLm9mZignc2Nyb2xsJywgcmVxdWVzdFBhcmFsbGF4VXBkYXRlKVxuICAgICAgICAub2ZmKCdyZXNpemUnLCByZXF1ZXN0UGFyYWxsYXhVcGRhdGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gJGVsZW1lbnRzO1xuICB9O1xuXG4gICQoJy5ndXRlbmJlZS1wYXJhbGxheCcpLmd1dGVuYmVlUGFyYWxsYXgoKTtcbn0pO1xuIl0sIm5hbWVzIjpbImpRdWVyeSIsIiQiLCIkd2luZG93Iiwid2luZG93IiwiZm4iLCJndXRlbmJlZVBhcmFsbGF4Iiwib3B0cyIsIm9wdGlvbnMiLCJleHRlbmQiLCJzcGVlZCIsImRpcmVjdGlvbiIsIiRlbGVtZW50cyIsImVhY2giLCIkdGhpcyIsImRhdGEiLCJjc3MiLCJoZWlnaHQiLCJ1cGRhdGUiLCJ3aGVpZ2h0Iiwid3Njcm9sbCIsInNjcm9sbFRvcCIsIiRwYXJlbnQiLCJwYXJlbnQiLCJlbEhlaWdodCIsIm91dGVySGVpZ2h0IiwiaGVpZ2h0RGVsdGEiLCJlbFRvcCIsIm9mZnNldCIsInRvcCIsInNjcm9sbFBlcmNlbnRhZ2UiLCJ5cG9zIiwidHJhbnNmb3JtIiwicmVxdWVzdFBhcmFsbGF4VXBkYXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib24iLCJkZXN0cm95Iiwib2ZmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/controls/background-controls/script.js\n");

/***/ }),

/***/ "./src/frontend.js":
/*!*************************!*\
  !*** ./src/frontend.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _styles_style_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/style.scss */ \"./src/styles/style.scss\");\n/* harmony import */ var _components_controls_background_controls_script__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/controls/background-controls/script */ \"./src/components/controls/background-controls/script.js\");\n/* harmony import */ var _blocks_slideshow_script__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./blocks/slideshow/script */ \"./src/blocks/slideshow/script.js\");\n/* harmony import */ var _blocks_countup_script__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./blocks/countup/script */ \"./src/blocks/countup/script.js\");\n/* harmony import */ var _blocks_justified_gallery_script__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blocks/justified-gallery/script */ \"./src/blocks/justified-gallery/script.js\");\n/* harmony import */ var _blocks_google_maps_script__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blocks/google-maps/script */ \"./src/blocks/google-maps/script.js\");\n/* harmony import */ var _blocks_countdown_script__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blocks/countdown/script */ \"./src/blocks/countdown/script.js\");\n/* harmony import */ var _blocks_image_comparison_script__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./blocks/image-comparison/script */ \"./src/blocks/image-comparison/script.js\");\n/* harmony import */ var _blocks_accordion_script__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./blocks/accordion/script */ \"./src/blocks/accordion/script.js\");\n/* harmony import */ var _blocks_tabs_script__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./blocks/tabs/script */ \"./src/blocks/tabs/script.js\");\n/* harmony import */ var _blocks_video_embed_script__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./blocks/video-embed/script */ \"./src/blocks/video-embed/script.js\");\n/* harmony import */ var _blocks_container_script__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./blocks/container/script */ \"./src/blocks/container/script.js\");\n/* harmony import */ var _blocks_banner_script__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./blocks/banner/script */ \"./src/blocks/banner/script.js\");\n/* harmony import */ var _blocks_post_types_script__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./blocks/post-types/script */ \"./src/blocks/post-types/script.js\");\n//\n// Stylesheets\n//\n\n\n//\n// Control scripts\n//\n\n\n//\n// Block scripts\n//\n\n\n\n\n\n\n\n\n\n\n\n\n// import './blocks/tab-slider/script';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZnJvbnRlbmQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQzZCOztBQUU3QjtBQUNBO0FBQ0E7QUFDMEQ7O0FBRTFEO0FBQ0E7QUFDQTtBQUNtQztBQUNGO0FBQ1U7QUFDTjtBQUNGO0FBQ087QUFDUDtBQUNMO0FBQ087QUFDRjtBQUNIO0FBQ0k7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cC8uL3NyYy9mcm9udGVuZC5qcz84Njg1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vXG4vLyBTdHlsZXNoZWV0c1xuLy9cbmltcG9ydCAnLi9zdHlsZXMvc3R5bGUuc2Nzcyc7XG5cbi8vXG4vLyBDb250cm9sIHNjcmlwdHNcbi8vXG5pbXBvcnQgJy4vY29tcG9uZW50cy9jb250cm9scy9iYWNrZ3JvdW5kLWNvbnRyb2xzL3NjcmlwdCc7XG5cbi8vXG4vLyBCbG9jayBzY3JpcHRzXG4vL1xuaW1wb3J0ICcuL2Jsb2Nrcy9zbGlkZXNob3cvc2NyaXB0JztcbmltcG9ydCAnLi9ibG9ja3MvY291bnR1cC9zY3JpcHQnO1xuaW1wb3J0ICcuL2Jsb2Nrcy9qdXN0aWZpZWQtZ2FsbGVyeS9zY3JpcHQnO1xuaW1wb3J0ICcuL2Jsb2Nrcy9nb29nbGUtbWFwcy9zY3JpcHQnO1xuaW1wb3J0ICcuL2Jsb2Nrcy9jb3VudGRvd24vc2NyaXB0JztcbmltcG9ydCAnLi9ibG9ja3MvaW1hZ2UtY29tcGFyaXNvbi9zY3JpcHQnO1xuaW1wb3J0ICcuL2Jsb2Nrcy9hY2NvcmRpb24vc2NyaXB0JztcbmltcG9ydCAnLi9ibG9ja3MvdGFicy9zY3JpcHQnO1xuaW1wb3J0ICcuL2Jsb2Nrcy92aWRlby1lbWJlZC9zY3JpcHQnO1xuaW1wb3J0ICcuL2Jsb2Nrcy9jb250YWluZXIvc2NyaXB0JztcbmltcG9ydCAnLi9ibG9ja3MvYmFubmVyL3NjcmlwdCc7XG5pbXBvcnQgJy4vYmxvY2tzL3Bvc3QtdHlwZXMvc2NyaXB0Jztcbi8vIGltcG9ydCAnLi9ibG9ja3MvdGFiLXNsaWRlci9zY3JpcHQnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/frontend.js\n");

/***/ }),

/***/ "./src/util/CountdownTimer.js":
/*!************************************!*\
  !*** ./src/util/CountdownTimer.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass CountdownTimer {\n  /**\n   * @constructor\n   *\n   * @param {HTMLElement} element HTML Element to attach the timer on\n   * @param {string} endTime The end time\n   */\n  constructor(element, endTime) {\n    this.clock = element;\n    this.updateClock(endTime);\n    this.interval = setInterval(() => {\n      this.updateClock(endTime);\n    }, 1000);\n  }\n\n  /**\n   * Calculates remaining time from the present moment to `endDate`\n   *\n   * @static\n   * @param {string} endTime The end time\n   * @returns {{total: number, days: number, hours: number, minutes: number, seconds: number}} Total time remaining\n   */\n  static getRemainingTime = endTime => {\n    const t = Date.parse(endTime) - Date.parse(new Date());\n    const seconds = Math.floor(t / 1000 % 60);\n    const minutes = Math.floor(t / 1000 / 60 % 60);\n    const hours = Math.floor(t / (1000 * 60 * 60) % 24);\n    const days = Math.floor(t / (1000 * 60 * 60 * 24));\n    return {\n      total: t,\n      days: days <= 0 ? 0 : days,\n      hours: hours <= 0 ? 0 : hours,\n      minutes: minutes <= 0 ? 0 : minutes,\n      seconds: seconds <= 0 ? 0 : seconds\n    };\n  };\n\n  /**\n   * Updates the HTML element\n   *\n   * @param {string} endTime The end time\n   * @returns {undefined}\n   * @returns {undefined}\n   */\n  updateClock(endTime) {\n    const daysSpan = this.clock.querySelector('.gutenbee-countdown-days');\n    const hoursSpan = this.clock.querySelector('.gutenbee-countdown-hours');\n    const minutesSpan = this.clock.querySelector('.gutenbee-countdown-minutes');\n    const secondsSpan = this.clock.querySelector('.gutenbee-countdown-seconds');\n    const t = CountdownTimer.getRemainingTime(endTime);\n    if (daysSpan) {\n      daysSpan.innerHTML = t.days;\n    }\n    if (hoursSpan) {\n      hoursSpan.innerHTML = `0${t.hours}`.slice(-2);\n    }\n    if (minutesSpan) {\n      minutesSpan.innerHTML = `0${t.minutes}`.slice(-2);\n    }\n    if (secondsSpan) {\n      secondsSpan.innerHTML = `0${t.seconds}`.slice(-2);\n    }\n    if (t.total <= 0) {\n      this.stop();\n    }\n  }\n\n  /**\n   * Stops the countdown\n   *\n   * @returns {undefined}\n   */\n  stop() {\n    clearInterval(this.interval);\n  }\n\n  /**\n   * \"Destroys\" the instance\n   *\n   * @returns {undefined}\n   */\n  destroy() {\n    this.stop();\n    this.clock = null;\n    this.interval = null;\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CountdownTimer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDVSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkQ7SUFFQSxJQUFJRixXQUFXLEVBQUU7TUFDZkEsV0FBVyxDQUFDQyxTQUFTLEdBQUcsSUFBSWYsQ0FBQyxDQUFDRyxPQUFPLEVBQUUsQ0FBQ2EsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25EO0lBRUEsSUFBSWhCLENBQUMsQ0FBQ1MsS0FBSyxJQUFJLENBQUMsRUFBRTtNQUNoQixJQUFJLENBQUNRLElBQUksQ0FBQyxDQUFDO0lBQ2I7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0VBLElBQUlBLENBQUEsRUFBRztJQUNMQyxhQUFhLENBQUMsSUFBSSxDQUFDckIsUUFBUSxDQUFDO0VBQzlCOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRXNCLE9BQU9BLENBQUEsRUFBRztJQUNSLElBQUksQ0FBQ0YsSUFBSSxDQUFDLENBQUM7SUFDWCxJQUFJLENBQUN0QixLQUFLLEdBQUcsSUFBSTtJQUNqQixJQUFJLENBQUNFLFFBQVEsR0FBRyxJQUFJO0VBQ3RCO0FBQ0Y7QUFFQSxpRUFBZU4sY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL3dwLy4vc3JjL3V0aWwvQ291bnRkb3duVGltZXIuanM/MjA4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDb3VudGRvd25UaW1lciB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBIVE1MIEVsZW1lbnQgdG8gYXR0YWNoIHRoZSB0aW1lciBvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gZW5kVGltZSBUaGUgZW5kIHRpbWVcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGVuZFRpbWUpIHtcbiAgICB0aGlzLmNsb2NrID0gZWxlbWVudDtcbiAgICB0aGlzLnVwZGF0ZUNsb2NrKGVuZFRpbWUpO1xuICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZUNsb2NrKGVuZFRpbWUpO1xuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgcmVtYWluaW5nIHRpbWUgZnJvbSB0aGUgcHJlc2VudCBtb21lbnQgdG8gYGVuZERhdGVgXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVuZFRpbWUgVGhlIGVuZCB0aW1lXG4gICAqIEByZXR1cm5zIHt7dG90YWw6IG51bWJlciwgZGF5czogbnVtYmVyLCBob3VyczogbnVtYmVyLCBtaW51dGVzOiBudW1iZXIsIHNlY29uZHM6IG51bWJlcn19IFRvdGFsIHRpbWUgcmVtYWluaW5nXG4gICAqL1xuICBzdGF0aWMgZ2V0UmVtYWluaW5nVGltZSA9IGVuZFRpbWUgPT4ge1xuICAgIGNvbnN0IHQgPSBEYXRlLnBhcnNlKGVuZFRpbWUpIC0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTtcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcigodCAvIDEwMDApICUgNjApO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKCh0IC8gMTAwMCAvIDYwKSAlIDYwKTtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IoKHQgLyAoMTAwMCAqIDYwICogNjApKSAlIDI0KTtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcih0IC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcblxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbDogdCxcbiAgICAgIGRheXM6IGRheXMgPD0gMCA/IDAgOiBkYXlzLFxuICAgICAgaG91cnM6IGhvdXJzIDw9IDAgPyAwIDogaG91cnMsXG4gICAgICBtaW51dGVzOiBtaW51dGVzIDw9IDAgPyAwIDogbWludXRlcyxcbiAgICAgIHNlY29uZHM6IHNlY29uZHMgPD0gMCA/IDAgOiBzZWNvbmRzLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIEhUTUwgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZW5kVGltZSBUaGUgZW5kIHRpbWVcbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIHVwZGF0ZUNsb2NrKGVuZFRpbWUpIHtcbiAgICBjb25zdCBkYXlzU3BhbiA9IHRoaXMuY2xvY2sucXVlcnlTZWxlY3RvcignLmd1dGVuYmVlLWNvdW50ZG93bi1kYXlzJyk7XG4gICAgY29uc3QgaG91cnNTcGFuID0gdGhpcy5jbG9jay5xdWVyeVNlbGVjdG9yKCcuZ3V0ZW5iZWUtY291bnRkb3duLWhvdXJzJyk7XG4gICAgY29uc3QgbWludXRlc1NwYW4gPSB0aGlzLmNsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5ndXRlbmJlZS1jb3VudGRvd24tbWludXRlcycpO1xuICAgIGNvbnN0IHNlY29uZHNTcGFuID0gdGhpcy5jbG9jay5xdWVyeVNlbGVjdG9yKCcuZ3V0ZW5iZWUtY291bnRkb3duLXNlY29uZHMnKTtcbiAgICBjb25zdCB0ID0gQ291bnRkb3duVGltZXIuZ2V0UmVtYWluaW5nVGltZShlbmRUaW1lKTtcblxuICAgIGlmIChkYXlzU3Bhbikge1xuICAgICAgZGF5c1NwYW4uaW5uZXJIVE1MID0gdC5kYXlzO1xuICAgIH1cblxuICAgIGlmIChob3Vyc1NwYW4pIHtcbiAgICAgIGhvdXJzU3Bhbi5pbm5lckhUTUwgPSBgMCR7dC5ob3Vyc31gLnNsaWNlKC0yKTtcbiAgICB9XG5cbiAgICBpZiAobWludXRlc1NwYW4pIHtcbiAgICAgIG1pbnV0ZXNTcGFuLmlubmVySFRNTCA9IGAwJHt0Lm1pbnV0ZXN9YC5zbGljZSgtMik7XG4gICAgfVxuXG4gICAgaWYgKHNlY29uZHNTcGFuKSB7XG4gICAgICBzZWNvbmRzU3Bhbi5pbm5lckhUTUwgPSBgMCR7dC5zZWNvbmRzfWAuc2xpY2UoLTIpO1xuICAgIH1cblxuICAgIGlmICh0LnRvdGFsIDw9IDApIHtcbiAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgY291bnRkb3duXG4gICAqXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBzdG9wKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gIH1cblxuICAvKipcbiAgICogXCJEZXN0cm95c1wiIHRoZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLmNsb2NrID0gbnVsbDtcbiAgICB0aGlzLmludGVydmFsID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb3VudGRvd25UaW1lcjtcbiJdLCJuYW1lcyI6WyJDb3VudGRvd25UaW1lciIsImNvbnN0cnVjdG9yIiwiZWxlbWVudCIsImVuZFRpbWUiLCJjbG9jayIsInVwZGF0ZUNsb2NrIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImdldFJlbWFpbmluZ1RpbWUiLCJ0IiwiRGF0ZSIsInBhcnNlIiwic2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsIm1pbnV0ZXMiLCJob3VycyIsImRheXMiLCJ0b3RhbCIsImRheXNTcGFuIiwicXVlcnlTZWxlY3RvciIsImhvdXJzU3BhbiIsIm1pbnV0ZXNTcGFuIiwic2Vjb25kc1NwYW4iLCJpbm5lckhUTUwiLCJzbGljZSIsInN0b3AiLCJjbGVhckludGVydmFsIiwiZGVzdHJveSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/util/CountdownTimer.js\n");

/***/ }),

/***/ "./src/util/isElementInViewport.js":
/*!*****************************************!*\
  !*** ./src/util/isElementInViewport.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Checks if element is in viewport.\n *\n * @param {HTMLElement} el The element.\n * @param {number} offset The offset in pixels.\n * @returns {boolean}\n */\nconst isElementInViewport = (el, offset = 0) => {\n  const scroll = window.scrollY || window.pageYOffset;\n  const boundsTop = el.getBoundingClientRect().top + scroll;\n  const viewport = {\n    top: scroll,\n    bottom: scroll + window.innerHeight\n  };\n  const bounds = {\n    top: boundsTop + offset,\n    bottom: boundsTop + el.clientHeight + offset\n  };\n  return bounds.bottom >= viewport.top && bounds.bottom <= viewport.bottom || bounds.top <= viewport.bottom && bounds.top >= viewport.top;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isElementInViewport);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbC9pc0VsZW1lbnRJblZpZXdwb3J0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1BLG1CQUFtQixHQUFHQSxDQUFDQyxFQUFFLEVBQUVDLE1BQU0sR0FBRyxDQUFDLEtBQUs7RUFDOUMsTUFBTUMsTUFBTSxHQUFHQyxNQUFNLENBQUNDLE9BQU8sSUFBSUQsTUFBTSxDQUFDRSxXQUFXO0VBQ25ELE1BQU1DLFNBQVMsR0FBR04sRUFBRSxDQUFDTyxxQkFBcUIsQ0FBQyxDQUFDLENBQUNDLEdBQUcsR0FBR04sTUFBTTtFQUV6RCxNQUFNTyxRQUFRLEdBQUc7SUFDZkQsR0FBRyxFQUFFTixNQUFNO0lBQ1hRLE1BQU0sRUFBRVIsTUFBTSxHQUFHQyxNQUFNLENBQUNRO0VBQzFCLENBQUM7RUFFRCxNQUFNQyxNQUFNLEdBQUc7SUFDYkosR0FBRyxFQUFFRixTQUFTLEdBQUdMLE1BQU07SUFDdkJTLE1BQU0sRUFBRUosU0FBUyxHQUFHTixFQUFFLENBQUNhLFlBQVksR0FBR1o7RUFDeEMsQ0FBQztFQUVELE9BQ0dXLE1BQU0sQ0FBQ0YsTUFBTSxJQUFJRCxRQUFRLENBQUNELEdBQUcsSUFBSUksTUFBTSxDQUFDRixNQUFNLElBQUlELFFBQVEsQ0FBQ0MsTUFBTSxJQUNqRUUsTUFBTSxDQUFDSixHQUFHLElBQUlDLFFBQVEsQ0FBQ0MsTUFBTSxJQUFJRSxNQUFNLENBQUNKLEdBQUcsSUFBSUMsUUFBUSxDQUFDRCxHQUFJO0FBRWpFLENBQUM7QUFFRCxpRUFBZVQsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvdXRpbC9pc0VsZW1lbnRJblZpZXdwb3J0LmpzP2Y0MzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgZWxlbWVudCBpcyBpbiB2aWV3cG9ydC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBUaGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgVGhlIG9mZnNldCBpbiBwaXhlbHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaXNFbGVtZW50SW5WaWV3cG9ydCA9IChlbCwgb2Zmc2V0ID0gMCkgPT4ge1xuICBjb25zdCBzY3JvbGwgPSB3aW5kb3cuc2Nyb2xsWSB8fCB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gIGNvbnN0IGJvdW5kc1RvcCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHNjcm9sbDtcblxuICBjb25zdCB2aWV3cG9ydCA9IHtcbiAgICB0b3A6IHNjcm9sbCxcbiAgICBib3R0b206IHNjcm9sbCArIHdpbmRvdy5pbm5lckhlaWdodCxcbiAgfTtcblxuICBjb25zdCBib3VuZHMgPSB7XG4gICAgdG9wOiBib3VuZHNUb3AgKyBvZmZzZXQsXG4gICAgYm90dG9tOiBib3VuZHNUb3AgKyBlbC5jbGllbnRIZWlnaHQgKyBvZmZzZXQsXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICAoYm91bmRzLmJvdHRvbSA+PSB2aWV3cG9ydC50b3AgJiYgYm91bmRzLmJvdHRvbSA8PSB2aWV3cG9ydC5ib3R0b20pIHx8XG4gICAgKGJvdW5kcy50b3AgPD0gdmlld3BvcnQuYm90dG9tICYmIGJvdW5kcy50b3AgPj0gdmlld3BvcnQudG9wKVxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaXNFbGVtZW50SW5WaWV3cG9ydDtcbiJdLCJuYW1lcyI6WyJpc0VsZW1lbnRJblZpZXdwb3J0IiwiZWwiLCJvZmZzZXQiLCJzY3JvbGwiLCJ3aW5kb3ciLCJzY3JvbGxZIiwicGFnZVlPZmZzZXQiLCJib3VuZHNUb3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJ2aWV3cG9ydCIsImJvdHRvbSIsImlubmVySGVpZ2h0IiwiYm91bmRzIiwiY2xpZW50SGVpZ2h0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/util/isElementInViewport.js\n");

/***/ }),

/***/ "./src/util/video/providers.js":
/*!*************************************!*\
  !*** ./src/util/video/providers.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getVideoProviderInfoByUrl\": () => (/* binding */ getVideoProviderInfoByUrl),\n/* harmony export */   \"maybeLoadVimeoApi\": () => (/* binding */ maybeLoadVimeoApi),\n/* harmony export */   \"maybeLoadYouTubeApi\": () => (/* binding */ maybeLoadYouTubeApi)\n/* harmony export */ });\n/**\n * Checks whether the YouTube API is loaded.\n *\n * @returns {boolean}\n */\nconst youTubeApiLoaded = () => {\n  return typeof window.YT?.Player !== 'undefined';\n};\n\n/**\n * Checks whether the Vimeo API is loaded.\n *\n * @returns {boolean}\n */\nconst vimeoApiLoaded = () => {\n  return typeof window.Vimeo?.Player !== 'undefined';\n};\n\n/**\n * Loads the YouTube API if it's not already loaded.\n *\n * @returns {Promise<boolean>}\n */\nconst maybeLoadYouTubeApi = () => {\n  if (!document.getElementById('gutenbee-youtube-api-script') && !youTubeApiLoaded()) {\n    const tag = document.createElement('script');\n    tag.id = 'gutenbee-youtube-api-script';\n    tag.src = 'https://www.youtube.com/player_api';\n    const firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  }\n  const apiLoaded = resolve => {\n    if (!youTubeApiLoaded()) {\n      setTimeout(() => apiLoaded(resolve), 350);\n      return;\n    }\n    resolve(true);\n  };\n  return new Promise((resolve, reject) => {\n    apiLoaded(resolve, reject);\n  });\n};\n\n/**\n * Loads the Vimeo API if it's not already loaded.\n *\n * @returns {Promise<boolean>}\n */\nconst maybeLoadVimeoApi = async () => {\n  if (!document.getElementById('gutenbee-vimeo-api-script') && !vimeoApiLoaded()) {\n    const tag = document.createElement('script');\n    tag.id = 'gutenbee-vimeo-api-script';\n    tag.src = 'https://player.vimeo.com/api/player.js';\n    const firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  }\n  const apiLoaded = resolve => {\n    if (!vimeoApiLoaded()) {\n      setTimeout(() => apiLoaded(resolve), 350);\n      return;\n    }\n    resolve(true);\n  };\n  return new Promise((resolve, reject) => {\n    apiLoaded(resolve, reject);\n  });\n};\n\n/**\n * Matches a particular array of patterns on a string.\n *\n * @param {string} str The string to be matched.\n * @param {Array} patterns An array of URL patterns to match.\n * @returns {boolean} Whether a pattern was matched.\n */\nconst matchesPatterns = (str, patterns = []) => patterns.some(pattern => str.match(pattern));\n\n/**\n * YouTube URL patterns.\n *\n * @type {RegExp[]}\n */\nconst youTubeUrlPatterns = [/^https?:\\/\\/((m|www)\\.)?youtube\\.com\\/.+/i, /^https?:\\/\\/youtu\\.be\\/.+/i];\n\n/**\n * Vimeo URL patterns.\n *\n * @type {RegExp[]}\n */\nconst vimeoUrlPatterns = [/^https?:\\/\\/(www\\.)?vimeo\\.com\\/.+/i];\n\n/**\n * Self hosted video URL patterns.\n *\n * @type {RegExp[]}\n */\nconst selfHostedVideoUrlPatterns = [/([a-zA-Z0-9\\s_\\\\.\\-\\(\\):])+(.webm|.mkv|.avi|.mov|.mp4|.ogg)/i];\n\n/**\n * Returns the Vimeo video ID based on the URL provided.\n * @see https://gist.github.com/takien/4077195#gistcomment-3410228\n *\n * @param {string} url The YouTube video URL.\n * @returns {string}\n */\nconst getYouTubeIdByUrl = url => {\n  const arr = url.split(/(vi\\/|v%3D|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\n  return undefined !== arr[2] ? arr[2].split(/[^\\w-]/i)[0] : arr[0];\n};\n\n/**\n * Returns the Vimeo video ID based on the URL provided.\n *\n * @param {string} url Vimeo video URL.\n * @returns {string} The video ID.\n */\nconst getVimeoIdByUrl = url => {\n  let id = null;\n  const request = new XMLHttpRequest();\n  request.open('GET', 'https://vimeo.com/api/oembed.json?url=' + url, false);\n  request.onload = function () {\n    if (request.status >= 200 && request.status < 400) {\n      const response = JSON.parse(request.responseText);\n      if (response.video_id) {\n        id = response.video_id;\n      }\n    }\n  };\n  request.send();\n  return id;\n};\n\n/**\n * Attempts to extract the video start time from a YouTube URL.\n *\n * @param url The YouTube URL.\n * @returns {string}\n */\nconst getYouTubeStartTimeFromUrl = url => {\n  if (!url) {\n    return;\n  }\n  const params = new URL(url).searchParams;\n  const time = params.get('t');\n  return time;\n};\n\n/**\n * Attempts to extract the video start time from a Vimeo URL.\n *\n * @param url The Vimeo URL.\n * @returns {string}\n */\nconst getVimeoStartTimeFromUrl = url => {\n  if (!url) {\n    return;\n  }\n  // Vimeo URLs are in the format of https://vimeo.com/546117812#t=10s\n  // so we convert the hash to a query param\n  const replaced = url.replace('#', '?');\n  const params = new URL(replaced).searchParams;\n  const time = params.get('t');\n  return time?.replace('s', '') ?? undefined;\n};\n\n/**\n * Takes in a URL and returns the matched provider's info (if any).\n *\n * @param {string} url The URL.\n * @returns {{provider: string, id: string}|null|{provider: string, id: null}}\n */\nconst getVideoProviderInfoByUrl = (url = '') => {\n  if (!url) {\n    return null;\n  }\n  if (matchesPatterns(url, youTubeUrlPatterns)) {\n    return {\n      id: getYouTubeIdByUrl(url),\n      provider: 'youtube',\n      url,\n      start: getYouTubeStartTimeFromUrl(url)\n    };\n  }\n  if (matchesPatterns(url, vimeoUrlPatterns)) {\n    return {\n      id: getVimeoIdByUrl(url),\n      provider: 'vimeo',\n      url,\n      start: getVimeoStartTimeFromUrl(url)\n    };\n  }\n  if (matchesPatterns(url, selfHostedVideoUrlPatterns)) {\n    return {\n      id: url,\n      provider: 'self',\n      url\n    };\n  }\n  return {\n    id: null,\n    provider: 'unsupported'\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFLEtBQUs7RUFDckQsSUFBSSxDQUFDQSxHQUFHLEVBQUU7SUFDUixPQUFPLElBQUk7RUFDYjtFQUVBLElBQUlWLGVBQWUsQ0FBQ1UsR0FBRyxFQUFFSixrQkFBa0IsQ0FBQyxFQUFFO0lBQzVDLE9BQU87TUFDTGxCLEVBQUUsRUFBRXFCLGlCQUFpQixDQUFDQyxHQUFHLENBQUM7TUFDMUIwQixRQUFRLEVBQUUsU0FBUztNQUNuQjFCLEdBQUc7TUFDSDJCLEtBQUssRUFBRVgsMEJBQTBCLENBQUNoQixHQUFHO0lBQ3ZDLENBQUM7RUFDSDtFQUVBLElBQUlWLGVBQWUsQ0FBQ1UsR0FBRyxFQUFFSCxnQkFBZ0IsQ0FBQyxFQUFFO0lBQzFDLE9BQU87TUFDTG5CLEVBQUUsRUFBRTBCLGVBQWUsQ0FBQ0osR0FBRyxDQUFDO01BQ3hCMEIsUUFBUSxFQUFFLE9BQU87TUFDakIxQixHQUFHO01BQ0gyQixLQUFLLEVBQUVMLHdCQUF3QixDQUFDdEIsR0FBRztJQUNyQyxDQUFDO0VBQ0g7RUFFQSxJQUFJVixlQUFlLENBQUNVLEdBQUcsRUFBRUYsMEJBQTBCLENBQUMsRUFBRTtJQUNwRCxPQUFPO01BQ0xwQixFQUFFLEVBQUVzQixHQUFHO01BQ1AwQixRQUFRLEVBQUUsTUFBTTtNQUNoQjFCO0lBQ0YsQ0FBQztFQUNIO0VBRUEsT0FBTztJQUNMdEIsRUFBRSxFQUFFLElBQUk7SUFDUmdELFFBQVEsRUFBRTtFQUNaLENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvdXRpbC92aWRlby9wcm92aWRlcnMuanM/NDZmNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBZb3VUdWJlIEFQSSBpcyBsb2FkZWQuXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IHlvdVR1YmVBcGlMb2FkZWQgPSAoKSA9PiB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93LllUPy5QbGF5ZXIgIT09ICd1bmRlZmluZWQnO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgVmltZW8gQVBJIGlzIGxvYWRlZC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgdmltZW9BcGlMb2FkZWQgPSAoKSA9PiB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93LlZpbWVvPy5QbGF5ZXIgIT09ICd1bmRlZmluZWQnO1xufTtcblxuLyoqXG4gKiBMb2FkcyB0aGUgWW91VHViZSBBUEkgaWYgaXQncyBub3QgYWxyZWFkeSBsb2FkZWQuXG4gKlxuICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gKi9cbmV4cG9ydCBjb25zdCBtYXliZUxvYWRZb3VUdWJlQXBpID0gKCkgPT4ge1xuICBpZiAoXG4gICAgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdndXRlbmJlZS15b3V0dWJlLWFwaS1zY3JpcHQnKSAmJlxuICAgICF5b3VUdWJlQXBpTG9hZGVkKClcbiAgKSB7XG4gICAgY29uc3QgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgdGFnLmlkID0gJ2d1dGVuYmVlLXlvdXR1YmUtYXBpLXNjcmlwdCc7XG4gICAgdGFnLnNyYyA9ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9wbGF5ZXJfYXBpJztcbiAgICBjb25zdCBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0U2NyaXB0VGFnKTtcbiAgfVxuXG4gIGNvbnN0IGFwaUxvYWRlZCA9IHJlc29sdmUgPT4ge1xuICAgIGlmICgheW91VHViZUFwaUxvYWRlZCgpKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IGFwaUxvYWRlZChyZXNvbHZlKSwgMzUwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXNvbHZlKHRydWUpO1xuICB9O1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgYXBpTG9hZGVkKHJlc29sdmUsIHJlamVjdCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBMb2FkcyB0aGUgVmltZW8gQVBJIGlmIGl0J3Mgbm90IGFscmVhZHkgbG9hZGVkLlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICovXG5leHBvcnQgY29uc3QgbWF5YmVMb2FkVmltZW9BcGkgPSBhc3luYyAoKSA9PiB7XG4gIGlmIChcbiAgICAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2d1dGVuYmVlLXZpbWVvLWFwaS1zY3JpcHQnKSAmJlxuICAgICF2aW1lb0FwaUxvYWRlZCgpXG4gICkge1xuICAgIGNvbnN0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHRhZy5pZCA9ICdndXRlbmJlZS12aW1lby1hcGktc2NyaXB0JztcbiAgICB0YWcuc3JjID0gJ2h0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS9hcGkvcGxheWVyLmpzJztcbiAgICBjb25zdCBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0U2NyaXB0VGFnKTtcbiAgfVxuXG4gIGNvbnN0IGFwaUxvYWRlZCA9IHJlc29sdmUgPT4ge1xuICAgIGlmICghdmltZW9BcGlMb2FkZWQoKSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBhcGlMb2FkZWQocmVzb2x2ZSksIDM1MCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVzb2x2ZSh0cnVlKTtcbiAgfTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGFwaUxvYWRlZChyZXNvbHZlLCByZWplY3QpO1xuICB9KTtcbn07XG5cbi8qKlxuICogTWF0Y2hlcyBhIHBhcnRpY3VsYXIgYXJyYXkgb2YgcGF0dGVybnMgb24gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGJlIG1hdGNoZWQuXG4gKiBAcGFyYW0ge0FycmF5fSBwYXR0ZXJucyBBbiBhcnJheSBvZiBVUkwgcGF0dGVybnMgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBhIHBhdHRlcm4gd2FzIG1hdGNoZWQuXG4gKi9cbmNvbnN0IG1hdGNoZXNQYXR0ZXJucyA9IChzdHIsIHBhdHRlcm5zID0gW10pID0+XG4gIHBhdHRlcm5zLnNvbWUocGF0dGVybiA9PiBzdHIubWF0Y2gocGF0dGVybikpO1xuXG4vKipcbiAqIFlvdVR1YmUgVVJMIHBhdHRlcm5zLlxuICpcbiAqIEB0eXBlIHtSZWdFeHBbXX1cbiAqL1xuY29uc3QgeW91VHViZVVybFBhdHRlcm5zID0gW1xuICAvXmh0dHBzPzpcXC9cXC8oKG18d3d3KVxcLik/eW91dHViZVxcLmNvbVxcLy4rL2ksXG4gIC9eaHR0cHM/OlxcL1xcL3lvdXR1XFwuYmVcXC8uKy9pLFxuXTtcblxuLyoqXG4gKiBWaW1lbyBVUkwgcGF0dGVybnMuXG4gKlxuICogQHR5cGUge1JlZ0V4cFtdfVxuICovXG5jb25zdCB2aW1lb1VybFBhdHRlcm5zID0gWy9eaHR0cHM/OlxcL1xcLyh3d3dcXC4pP3ZpbWVvXFwuY29tXFwvLisvaV07XG5cbi8qKlxuICogU2VsZiBob3N0ZWQgdmlkZW8gVVJMIHBhdHRlcm5zLlxuICpcbiAqIEB0eXBlIHtSZWdFeHBbXX1cbiAqL1xuY29uc3Qgc2VsZkhvc3RlZFZpZGVvVXJsUGF0dGVybnMgPSBbXG4gIC8oW2EtekEtWjAtOVxcc19cXFxcLlxcLVxcKFxcKTpdKSsoLndlYm18Lm1rdnwuYXZpfC5tb3Z8Lm1wNHwub2dnKS9pLFxuXTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBWaW1lbyB2aWRlbyBJRCBiYXNlZCBvbiB0aGUgVVJMIHByb3ZpZGVkLlxuICogQHNlZSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS90YWtpZW4vNDA3NzE5NSNnaXN0Y29tbWVudC0zNDEwMjI4XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgWW91VHViZSB2aWRlbyBVUkwuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCBnZXRZb3VUdWJlSWRCeVVybCA9IHVybCA9PiB7XG4gIGNvbnN0IGFyciA9IHVybC5zcGxpdCgvKHZpXFwvfHYlM0R8dj18XFwvdlxcL3x5b3V0dVxcLmJlXFwvfFxcL2VtYmVkXFwvKS8pO1xuICByZXR1cm4gdW5kZWZpbmVkICE9PSBhcnJbMl0gPyBhcnJbMl0uc3BsaXQoL1teXFx3LV0vaSlbMF0gOiBhcnJbMF07XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIFZpbWVvIHZpZGVvIElEIGJhc2VkIG9uIHRoZSBVUkwgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBWaW1lbyB2aWRlbyBVUkwuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgdmlkZW8gSUQuXG4gKi9cbmNvbnN0IGdldFZpbWVvSWRCeVVybCA9IHVybCA9PiB7XG4gIGxldCBpZCA9IG51bGw7XG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgcmVxdWVzdC5vcGVuKCdHRVQnLCAnaHR0cHM6Ly92aW1lby5jb20vYXBpL29lbWJlZC5qc29uP3VybD0nICsgdXJsLCBmYWxzZSk7XG5cbiAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAocmVxdWVzdC5zdGF0dXMgPj0gMjAwICYmIHJlcXVlc3Quc3RhdHVzIDwgNDAwKSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuXG4gICAgICBpZiAocmVzcG9uc2UudmlkZW9faWQpIHtcbiAgICAgICAgaWQgPSByZXNwb25zZS52aWRlb19pZDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmVxdWVzdC5zZW5kKCk7XG4gIHJldHVybiBpZDtcbn07XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gZXh0cmFjdCB0aGUgdmlkZW8gc3RhcnQgdGltZSBmcm9tIGEgWW91VHViZSBVUkwuXG4gKlxuICogQHBhcmFtIHVybCBUaGUgWW91VHViZSBVUkwuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCBnZXRZb3VUdWJlU3RhcnRUaW1lRnJvbVVybCA9IHVybCA9PiB7XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTCh1cmwpLnNlYXJjaFBhcmFtcztcbiAgY29uc3QgdGltZSA9IHBhcmFtcy5nZXQoJ3QnKTtcblxuICByZXR1cm4gdGltZTtcbn07XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gZXh0cmFjdCB0aGUgdmlkZW8gc3RhcnQgdGltZSBmcm9tIGEgVmltZW8gVVJMLlxuICpcbiAqIEBwYXJhbSB1cmwgVGhlIFZpbWVvIFVSTC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmNvbnN0IGdldFZpbWVvU3RhcnRUaW1lRnJvbVVybCA9IHVybCA9PiB7XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFZpbWVvIFVSTHMgYXJlIGluIHRoZSBmb3JtYXQgb2YgaHR0cHM6Ly92aW1lby5jb20vNTQ2MTE3ODEyI3Q9MTBzXG4gIC8vIHNvIHdlIGNvbnZlcnQgdGhlIGhhc2ggdG8gYSBxdWVyeSBwYXJhbVxuICBjb25zdCByZXBsYWNlZCA9IHVybC5yZXBsYWNlKCcjJywgJz8nKTtcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTChyZXBsYWNlZCkuc2VhcmNoUGFyYW1zO1xuICBjb25zdCB0aW1lID0gcGFyYW1zLmdldCgndCcpO1xuXG4gIHJldHVybiB0aW1lPy5yZXBsYWNlKCdzJywgJycpID8/IHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogVGFrZXMgaW4gYSBVUkwgYW5kIHJldHVybnMgdGhlIG1hdGNoZWQgcHJvdmlkZXIncyBpbmZvIChpZiBhbnkpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTC5cbiAqIEByZXR1cm5zIHt7cHJvdmlkZXI6IHN0cmluZywgaWQ6IHN0cmluZ318bnVsbHx7cHJvdmlkZXI6IHN0cmluZywgaWQ6IG51bGx9fVxuICovXG5leHBvcnQgY29uc3QgZ2V0VmlkZW9Qcm92aWRlckluZm9CeVVybCA9ICh1cmwgPSAnJykgPT4ge1xuICBpZiAoIXVybCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKG1hdGNoZXNQYXR0ZXJucyh1cmwsIHlvdVR1YmVVcmxQYXR0ZXJucykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGdldFlvdVR1YmVJZEJ5VXJsKHVybCksXG4gICAgICBwcm92aWRlcjogJ3lvdXR1YmUnLFxuICAgICAgdXJsLFxuICAgICAgc3RhcnQ6IGdldFlvdVR1YmVTdGFydFRpbWVGcm9tVXJsKHVybCksXG4gICAgfTtcbiAgfVxuXG4gIGlmIChtYXRjaGVzUGF0dGVybnModXJsLCB2aW1lb1VybFBhdHRlcm5zKSkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogZ2V0VmltZW9JZEJ5VXJsKHVybCksXG4gICAgICBwcm92aWRlcjogJ3ZpbWVvJyxcbiAgICAgIHVybCxcbiAgICAgIHN0YXJ0OiBnZXRWaW1lb1N0YXJ0VGltZUZyb21VcmwodXJsKSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKG1hdGNoZXNQYXR0ZXJucyh1cmwsIHNlbGZIb3N0ZWRWaWRlb1VybFBhdHRlcm5zKSkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdXJsLFxuICAgICAgcHJvdmlkZXI6ICdzZWxmJyxcbiAgICAgIHVybCxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogbnVsbCxcbiAgICBwcm92aWRlcjogJ3Vuc3VwcG9ydGVkJyxcbiAgfTtcbn07XG4iXSwibmFtZXMiOlsieW91VHViZUFwaUxvYWRlZCIsIndpbmRvdyIsIllUIiwiUGxheWVyIiwidmltZW9BcGlMb2FkZWQiLCJWaW1lbyIsIm1heWJlTG9hZFlvdVR1YmVBcGkiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidGFnIiwiY3JlYXRlRWxlbWVudCIsImlkIiwic3JjIiwiZmlyc3RTY3JpcHRUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJhcGlMb2FkZWQiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIlByb21pc2UiLCJyZWplY3QiLCJtYXliZUxvYWRWaW1lb0FwaSIsIm1hdGNoZXNQYXR0ZXJucyIsInN0ciIsInBhdHRlcm5zIiwic29tZSIsInBhdHRlcm4iLCJtYXRjaCIsInlvdVR1YmVVcmxQYXR0ZXJucyIsInZpbWVvVXJsUGF0dGVybnMiLCJzZWxmSG9zdGVkVmlkZW9VcmxQYXR0ZXJucyIsImdldFlvdVR1YmVJZEJ5VXJsIiwidXJsIiwiYXJyIiwic3BsaXQiLCJ1bmRlZmluZWQiLCJnZXRWaW1lb0lkQnlVcmwiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25sb2FkIiwic3RhdHVzIiwicmVzcG9uc2UiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJ2aWRlb19pZCIsInNlbmQiLCJnZXRZb3VUdWJlU3RhcnRUaW1lRnJvbVVybCIsInBhcmFtcyIsIlVSTCIsInNlYXJjaFBhcmFtcyIsInRpbWUiLCJnZXQiLCJnZXRWaW1lb1N0YXJ0VGltZUZyb21VcmwiLCJyZXBsYWNlZCIsInJlcGxhY2UiLCJnZXRWaWRlb1Byb3ZpZGVySW5mb0J5VXJsIiwicHJvdmlkZXIiLCJzdGFydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/util/video/providers.js\n");

/***/ }),

/***/ "./node_modules/countup/dist/countUp.min.js":
/*!**************************************************!*\
  !*** ./node_modules/countup/dist/countUp.min.js ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;!function(a,t){ true?!(__WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0}(this,function(a,t,n){var e=function(a,t,n,e,i,r){for(var o=0,s=[\"webkit\",\"moz\",\"ms\",\"o\"],m=0;m<s.length&&!window.requestAnimationFrame;++m)window.requestAnimationFrame=window[s[m]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[s[m]+\"CancelAnimationFrame\"]||window[s[m]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,t){var n=(new Date).getTime(),e=Math.max(0,16-(n-o)),i=window.setTimeout(function(){a(n+e)},e);return o=n+e,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var u=this;u.options={useEasing:!0,useGrouping:!0,separator:\",\",decimal:\".\",easingFn:null,formattingFn:null};for(var l in r)r.hasOwnProperty(l)&&(u.options[l]=r[l]);\"\"===u.options.separator&&(u.options.useGrouping=!1),u.options.prefix||(u.options.prefix=\"\"),u.options.suffix||(u.options.suffix=\"\"),u.d=\"string\"==typeof a?document.getElementById(a):a,u.startVal=Number(t),u.endVal=Number(n),u.countDown=u.startVal>u.endVal,u.frameVal=u.startVal,u.decimals=Math.max(0,e||0),u.dec=Math.pow(10,u.decimals),u.duration=1e3*Number(i)||2e3,u.formatNumber=function(a){a=a.toFixed(u.decimals),a+=\"\";var t,n,e,i;if(t=a.split(\".\"),n=t[0],e=t.length>1?u.options.decimal+t[1]:\"\",i=/(\\d+)(\\d{3})/,u.options.useGrouping)for(;i.test(n);)n=n.replace(i,\"$1\"+u.options.separator+\"$2\");return u.options.prefix+n+e+u.options.suffix},u.easeOutExpo=function(a,t,n,e){return n*(-Math.pow(2,-10*a/e)+1)*1024/1023+t},u.easingFn=u.options.easingFn?u.options.easingFn:u.easeOutExpo,u.formattingFn=u.options.formattingFn?u.options.formattingFn:u.formatNumber,u.version=function(){return\"1.7.1\"},u.printValue=function(a){var t=u.formattingFn(a);\"INPUT\"===u.d.tagName?this.d.value=t:\"text\"===u.d.tagName||\"tspan\"===u.d.tagName?this.d.textContent=t:this.d.innerHTML=t},u.count=function(a){u.startTime||(u.startTime=a),u.timestamp=a;var t=a-u.startTime;u.remaining=u.duration-t,u.options.useEasing?u.countDown?u.frameVal=u.startVal-u.easingFn(t,0,u.startVal-u.endVal,u.duration):u.frameVal=u.easingFn(t,u.startVal,u.endVal-u.startVal,u.duration):u.countDown?u.frameVal=u.startVal-(u.startVal-u.endVal)*(t/u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(t/u.duration),u.countDown?u.frameVal=u.frameVal<u.endVal?u.endVal:u.frameVal:u.frameVal=u.frameVal>u.endVal?u.endVal:u.frameVal,u.frameVal=Math.round(u.frameVal*u.dec)/u.dec,u.printValue(u.frameVal),t<u.duration?u.rAF=requestAnimationFrame(u.count):u.callback&&u.callback()},u.start=function(a){return u.callback=a,u.rAF=requestAnimationFrame(u.count),!1},u.pauseResume=function(){u.paused?(u.paused=!1,delete u.startTime,u.duration=u.remaining,u.startVal=u.frameVal,requestAnimationFrame(u.count)):(u.paused=!0,cancelAnimationFrame(u.rAF))},u.reset=function(){u.paused=!1,delete u.startTime,u.startVal=t,cancelAnimationFrame(u.rAF),u.printValue(u.startVal)},u.update=function(a){cancelAnimationFrame(u.rAF),u.paused=!1,delete u.startTime,u.startVal=u.frameVal,u.endVal=Number(a),u.countDown=u.startVal>u.endVal,u.rAF=requestAnimationFrame(u.count)},u.printValue(u.startVal)};return e});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY291bnR1cC9kaXN0L2NvdW50VXAubWluLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlGQUFlLEtBQXFDLENBQUMsb0NBQU8sQ0FBQztBQUFBO0FBQUE7QUFBQTtBQUFBLGtHQUFDLENBQUMsQ0FBK0UsQ0FBQyxzQkFBc0IsNEJBQTRCLDRDQUE0QywwQ0FBMEMsa0xBQWtMLDBFQUEwRSxpRkFBaUYsT0FBTyxJQUFJLGVBQWUsd0VBQXdFLGdCQUFnQixFQUFFLFdBQVcsV0FBVyx1RkFBdUYsd0RBQXdELDBZQUEwWSw4QkFBOEIsWUFBWSw0RUFBNEUsRUFBRSw4QkFBOEIsVUFBVSw4Q0FBOEMsNkNBQTZDLGlDQUFpQyw4Q0FBOEMsaUtBQWlLLGNBQWMsMEJBQTBCLHdCQUF3Qix5SEFBeUgscUJBQXFCLDJDQUEyQyxvQkFBb0IsdWtCQUF1a0IscUJBQXFCLDREQUE0RCwwQkFBMEIsZ0tBQWdLLG9CQUFvQixpR0FBaUcsc0JBQXNCLHlLQUF5SywyQkFBMkIsU0FBUyIsInNvdXJjZXMiOlsid2VicGFjazovL3dwLy4vbm9kZV9tb2R1bGVzL2NvdW50dXAvZGlzdC9jb3VudFVwLm1pbi5qcz81N2YyIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihhLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlLGV4cG9ydHMsbW9kdWxlKTphLkNvdW50VXA9dCgpfSh0aGlzLGZ1bmN0aW9uKGEsdCxuKXt2YXIgZT1mdW5jdGlvbihhLHQsbixlLGkscil7Zm9yKHZhciBvPTAscz1bXCJ3ZWJraXRcIixcIm1velwiLFwibXNcIixcIm9cIl0sbT0wO208cy5sZW5ndGgmJiF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOysrbSl3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXdpbmRvd1tzW21dK1wiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT13aW5kb3dbc1ttXStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHx3aW5kb3dbc1ttXStcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTt3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbihhLHQpe3ZhciBuPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGU9TWF0aC5tYXgoMCwxNi0obi1vKSksaT13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EobitlKX0sZSk7cmV0dXJuIG89bitlLGl9KSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfSk7dmFyIHU9dGhpczt1Lm9wdGlvbnM9e3VzZUVhc2luZzohMCx1c2VHcm91cGluZzohMCxzZXBhcmF0b3I6XCIsXCIsZGVjaW1hbDpcIi5cIixlYXNpbmdGbjpudWxsLGZvcm1hdHRpbmdGbjpudWxsfTtmb3IodmFyIGwgaW4gcilyLmhhc093blByb3BlcnR5KGwpJiYodS5vcHRpb25zW2xdPXJbbF0pO1wiXCI9PT11Lm9wdGlvbnMuc2VwYXJhdG9yJiYodS5vcHRpb25zLnVzZUdyb3VwaW5nPSExKSx1Lm9wdGlvbnMucHJlZml4fHwodS5vcHRpb25zLnByZWZpeD1cIlwiKSx1Lm9wdGlvbnMuc3VmZml4fHwodS5vcHRpb25zLnN1ZmZpeD1cIlwiKSx1LmQ9XCJzdHJpbmdcIj09dHlwZW9mIGE/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSk6YSx1LnN0YXJ0VmFsPU51bWJlcih0KSx1LmVuZFZhbD1OdW1iZXIobiksdS5jb3VudERvd249dS5zdGFydFZhbD51LmVuZFZhbCx1LmZyYW1lVmFsPXUuc3RhcnRWYWwsdS5kZWNpbWFscz1NYXRoLm1heCgwLGV8fDApLHUuZGVjPU1hdGgucG93KDEwLHUuZGVjaW1hbHMpLHUuZHVyYXRpb249MWUzKk51bWJlcihpKXx8MmUzLHUuZm9ybWF0TnVtYmVyPWZ1bmN0aW9uKGEpe2E9YS50b0ZpeGVkKHUuZGVjaW1hbHMpLGErPVwiXCI7dmFyIHQsbixlLGk7aWYodD1hLnNwbGl0KFwiLlwiKSxuPXRbMF0sZT10Lmxlbmd0aD4xP3Uub3B0aW9ucy5kZWNpbWFsK3RbMV06XCJcIixpPS8oXFxkKykoXFxkezN9KS8sdS5vcHRpb25zLnVzZUdyb3VwaW5nKWZvcig7aS50ZXN0KG4pOyluPW4ucmVwbGFjZShpLFwiJDFcIit1Lm9wdGlvbnMuc2VwYXJhdG9yK1wiJDJcIik7cmV0dXJuIHUub3B0aW9ucy5wcmVmaXgrbitlK3Uub3B0aW9ucy5zdWZmaXh9LHUuZWFzZU91dEV4cG89ZnVuY3Rpb24oYSx0LG4sZSl7cmV0dXJuIG4qKC1NYXRoLnBvdygyLC0xMCphL2UpKzEpKjEwMjQvMTAyMyt0fSx1LmVhc2luZ0ZuPXUub3B0aW9ucy5lYXNpbmdGbj91Lm9wdGlvbnMuZWFzaW5nRm46dS5lYXNlT3V0RXhwbyx1LmZvcm1hdHRpbmdGbj11Lm9wdGlvbnMuZm9ybWF0dGluZ0ZuP3Uub3B0aW9ucy5mb3JtYXR0aW5nRm46dS5mb3JtYXROdW1iZXIsdS52ZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuXCIxLjcuMVwifSx1LnByaW50VmFsdWU9ZnVuY3Rpb24oYSl7dmFyIHQ9dS5mb3JtYXR0aW5nRm4oYSk7XCJJTlBVVFwiPT09dS5kLnRhZ05hbWU/dGhpcy5kLnZhbHVlPXQ6XCJ0ZXh0XCI9PT11LmQudGFnTmFtZXx8XCJ0c3BhblwiPT09dS5kLnRhZ05hbWU/dGhpcy5kLnRleHRDb250ZW50PXQ6dGhpcy5kLmlubmVySFRNTD10fSx1LmNvdW50PWZ1bmN0aW9uKGEpe3Uuc3RhcnRUaW1lfHwodS5zdGFydFRpbWU9YSksdS50aW1lc3RhbXA9YTt2YXIgdD1hLXUuc3RhcnRUaW1lO3UucmVtYWluaW5nPXUuZHVyYXRpb24tdCx1Lm9wdGlvbnMudXNlRWFzaW5nP3UuY291bnREb3duP3UuZnJhbWVWYWw9dS5zdGFydFZhbC11LmVhc2luZ0ZuKHQsMCx1LnN0YXJ0VmFsLXUuZW5kVmFsLHUuZHVyYXRpb24pOnUuZnJhbWVWYWw9dS5lYXNpbmdGbih0LHUuc3RhcnRWYWwsdS5lbmRWYWwtdS5zdGFydFZhbCx1LmR1cmF0aW9uKTp1LmNvdW50RG93bj91LmZyYW1lVmFsPXUuc3RhcnRWYWwtKHUuc3RhcnRWYWwtdS5lbmRWYWwpKih0L3UuZHVyYXRpb24pOnUuZnJhbWVWYWw9dS5zdGFydFZhbCsodS5lbmRWYWwtdS5zdGFydFZhbCkqKHQvdS5kdXJhdGlvbiksdS5jb3VudERvd24/dS5mcmFtZVZhbD11LmZyYW1lVmFsPHUuZW5kVmFsP3UuZW5kVmFsOnUuZnJhbWVWYWw6dS5mcmFtZVZhbD11LmZyYW1lVmFsPnUuZW5kVmFsP3UuZW5kVmFsOnUuZnJhbWVWYWwsdS5mcmFtZVZhbD1NYXRoLnJvdW5kKHUuZnJhbWVWYWwqdS5kZWMpL3UuZGVjLHUucHJpbnRWYWx1ZSh1LmZyYW1lVmFsKSx0PHUuZHVyYXRpb24/dS5yQUY9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUuY291bnQpOnUuY2FsbGJhY2smJnUuY2FsbGJhY2soKX0sdS5zdGFydD1mdW5jdGlvbihhKXtyZXR1cm4gdS5jYWxsYmFjaz1hLHUuckFGPXJlcXVlc3RBbmltYXRpb25GcmFtZSh1LmNvdW50KSwhMX0sdS5wYXVzZVJlc3VtZT1mdW5jdGlvbigpe3UucGF1c2VkPyh1LnBhdXNlZD0hMSxkZWxldGUgdS5zdGFydFRpbWUsdS5kdXJhdGlvbj11LnJlbWFpbmluZyx1LnN0YXJ0VmFsPXUuZnJhbWVWYWwscmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUuY291bnQpKToodS5wYXVzZWQ9ITAsY2FuY2VsQW5pbWF0aW9uRnJhbWUodS5yQUYpKX0sdS5yZXNldD1mdW5jdGlvbigpe3UucGF1c2VkPSExLGRlbGV0ZSB1LnN0YXJ0VGltZSx1LnN0YXJ0VmFsPXQsY2FuY2VsQW5pbWF0aW9uRnJhbWUodS5yQUYpLHUucHJpbnRWYWx1ZSh1LnN0YXJ0VmFsKX0sdS51cGRhdGU9ZnVuY3Rpb24oYSl7Y2FuY2VsQW5pbWF0aW9uRnJhbWUodS5yQUYpLHUucGF1c2VkPSExLGRlbGV0ZSB1LnN0YXJ0VGltZSx1LnN0YXJ0VmFsPXUuZnJhbWVWYWwsdS5lbmRWYWw9TnVtYmVyKGEpLHUuY291bnREb3duPXUuc3RhcnRWYWw+dS5lbmRWYWwsdS5yQUY9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUuY291bnQpfSx1LnByaW50VmFsdWUodS5zdGFydFZhbCl9O3JldHVybiBlfSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/countup/dist/countUp.min.js\n");

/***/ }),

/***/ "./node_modules/justifiedGallery/dist/js/jquery.justifiedGallery.js":
/*!**************************************************************************!*\
  !*** ./node_modules/justifiedGallery/dist/js/jquery.justifiedGallery.js ***!
  \**************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * justifiedGallery - v3.7.0\n * http://miromannino.github.io/Justified-Gallery/\n * Copyright (c) 2018 Miro Mannino\n * Licensed under the MIT license.\n */\n(function (factory) {\n  if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"jquery\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(function ($) {\n\n  /**\n   * Justified Gallery controller constructor\n   *\n   * @param $gallery the gallery to build\n   * @param settings the settings (the defaults are in JustifiedGallery.defaults)\n   * @constructor\n   */\n  var JustifiedGallery = function ($gallery, settings) {\n  \n    this.settings = settings;\n    this.checkSettings();\n  \n    this.imgAnalyzerTimeout = null;\n    this.entries = null;\n    this.buildingRow = {\n      entriesBuff : [],\n      width : 0,\n      height : 0,\n      aspectRatio : 0\n    };\n    this.lastFetchedEntry = null;\n    this.lastAnalyzedIndex = -1;\n    this.yield = {\n      every : 2, // do a flush every n flushes (must be greater than 1)\n      flushed : 0 // flushed rows without a yield\n    };\n    this.border = settings.border >= 0 ? settings.border : settings.margins;\n    this.maxRowHeight = this.retrieveMaxRowHeight();\n    this.suffixRanges = this.retrieveSuffixRanges();\n    this.offY = this.border;\n    this.rows = 0;\n    this.spinner = {\n      phase : 0,\n      timeSlot : 150,\n      $el : $('<div class=\"spinner\"><span></span><span></span><span></span></div>'),\n      intervalId : null\n    };\n    this.scrollBarOn = false;\n    this.checkWidthIntervalId = null;\n    this.galleryWidth = $gallery.width();\n    this.$gallery = $gallery;\n  \n  };\n  \n  /** @returns {String} the best suffix given the width and the height */\n  JustifiedGallery.prototype.getSuffix = function (width, height) {\n    var longestSide, i;\n    longestSide = (width > height) ? width : height;\n    for (i = 0; i < this.suffixRanges.length; i++) {\n      if (longestSide <= this.suffixRanges[i]) {\n        return this.settings.sizeRangeSuffixes[this.suffixRanges[i]];\n      }\n    }\n    return this.settings.sizeRangeSuffixes[this.suffixRanges[i - 1]];\n  };\n  \n  /**\n   * Remove the suffix from the string\n   *\n   * @returns {string} a new string without the suffix\n   */\n  JustifiedGallery.prototype.removeSuffix = function (str, suffix) {\n    return str.substring(0, str.length - suffix.length);\n  };\n  \n  /**\n   * @returns {boolean} a boolean to say if the suffix is contained in the str or not\n   */\n  JustifiedGallery.prototype.endsWith = function (str, suffix) {\n    return str.indexOf(suffix, str.length - suffix.length) !== -1;\n  };\n  \n  /**\n   * Get the used suffix of a particular url\n   *\n   * @param str\n   * @returns {String} return the used suffix\n   */\n  JustifiedGallery.prototype.getUsedSuffix = function (str) {\n    for (var si in this.settings.sizeRangeSuffixes) {\n      if (this.settings.sizeRangeSuffixes.hasOwnProperty(si)) {\n        if (this.settings.sizeRangeSuffixes[si].length === 0) continue;\n        if (this.endsWith(str, this.settings.sizeRangeSuffixes[si])) return this.settings.sizeRangeSuffixes[si];\n      }\n    }\n    return '';\n  };\n  \n  /**\n   * Given an image src, with the width and the height, returns the new image src with the\n   * best suffix to show the best quality thumbnail.\n   *\n   * @returns {String} the suffix to use\n   */\n  JustifiedGallery.prototype.newSrc = function (imageSrc, imgWidth, imgHeight, image) {\n    var newImageSrc;\n  \n    if (this.settings.thumbnailPath) {\n      newImageSrc = this.settings.thumbnailPath(imageSrc, imgWidth, imgHeight, image);\n    } else {\n      var matchRes = imageSrc.match(this.settings.extension);\n      var ext = (matchRes !== null) ? matchRes[0] : '';\n      newImageSrc = imageSrc.replace(this.settings.extension, '');\n      newImageSrc = this.removeSuffix(newImageSrc, this.getUsedSuffix(newImageSrc));\n      newImageSrc += this.getSuffix(imgWidth, imgHeight) + ext;\n    }\n  \n    return newImageSrc;\n  };\n  \n  /**\n   * Shows the images that is in the given entry\n   *\n   * @param $entry the entry\n   * @param callback the callback that is called when the show animation is finished\n   */\n  JustifiedGallery.prototype.showImg = function ($entry, callback) {\n    if (this.settings.cssAnimation) {\n      $entry.addClass('entry-visible');\n      if (callback) callback();\n    } else {\n      $entry.stop().fadeTo(this.settings.imagesAnimationDuration, 1.0, callback);\n      $entry.find(this.settings.imgSelector).stop().fadeTo(this.settings.imagesAnimationDuration, 1.0, callback);\n    }\n  };\n  \n  /**\n   * Extract the image src form the image, looking from the 'safe-src', and if it can't be found, from the\n   * 'src' attribute. It saves in the image data the 'jg.originalSrc' field, with the extracted src.\n   *\n   * @param $image the image to analyze\n   * @returns {String} the extracted src\n   */\n  JustifiedGallery.prototype.extractImgSrcFromImage = function ($image) {\n    var imageSrc = (typeof $image.data('safe-src') !== 'undefined') ? $image.data('safe-src') : $image.attr('src');\n    $image.data('jg.originalSrc', imageSrc);\n    return imageSrc;\n  };\n  \n  /** @returns {jQuery} the image in the given entry */\n  JustifiedGallery.prototype.imgFromEntry = function ($entry) {\n    var $img = $entry.find(this.settings.imgSelector);\n    return $img.length === 0 ? null : $img;\n  };\n  \n  /** @returns {jQuery} the caption in the given entry */\n  JustifiedGallery.prototype.captionFromEntry = function ($entry) {\n    var $caption = $entry.find('> .caption');\n    return $caption.length === 0 ? null : $caption;\n  };\n  \n  /**\n   * Display the entry\n   *\n   * @param {jQuery} $entry the entry to display\n   * @param {int} x the x position where the entry must be positioned\n   * @param y the y position where the entry must be positioned\n   * @param imgWidth the image width\n   * @param imgHeight the image height\n   * @param rowHeight the row height of the row that owns the entry\n   */\n  JustifiedGallery.prototype.displayEntry = function ($entry, x, y, imgWidth, imgHeight, rowHeight) {\n    $entry.width(imgWidth);\n    $entry.height(rowHeight);\n    $entry.css('top', y);\n    $entry.css('left', x);\n  \n    var $image = this.imgFromEntry($entry);\n    if ($image !== null) {\n      $image.css('width', imgWidth);\n      $image.css('height', imgHeight);\n      $image.css('margin-left', - imgWidth / 2);\n      $image.css('margin-top', - imgHeight / 2);\n  \n      // Image reloading for an high quality of thumbnails\n      var imageSrc = $image.attr('src');\n      var newImageSrc = this.newSrc(imageSrc, imgWidth, imgHeight, $image[0]);\n  \n      $image.one('error', function () {\n        $image.attr('src', $image.data('jg.originalSrc')); //revert to the original thumbnail, we got it.\n      });\n  \n      var loadNewImage = function () {\n        if (imageSrc !== newImageSrc) { //load the new image after the fadeIn\n          $image.attr('src', newImageSrc);\n        }\n      };\n  \n      if ($entry.data('jg.loaded') === 'skipped') {\n        this.onImageEvent(imageSrc, $.proxy(function() {\n          this.showImg($entry, loadNewImage);\n          $entry.data('jg.loaded', true);\n        }, this));\n      } else {\n        this.showImg($entry, loadNewImage);\n      }\n  \n    } else {\n      this.showImg($entry);\n    }\n  \n    this.displayEntryCaption($entry);\n  };\n  \n  /**\n   * Display the entry caption. If the caption element doesn't exists, it creates the caption using the 'alt'\n   * or the 'title' attributes.\n   *\n   * @param {jQuery} $entry the entry to process\n   */\n  JustifiedGallery.prototype.displayEntryCaption = function ($entry) {\n    var $image = this.imgFromEntry($entry);\n    if ($image !== null && this.settings.captions) {\n      var $imgCaption = this.captionFromEntry($entry);\n  \n      // Create it if it doesn't exists\n      if ($imgCaption === null) {\n        var caption = $image.attr('alt');\n        if (!this.isValidCaption(caption)) caption = $entry.attr('title');\n        if (this.isValidCaption(caption)) { // Create only we found something\n          $imgCaption = $('<div class=\"caption\">' + caption + '</div>');\n          $entry.append($imgCaption);\n          $entry.data('jg.createdCaption', true);\n        }\n      }\n  \n      // Create events (we check again the $imgCaption because it can be still inexistent)\n      if ($imgCaption !== null) {\n        if (!this.settings.cssAnimation) $imgCaption.stop().fadeTo(0, this.settings.captionSettings.nonVisibleOpacity);\n        this.addCaptionEventsHandlers($entry);\n      }\n    } else {\n      this.removeCaptionEventsHandlers($entry);\n    }\n  };\n  \n  /**\n   * Validates the caption\n   *\n   * @param caption The caption that should be validated\n   * @return {boolean} Validation result\n   */\n  JustifiedGallery.prototype.isValidCaption = function (caption) {\n    return (typeof caption !== 'undefined' && caption.length > 0);\n  };\n  \n  /**\n   * The callback for the event 'mouseenter'. It assumes that the event currentTarget is an entry.\n   * It shows the caption using jQuery (or using CSS if it is configured so)\n   *\n   * @param {Event} eventObject the event object\n   */\n  JustifiedGallery.prototype.onEntryMouseEnterForCaption = function (eventObject) {\n    var $caption = this.captionFromEntry($(eventObject.currentTarget));\n    if (this.settings.cssAnimation) {\n      $caption.addClass('caption-visible').removeClass('caption-hidden');\n    } else {\n      $caption.stop().fadeTo(this.settings.captionSettings.animationDuration,\n          this.settings.captionSettings.visibleOpacity);\n    }\n  };\n  \n  /**\n   * The callback for the event 'mouseleave'. It assumes that the event currentTarget is an entry.\n   * It hides the caption using jQuery (or using CSS if it is configured so)\n   *\n   * @param {Event} eventObject the event object\n   */\n  JustifiedGallery.prototype.onEntryMouseLeaveForCaption = function (eventObject) {\n    var $caption = this.captionFromEntry($(eventObject.currentTarget));\n    if (this.settings.cssAnimation) {\n      $caption.removeClass('caption-visible').removeClass('caption-hidden');\n    } else {\n      $caption.stop().fadeTo(this.settings.captionSettings.animationDuration,\n          this.settings.captionSettings.nonVisibleOpacity);\n    }\n  };\n  \n  /**\n   * Add the handlers of the entry for the caption\n   *\n   * @param $entry the entry to modify\n   */\n  JustifiedGallery.prototype.addCaptionEventsHandlers = function ($entry) {\n    var captionMouseEvents = $entry.data('jg.captionMouseEvents');\n    if (typeof captionMouseEvents === 'undefined') {\n      captionMouseEvents = {\n        mouseenter: $.proxy(this.onEntryMouseEnterForCaption, this),\n        mouseleave: $.proxy(this.onEntryMouseLeaveForCaption, this)\n      };\n      $entry.on('mouseenter', undefined, undefined, captionMouseEvents.mouseenter);\n      $entry.on('mouseleave', undefined, undefined, captionMouseEvents.mouseleave);\n      $entry.data('jg.captionMouseEvents', captionMouseEvents);\n    }\n  };\n  \n  /**\n   * Remove the handlers of the entry for the caption\n   *\n   * @param $entry the entry to modify\n   */\n  JustifiedGallery.prototype.removeCaptionEventsHandlers = function ($entry) {\n    var captionMouseEvents = $entry.data('jg.captionMouseEvents');\n    if (typeof captionMouseEvents !== 'undefined') {\n      $entry.off('mouseenter', undefined, captionMouseEvents.mouseenter);\n      $entry.off('mouseleave', undefined, captionMouseEvents.mouseleave);\n      $entry.removeData('jg.captionMouseEvents');\n    }\n  };\n  \n  /**\n   * Clear the building row data to be used for a new row\n   */\n  JustifiedGallery.prototype.clearBuildingRow = function () {\n    this.buildingRow.entriesBuff = [];\n    this.buildingRow.aspectRatio = 0;\n    this.buildingRow.width = 0;\n  };\n  \n  /**\n   * Justify the building row, preparing it to\n   *\n   * @param isLastRow\n   * @returns a boolean to know if the row has been justified or not\n   */\n  JustifiedGallery.prototype.prepareBuildingRow = function (isLastRow) {\n    var i, $entry, imgAspectRatio, newImgW, newImgH, justify = true;\n    var minHeight = 0;\n    var availableWidth = this.galleryWidth - 2 * this.border - (\n        (this.buildingRow.entriesBuff.length - 1) * this.settings.margins);\n    var rowHeight = availableWidth / this.buildingRow.aspectRatio;\n    var defaultRowHeight = this.settings.rowHeight;\n    var justifiable = this.buildingRow.width / availableWidth > this.settings.justifyThreshold;\n  \n    //Skip the last row if we can't justify it and the lastRow == 'hide'\n    if (isLastRow && this.settings.lastRow === 'hide' && !justifiable) {\n      for (i = 0; i < this.buildingRow.entriesBuff.length; i++) {\n        $entry = this.buildingRow.entriesBuff[i];\n        if (this.settings.cssAnimation)\n          $entry.removeClass('entry-visible');\n        else {\n          $entry.stop().fadeTo(0, 0.1);\n          $entry.find('> img, > a > img').fadeTo(0, 0);\n        }\n      }\n      return -1;\n    }\n  \n    // With lastRow = nojustify, justify if is justificable (the images will not become too big)\n    if (isLastRow && !justifiable && this.settings.lastRow !== 'justify' && this.settings.lastRow !== 'hide') {\n      justify = false;\n  \n      if (this.rows > 0) {\n        defaultRowHeight = (this.offY - this.border - this.settings.margins * this.rows) / this.rows;\n        justify = defaultRowHeight * this.buildingRow.aspectRatio / availableWidth > this.settings.justifyThreshold;\n      }\n    }\n  \n    for (i = 0; i < this.buildingRow.entriesBuff.length; i++) {\n      $entry = this.buildingRow.entriesBuff[i];\n      imgAspectRatio = $entry.data('jg.width') / $entry.data('jg.height');\n  \n      if (justify) {\n        newImgW = (i === this.buildingRow.entriesBuff.length - 1) ? availableWidth : rowHeight * imgAspectRatio;\n        newImgH = rowHeight;\n      } else {\n        newImgW = defaultRowHeight * imgAspectRatio;\n        newImgH = defaultRowHeight;\n      }\n  \n      availableWidth -= Math.round(newImgW);\n      $entry.data('jg.jwidth', Math.round(newImgW));\n      $entry.data('jg.jheight', Math.ceil(newImgH));\n      if (i === 0 || minHeight > newImgH) minHeight = newImgH;\n    }\n  \n    this.buildingRow.height = minHeight;\n    return justify;\n  };\n  \n  /**\n   * Flush a row: justify it, modify the gallery height accordingly to the row height\n   *\n   * @param isLastRow\n   */\n  JustifiedGallery.prototype.flushRow = function (isLastRow) {\n    var settings = this.settings;\n    var $entry, buildingRowRes, offX = this.border, i;\n  \n    buildingRowRes = this.prepareBuildingRow(isLastRow);\n    if (isLastRow && settings.lastRow === 'hide' && buildingRowRes === -1) {\n      this.clearBuildingRow();\n      return;\n    }\n  \n    if(this.maxRowHeight) {\n      if(this.maxRowHeight < this.buildingRow.height)  this.buildingRow.height = this.maxRowHeight;\n    }\n  \n    //Align last (unjustified) row\n    if (isLastRow && (settings.lastRow === 'center' || settings.lastRow === 'right')) {\n      var availableWidth = this.galleryWidth - 2 * this.border - (this.buildingRow.entriesBuff.length - 1) * settings.margins;\n  \n      for (i = 0; i < this.buildingRow.entriesBuff.length; i++) {\n        $entry = this.buildingRow.entriesBuff[i];\n        availableWidth -= $entry.data('jg.jwidth');\n      }\n  \n      if (settings.lastRow === 'center')\n        offX += availableWidth / 2;\n      else if (settings.lastRow === 'right')\n        offX += availableWidth;\n    }\n  \n    var lastEntryIdx = this.buildingRow.entriesBuff.length - 1;\n    for (i = 0; i <= lastEntryIdx; i++) {\n      $entry = this.buildingRow.entriesBuff[ this.settings.rtl ? lastEntryIdx - i : i ];\n      this.displayEntry($entry, offX, this.offY, $entry.data('jg.jwidth'), $entry.data('jg.jheight'), this.buildingRow.height);\n      offX += $entry.data('jg.jwidth') + settings.margins;\n    }\n  \n    //Gallery Height\n    this.galleryHeightToSet = this.offY + this.buildingRow.height + this.border;\n    this.setGalleryTempHeight(this.galleryHeightToSet + this.getSpinnerHeight());\n  \n    if (!isLastRow || (this.buildingRow.height <= settings.rowHeight && buildingRowRes)) {\n      //Ready for a new row\n      this.offY += this.buildingRow.height + settings.margins;\n      this.rows += 1;\n      this.clearBuildingRow();\n      this.settings.triggerEvent.call(this, 'jg.rowflush');\n    }\n  };\n  \n  \n  // Scroll position not restoring: https://github.com/miromannino/Justified-Gallery/issues/221\n  var galleryPrevStaticHeight = 0;\n  \n  JustifiedGallery.prototype.rememberGalleryHeight = function () {\n    galleryPrevStaticHeight = this.$gallery.height();\n    this.$gallery.height(galleryPrevStaticHeight);\n  };\n  \n  // grow only\n  JustifiedGallery.prototype.setGalleryTempHeight = function (height) {\n    galleryPrevStaticHeight = Math.max(height, galleryPrevStaticHeight);\n    this.$gallery.height(galleryPrevStaticHeight);\n  };\n  \n  JustifiedGallery.prototype.setGalleryFinalHeight = function (height) {\n    galleryPrevStaticHeight = height;\n    this.$gallery.height(height);\n  };\n  \n  /**\n   * @returns {boolean} a boolean saying if the scrollbar is active or not\n   */\n  function hasScrollBar() {\n    return $(\"body\").height() > $(window).height();\n  }\n  \n  /**\n   * Checks the width of the gallery container, to know if a new justification is needed\n   */\n  JustifiedGallery.prototype.checkWidth = function () {\n    this.checkWidthIntervalId = setInterval($.proxy(function () {\n  \n      // if the gallery is not currently visible, abort.\n      if (!this.$gallery.is(\":visible\")) return;\n  \n      var galleryWidth = parseFloat(this.$gallery.width());\n      if (hasScrollBar() === this.scrollBarOn) {\n        if (Math.abs(galleryWidth - this.galleryWidth) > this.settings.refreshSensitivity) {\n          this.galleryWidth = galleryWidth;\n          this.rewind();\n  \n          this.rememberGalleryHeight();\n  \n          // Restart to analyze\n          this.startImgAnalyzer(true);\n        }\n      } else {\n        this.scrollBarOn = hasScrollBar();\n        this.galleryWidth = galleryWidth;\n      }\n    }, this), this.settings.refreshTime);\n  };\n  \n  /**\n   * @returns {boolean} a boolean saying if the spinner is active or not\n   */\n  JustifiedGallery.prototype.isSpinnerActive = function () {\n    return this.spinner.intervalId !== null;\n  };\n  \n  /**\n   * @returns {int} the spinner height\n   */\n  JustifiedGallery.prototype.getSpinnerHeight = function () {\n    return this.spinner.$el.innerHeight();\n  };\n  \n  /**\n   * Stops the spinner animation and modify the gallery height to exclude the spinner\n   */\n  JustifiedGallery.prototype.stopLoadingSpinnerAnimation = function () {\n    clearInterval(this.spinner.intervalId);\n    this.spinner.intervalId = null;\n    this.setGalleryTempHeight(this.$gallery.height() - this.getSpinnerHeight());\n    this.spinner.$el.detach();\n  };\n  \n  /**\n   * Starts the spinner animation\n   */\n  JustifiedGallery.prototype.startLoadingSpinnerAnimation = function () {\n    var spinnerContext = this.spinner;\n    var $spinnerPoints = spinnerContext.$el.find('span');\n    clearInterval(spinnerContext.intervalId);\n    this.$gallery.append(spinnerContext.$el);\n    this.setGalleryTempHeight(this.offY + this.buildingRow.height + this.getSpinnerHeight());\n    spinnerContext.intervalId = setInterval(function () {\n      if (spinnerContext.phase < $spinnerPoints.length) {\n        $spinnerPoints.eq(spinnerContext.phase).fadeTo(spinnerContext.timeSlot, 1);\n      } else {\n        $spinnerPoints.eq(spinnerContext.phase - $spinnerPoints.length).fadeTo(spinnerContext.timeSlot, 0);\n      }\n      spinnerContext.phase = (spinnerContext.phase + 1) % ($spinnerPoints.length * 2);\n    }, spinnerContext.timeSlot);\n  };\n  \n  /**\n   * Rewind the image analysis to start from the first entry.\n   */\n  JustifiedGallery.prototype.rewind = function () {\n    this.lastFetchedEntry = null;\n    this.lastAnalyzedIndex = -1;\n    this.offY = this.border;\n    this.rows = 0;\n    this.clearBuildingRow();\n  };\n  \n  /**\n   * Update the entries searching it from the justified gallery HTML element\n   *\n   * @param norewind if norewind only the new entries will be changed (i.e. randomized, sorted or filtered)\n   * @returns {boolean} true if some entries has been founded\n   */\n  JustifiedGallery.prototype.updateEntries = function (norewind) {\n    var newEntries;\n  \n    if (norewind && this.lastFetchedEntry != null) {\n      newEntries = $(this.lastFetchedEntry).nextAll(this.settings.selector).toArray();\n    } else {\n      this.entries = [];\n      newEntries = this.$gallery.children(this.settings.selector).toArray();\n    }\n  \n    if (newEntries.length > 0) {\n  \n      // Sort or randomize\n      if ($.isFunction(this.settings.sort)) {\n        newEntries = this.sortArray(newEntries);\n      } else if (this.settings.randomize) {\n        newEntries = this.shuffleArray(newEntries);\n      }\n      this.lastFetchedEntry = newEntries[newEntries.length - 1];\n  \n      // Filter\n      if (this.settings.filter) {\n        newEntries = this.filterArray(newEntries);\n      } else {\n        this.resetFilters(newEntries);\n      }\n  \n    }\n  \n    this.entries = this.entries.concat(newEntries);\n    return true;\n  };\n  \n  /**\n   * Apply the entries order to the DOM, iterating the entries and appending the images\n   *\n   * @param entries the entries that has been modified and that must be re-ordered in the DOM\n   */\n  JustifiedGallery.prototype.insertToGallery = function (entries) {\n    var that = this;\n    $.each(entries, function () {\n      $(this).appendTo(that.$gallery);\n    });\n  };\n  \n  /**\n   * Shuffle the array using the Fisher-Yates shuffle algorithm\n   *\n   * @param a the array to shuffle\n   * @return the shuffled array\n   */\n  JustifiedGallery.prototype.shuffleArray = function (a) {\n    var i, j, temp;\n    for (i = a.length - 1; i > 0; i--) {\n      j = Math.floor(Math.random() * (i + 1));\n      temp = a[i];\n      a[i] = a[j];\n      a[j] = temp;\n    }\n    this.insertToGallery(a);\n    return a;\n  };\n  \n  /**\n   * Sort the array using settings.comparator as comparator\n   *\n   * @param a the array to sort (it is sorted)\n   * @return the sorted array\n   */\n  JustifiedGallery.prototype.sortArray = function (a) {\n    a.sort(this.settings.sort);\n    this.insertToGallery(a);\n    return a;\n  };\n  \n  /**\n   * Reset the filters removing the 'jg-filtered' class from all the entries\n   *\n   * @param a the array to reset\n   */\n  JustifiedGallery.prototype.resetFilters = function (a) {\n    for (var i = 0; i < a.length; i++) $(a[i]).removeClass('jg-filtered');\n  };\n  \n  /**\n   * Filter the entries considering theirs classes (if a string has been passed) or using a function for filtering.\n   *\n   * @param a the array to filter\n   * @return the filtered array\n   */\n  JustifiedGallery.prototype.filterArray = function (a) {\n    var settings = this.settings;\n    if ($.type(settings.filter) === 'string') {\n      // Filter only keeping the entries passed in the string\n      return a.filter(function (el) {\n        var $el = $(el);\n        if ($el.is(settings.filter)) {\n          $el.removeClass('jg-filtered');\n          return true;\n        } else {\n          $el.addClass('jg-filtered').removeClass('jg-visible');\n          return false;\n        }\n      });\n    } else if ($.isFunction(settings.filter)) {\n      // Filter using the passed function\n      var filteredArr = a.filter(settings.filter);\n      for (var i = 0; i < a.length; i++) {\n        if (filteredArr.indexOf(a[i]) === -1) {\n          $(a[i]).addClass('jg-filtered').removeClass('jg-visible');\n        } else {\n          $(a[i]).removeClass('jg-filtered');\n        }\n      }\n      return filteredArr;\n    }\n  };\n  \n  /**\n   * Destroy the Justified Gallery instance.\n   *\n   * It clears all the css properties added in the style attributes. We doesn't backup the original\n   * values for those css attributes, because it costs (performance) and because in general one\n   * shouldn't use the style attribute for an uniform set of images (where we suppose the use of\n   * classes). Creating a backup is also difficult because JG could be called multiple times and\n   * with different style attributes.\n   */\n  JustifiedGallery.prototype.destroy = function () {\n    clearInterval(this.checkWidthIntervalId);\n  \n    $.each(this.entries, $.proxy(function(_, entry) {\n      var $entry = $(entry);\n  \n      // Reset entry style\n      $entry.css('width', '');\n      $entry.css('height', '');\n      $entry.css('top', '');\n      $entry.css('left', '');\n      $entry.data('jg.loaded', undefined);\n      $entry.removeClass('jg-entry');\n  \n      // Reset image style\n      var $img = this.imgFromEntry($entry);\n      $img.css('width', '');\n      $img.css('height', '');\n      $img.css('margin-left', '');\n      $img.css('margin-top', '');\n      $img.attr('src', $img.data('jg.originalSrc'));\n      $img.data('jg.originalSrc', undefined);\n  \n      // Remove caption\n      this.removeCaptionEventsHandlers($entry);\n      var $caption = this.captionFromEntry($entry);\n      if ($entry.data('jg.createdCaption')) {\n        // remove also the caption element (if created by jg)\n        $entry.data('jg.createdCaption', undefined);\n        if ($caption !== null) $caption.remove();\n      } else {\n        if ($caption !== null) $caption.fadeTo(0, 1);\n      }\n  \n    }, this));\n  \n    this.$gallery.css('height', '');\n    this.$gallery.removeClass('justified-gallery');\n    this.$gallery.data('jg.controller', undefined);\n  };\n  \n  /**\n   * Analyze the images and builds the rows. It returns if it found an image that is not loaded.\n   *\n   * @param isForResize if the image analyzer is called for resizing or not, to call a different callback at the end\n   */\n  JustifiedGallery.prototype.analyzeImages = function (isForResize) {\n    for (var i = this.lastAnalyzedIndex + 1; i < this.entries.length; i++) {\n      var $entry = $(this.entries[i]);\n      if ($entry.data('jg.loaded') === true || $entry.data('jg.loaded') === 'skipped') {\n        var availableWidth = this.galleryWidth - 2 * this.border - (\n            (this.buildingRow.entriesBuff.length - 1) * this.settings.margins);\n        var imgAspectRatio = $entry.data('jg.width') / $entry.data('jg.height');\n        if (availableWidth / (this.buildingRow.aspectRatio + imgAspectRatio) < this.settings.rowHeight) {\n          this.flushRow(false);\n  \n          if(++this.yield.flushed >= this.yield.every) {\n            this.startImgAnalyzer(isForResize);\n            return;\n          }\n        }\n  \n        this.buildingRow.entriesBuff.push($entry);\n        this.buildingRow.aspectRatio += imgAspectRatio;\n        this.buildingRow.width += imgAspectRatio * this.settings.rowHeight;\n        this.lastAnalyzedIndex = i;\n  \n      } else if ($entry.data('jg.loaded') !== 'error') {\n        return;\n      }\n    }\n  \n    // Last row flush (the row is not full)\n    if (this.buildingRow.entriesBuff.length > 0) this.flushRow(true);\n  \n    if (this.isSpinnerActive()) {\n      this.stopLoadingSpinnerAnimation();\n    }\n  \n    /* Stop, if there is, the timeout to start the analyzeImages.\n     This is because an image can be set loaded, and the timeout can be set,\n     but this image can be analyzed yet.\n     */\n    this.stopImgAnalyzerStarter();\n  \n    //On complete callback\n    this.settings.triggerEvent.call(this, isForResize ? 'jg.resize' : 'jg.complete');\n    this.setGalleryFinalHeight(this.galleryHeightToSet);\n  };\n  \n  /**\n   * Stops any ImgAnalyzer starter (that has an assigned timeout)\n   */\n  JustifiedGallery.prototype.stopImgAnalyzerStarter = function () {\n    this.yield.flushed = 0;\n    if (this.imgAnalyzerTimeout !== null) {\n      clearTimeout(this.imgAnalyzerTimeout);\n      this.imgAnalyzerTimeout = null;\n    }\n  };\n  \n  /**\n   * Starts the image analyzer. It is not immediately called to let the browser to update the view\n   *\n   * @param isForResize specifies if the image analyzer must be called for resizing or not\n   */\n  JustifiedGallery.prototype.startImgAnalyzer = function (isForResize) {\n    var that = this;\n    this.stopImgAnalyzerStarter();\n    this.imgAnalyzerTimeout = setTimeout(function () {\n      that.analyzeImages(isForResize);\n    }, 0.001); // we can't start it immediately due to a IE different behaviour\n  };\n  \n  /**\n   * Checks if the image is loaded or not using another image object. We cannot use the 'complete' image property,\n   * because some browsers, with a 404 set complete = true.\n   *\n   * @param imageSrc the image src to load\n   * @param onLoad callback that is called when the image has been loaded\n   * @param onError callback that is called in case of an error\n   */\n  JustifiedGallery.prototype.onImageEvent = function (imageSrc, onLoad, onError) {\n    if (!onLoad && !onError) return;\n  \n    var memImage = new Image();\n    var $memImage = $(memImage);\n    if (onLoad) {\n      $memImage.one('load', function () {\n        $memImage.off('load error');\n        onLoad(memImage);\n      });\n    }\n    if (onError) {\n      $memImage.one('error', function() {\n        $memImage.off('load error');\n        onError(memImage);\n      });\n    }\n    memImage.src = imageSrc;\n  };\n  \n  /**\n   * Init of Justified Gallery controlled\n   * It analyzes all the entries starting theirs loading and calling the image analyzer (that works with loaded images)\n   */\n  JustifiedGallery.prototype.init = function () {\n    var imagesToLoad = false, skippedImages = false, that = this;\n    $.each(this.entries, function (index, entry) {\n      var $entry = $(entry);\n      var $image = that.imgFromEntry($entry);\n  \n      $entry.addClass('jg-entry');\n  \n      if ($entry.data('jg.loaded') !== true && $entry.data('jg.loaded') !== 'skipped') {\n  \n        // Link Rel global overwrite\n        if (that.settings.rel !== null) $entry.attr('rel', that.settings.rel);\n  \n        // Link Target global overwrite\n        if (that.settings.target !== null) $entry.attr('target', that.settings.target);\n  \n        if ($image !== null) {\n  \n          // Image src\n          var imageSrc = that.extractImgSrcFromImage($image);\n          $image.attr('src', imageSrc);\n  \n          /* If we have the height and the width, we don't wait that the image is loaded, but we start directly\n           * with the justification */\n          if (that.settings.waitThumbnailsLoad === false) {\n            var width = parseFloat($image.prop('width'));\n            var height = parseFloat($image.prop('height'));\n            if (!isNaN(width) && !isNaN(height)) {\n              $entry.data('jg.width', width);\n              $entry.data('jg.height', height);\n              $entry.data('jg.loaded', 'skipped');\n              skippedImages = true;\n              that.startImgAnalyzer(false);\n              return true; // continue\n            }\n          }\n  \n          $entry.data('jg.loaded', false);\n          imagesToLoad = true;\n  \n          // Spinner start\n          if (!that.isSpinnerActive()) that.startLoadingSpinnerAnimation();\n  \n          that.onImageEvent(imageSrc, function (loadImg) { // image loaded\n            $entry.data('jg.width', loadImg.width);\n            $entry.data('jg.height', loadImg.height);\n            $entry.data('jg.loaded', true);\n            that.startImgAnalyzer(false);\n          }, function () { // image load error\n            $entry.data('jg.loaded', 'error');\n            that.startImgAnalyzer(false);\n          });\n  \n        } else {\n          $entry.data('jg.loaded', true);\n          $entry.data('jg.width', $entry.width() | parseFloat($entry.css('width')) | 1);\n          $entry.data('jg.height', $entry.height() | parseFloat($entry.css('height')) | 1);\n        }\n  \n      }\n  \n    });\n  \n    if (!imagesToLoad && !skippedImages) this.startImgAnalyzer(false);\n    this.checkWidth();\n  };\n  \n  /**\n   * Checks that it is a valid number. If a string is passed it is converted to a number\n   *\n   * @param settingContainer the object that contains the setting (to allow the conversion)\n   * @param settingName the setting name\n   */\n  JustifiedGallery.prototype.checkOrConvertNumber = function (settingContainer, settingName) {\n    if ($.type(settingContainer[settingName]) === 'string') {\n      settingContainer[settingName] = parseFloat(settingContainer[settingName]);\n    }\n  \n    if ($.type(settingContainer[settingName]) === 'number') {\n      if (isNaN(settingContainer[settingName])) throw 'invalid number for ' + settingName;\n    } else {\n      throw settingName + ' must be a number';\n    }\n  };\n  \n  /**\n   * Checks the sizeRangeSuffixes and, if necessary, converts\n   * its keys from string (e.g. old settings with 'lt100') to int.\n   */\n  JustifiedGallery.prototype.checkSizeRangesSuffixes = function () {\n    if ($.type(this.settings.sizeRangeSuffixes) !== 'object') {\n      throw 'sizeRangeSuffixes must be defined and must be an object';\n    }\n  \n    var suffixRanges = [];\n    for (var rangeIdx in this.settings.sizeRangeSuffixes) {\n      if (this.settings.sizeRangeSuffixes.hasOwnProperty(rangeIdx)) suffixRanges.push(rangeIdx);\n    }\n  \n    var newSizeRngSuffixes = {0: ''};\n    for (var i = 0; i < suffixRanges.length; i++) {\n      if ($.type(suffixRanges[i]) === 'string') {\n        try {\n          var numIdx = parseInt(suffixRanges[i].replace(/^[a-z]+/, ''), 10);\n          newSizeRngSuffixes[numIdx] = this.settings.sizeRangeSuffixes[suffixRanges[i]];\n        } catch (e) {\n          throw 'sizeRangeSuffixes keys must contains correct numbers (' + e + ')';\n        }\n      } else {\n        newSizeRngSuffixes[suffixRanges[i]] = this.settings.sizeRangeSuffixes[suffixRanges[i]];\n      }\n    }\n  \n    this.settings.sizeRangeSuffixes = newSizeRngSuffixes;\n  };\n  \n  /**\n   * check and convert the maxRowHeight setting\n   * requires rowHeight to be already set\n   * TODO: should be always called when only rowHeight is changed\n   * @return number or null\n   */\n  JustifiedGallery.prototype.retrieveMaxRowHeight = function () {\n    var newMaxRowHeight = null;\n    var rowHeight = this.settings.rowHeight;\n  \n    if ($.type(this.settings.maxRowHeight) === 'string') {\n      if (this.settings.maxRowHeight.match(/^[0-9]+%$/)) {\n        newMaxRowHeight = rowHeight * parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1]) / 100;\n      } else {\n        newMaxRowHeight = parseFloat(this.settings.maxRowHeight);\n      }\n    } else if ($.type(this.settings.maxRowHeight) === 'number') {\n      newMaxRowHeight = this.settings.maxRowHeight;\n    } else if (this.settings.maxRowHeight === false || this.settings.maxRowHeight == null) {\n      return null;\n    } else {\n      throw 'maxRowHeight must be a number or a percentage';\n    }\n  \n    // check if the converted value is not a number\n    if (isNaN(newMaxRowHeight)) throw 'invalid number for maxRowHeight';\n  \n    // check values, maxRowHeight must be >= rowHeight\n    if (newMaxRowHeight < rowHeight) newMaxRowHeight = rowHeight;\n  \n    return newMaxRowHeight;\n  };\n  \n  /**\n   * Checks the settings\n   */\n  JustifiedGallery.prototype.checkSettings = function () {\n    this.checkSizeRangesSuffixes();\n  \n    this.checkOrConvertNumber(this.settings, 'rowHeight');\n    this.checkOrConvertNumber(this.settings, 'margins');\n    this.checkOrConvertNumber(this.settings, 'border');\n  \n    var lastRowModes = [\n      'justify',\n      'nojustify',\n      'left',\n      'center',\n      'right',\n      'hide'\n    ];\n    if (lastRowModes.indexOf(this.settings.lastRow) === -1) {\n      throw 'lastRow must be one of: ' + lastRowModes.join(', ');\n    }\n  \n    this.checkOrConvertNumber(this.settings, 'justifyThreshold');\n    if (this.settings.justifyThreshold < 0 || this.settings.justifyThreshold > 1) {\n      throw 'justifyThreshold must be in the interval [0,1]';\n    }\n    if ($.type(this.settings.cssAnimation) !== 'boolean') {\n      throw 'cssAnimation must be a boolean';\n    }\n  \n    if ($.type(this.settings.captions) !== 'boolean') throw 'captions must be a boolean';\n    this.checkOrConvertNumber(this.settings.captionSettings, 'animationDuration');\n  \n    this.checkOrConvertNumber(this.settings.captionSettings, 'visibleOpacity');\n    if (this.settings.captionSettings.visibleOpacity < 0 ||\n        this.settings.captionSettings.visibleOpacity > 1) {\n      throw 'captionSettings.visibleOpacity must be in the interval [0, 1]';\n    }\n  \n    this.checkOrConvertNumber(this.settings.captionSettings, 'nonVisibleOpacity');\n    if (this.settings.captionSettings.nonVisibleOpacity < 0 ||\n        this.settings.captionSettings.nonVisibleOpacity > 1) {\n      throw 'captionSettings.nonVisibleOpacity must be in the interval [0, 1]';\n    }\n  \n    this.checkOrConvertNumber(this.settings, 'imagesAnimationDuration');\n    this.checkOrConvertNumber(this.settings, 'refreshTime');\n    this.checkOrConvertNumber(this.settings, 'refreshSensitivity');\n    if ($.type(this.settings.randomize) !== 'boolean') throw 'randomize must be a boolean';\n    if ($.type(this.settings.selector) !== 'string') throw 'selector must be a string';\n  \n    if (this.settings.sort !== false && !$.isFunction(this.settings.sort)) {\n      throw 'sort must be false or a comparison function';\n    }\n  \n    if (this.settings.filter !== false && !$.isFunction(this.settings.filter) &&\n        $.type(this.settings.filter) !== 'string') {\n      throw 'filter must be false, a string or a filter function';\n    }\n  };\n  \n  /**\n   * It brings all the indexes from the sizeRangeSuffixes and it orders them. They are then sorted and returned.\n   * @returns {Array} sorted suffix ranges\n   */\n  JustifiedGallery.prototype.retrieveSuffixRanges = function () {\n    var suffixRanges = [];\n    for (var rangeIdx in this.settings.sizeRangeSuffixes) {\n      if (this.settings.sizeRangeSuffixes.hasOwnProperty(rangeIdx)) suffixRanges.push(parseInt(rangeIdx, 10));\n    }\n    suffixRanges.sort(function (a, b) { return a > b ? 1 : a < b ? -1 : 0; });\n    return suffixRanges;\n  };\n  \n  /**\n   * Update the existing settings only changing some of them\n   *\n   * @param newSettings the new settings (or a subgroup of them)\n   */\n  JustifiedGallery.prototype.updateSettings = function (newSettings) {\n    // In this case Justified Gallery has been called again changing only some options\n    this.settings = $.extend({}, this.settings, newSettings);\n    this.checkSettings();\n  \n    // As reported in the settings: negative value = same as margins, 0 = disabled\n    this.border = this.settings.border >= 0 ? this.settings.border : this.settings.margins;\n  \n    this.maxRowHeight = this.retrieveMaxRowHeight();\n    this.suffixRanges = this.retrieveSuffixRanges();\n  };\n  \n  JustifiedGallery.prototype.defaults = {\n    sizeRangeSuffixes: { }, /* e.g. Flickr configuration\n        {\n          100: '_t',  // used when longest is less than 100px\n          240: '_m',  // used when longest is between 101px and 240px\n          320: '_n',  // ...\n          500: '',\n          640: '_z',\n          1024: '_b'  // used as else case because it is the last\n        }\n    */\n    thumbnailPath: undefined, /* If defined, sizeRangeSuffixes is not used, and this function is used to determine the\n    path relative to a specific thumbnail size. The function should accept respectively three arguments:\n    current path, width and height */\n    rowHeight: 120, // required? required to be > 0?\n    maxRowHeight: false, // false or negative value to deactivate. Positive number to express the value in pixels,\n                         // A string '[0-9]+%' to express in percentage (e.g. 300% means that the row height\n                         // can't exceed 3 * rowHeight)\n    margins: 1,\n    border: -1, // negative value = same as margins, 0 = disabled, any other value to set the border\n  \n    lastRow: 'nojustify', //  which is the same as 'left', or can be 'justify', 'center', 'right' or 'hide'\n  \n    justifyThreshold: 0.90, /* if row width / available space > 0.90 it will be always justified\n                             * (i.e. lastRow setting is not considered) */\n    waitThumbnailsLoad: true,\n    captions: true,\n    cssAnimation: true,\n    imagesAnimationDuration: 500, // ignored with css animations\n    captionSettings: { // ignored with css animations\n      animationDuration: 500,\n      visibleOpacity: 0.7,\n      nonVisibleOpacity: 0.0\n    },\n    rel: null, // rewrite the rel of each analyzed links\n    target: null, // rewrite the target of all links\n    extension: /\\.[^.\\\\/]+$/, // regexp to capture the extension of an image\n    refreshTime: 200, // time interval (in ms) to check if the page changes its width\n    refreshSensitivity: 0, // change in width allowed (in px) without re-building the gallery\n    randomize: false,\n    rtl: false, // right-to-left mode\n    sort: false, /*\n      - false: to do not sort\n      - function: to sort them using the function as comparator (see Array.prototype.sort())\n    */\n    filter: false, /*\n      - false, null or undefined: for a disabled filter\n      - a string: an entry is kept if entry.is(filter string) returns true\n                  see jQuery's .is() function for further information\n      - a function: invoked with arguments (entry, index, array). Return true to keep the entry, false otherwise.\n                    It follows the specifications of the Array.prototype.filter() function of JavaScript.\n    */\n    selector: 'a, div:not(.spinner)', // The selector that is used to know what are the entries of the gallery\n    imgSelector: '> img, > a > img', // The selector that is used to know what are the images of each entry\n    triggerEvent: function (event) { // This is called to trigger events, the default behavior is to call $.trigger\n      this.$gallery.trigger(event);  // Consider that 'this' is this set to the JustifiedGallery object, so it can\n    }                                // access to fields such as $gallery, useful to trigger events with jQuery.\n  };\n\n  /**\n   * Justified Gallery plugin for jQuery\n   *\n   * Events\n   *  - jg.complete : called when all the gallery has been created\n   *  - jg.resize : called when the gallery has been resized\n   *  - jg.rowflush : when a new row appears\n   *\n   * @param arg the action (or the settings) passed when the plugin is called\n   * @returns {*} the object itself\n   */\n  $.fn.justifiedGallery = function (arg) {\n    return this.each(function (index, gallery) {\n\n      var $gallery = $(gallery);\n      $gallery.addClass('justified-gallery');\n\n      var controller = $gallery.data('jg.controller');\n      if (typeof controller === 'undefined') {\n        // Create controller and assign it to the object data\n        if (typeof arg !== 'undefined' && arg !== null && $.type(arg) !== 'object') {\n          if (arg === 'destroy') return; // Just a call to an unexisting object\n          throw 'The argument must be an object';\n        }\n        controller = new JustifiedGallery($gallery, $.extend({}, JustifiedGallery.prototype.defaults, arg));\n        $gallery.data('jg.controller', controller);\n      } else if (arg === 'norewind') {\n        // In this case we don't rewind: we analyze only the latest images (e.g. to complete the last unfinished row\n        // ... left to be more readable\n      } else if (arg === 'destroy') {\n        controller.destroy();\n        return;\n      } else {\n        // In this case Justified Gallery has been called again changing only some options\n        controller.updateSettings(arg);\n        controller.rewind();\n      }\n\n      // Update the entries list\n      if (!controller.updateEntries(arg === 'norewind')) return;\n\n      // Init justified gallery\n      controller.init();\n\n    });\n  };\n\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvanVzdGlmaWVkR2FsbGVyeS9kaXN0L2pzL2pxdWVyeS5qdXN0aWZpZWRHYWxsZXJ5LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxJQUEwQztBQUNoRDtBQUNBLElBQUksaUNBQU8sQ0FBQywyQ0FBUSxDQUFDLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDL0IsSUFBSSxLQUFLLEVBcUJOO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhCQUE4QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHlCQUF5QjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssVUFBVTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUIsb0JBQW9CLHlCQUF5QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG9DQUFvQztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckMscUNBQXFDO0FBQ3JDLHFDQUFxQztBQUNyQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7QUFDTDs7QUFFQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9ub2RlX21vZHVsZXMvanVzdGlmaWVkR2FsbGVyeS9kaXN0L2pzL2pxdWVyeS5qdXN0aWZpZWRHYWxsZXJ5LmpzPzEyMTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBqdXN0aWZpZWRHYWxsZXJ5IC0gdjMuNy4wXG4gKiBodHRwOi8vbWlyb21hbm5pbm8uZ2l0aHViLmlvL0p1c3RpZmllZC1HYWxsZXJ5L1xuICogQ29weXJpZ2h0IChjKSAyMDE4IE1pcm8gTWFubmlub1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggcm9vdCwgalF1ZXJ5ICkge1xuICAgICAgaWYgKCBqUXVlcnkgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgLy8gcmVxdWlyZSgnalF1ZXJ5JykgcmV0dXJucyBhIGZhY3RvcnkgdGhhdCByZXF1aXJlcyB3aW5kb3cgdG9cbiAgICAgICAgLy8gYnVpbGQgYSBqUXVlcnkgaW5zdGFuY2UsIHdlIG5vcm1hbGl6ZSBob3cgd2UgdXNlIG1vZHVsZXNcbiAgICAgICAgLy8gdGhhdCByZXF1aXJlIHRoaXMgcGF0dGVybiBidXQgdGhlIHdpbmRvdyBwcm92aWRlZCBpcyBhIG5vb3BcbiAgICAgICAgLy8gaWYgaXQncyBkZWZpbmVkIChob3cganF1ZXJ5IHdvcmtzKVxuICAgICAgICBpZiAoIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgIGpRdWVyeSA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGpRdWVyeSA9IHJlcXVpcmUoJ2pxdWVyeScpKHJvb3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmYWN0b3J5KGpRdWVyeSk7XG4gICAgICByZXR1cm4galF1ZXJ5O1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgZmFjdG9yeShqUXVlcnkpO1xuICB9XG59KGZ1bmN0aW9uICgkKSB7XG5cbiAgLyoqXG4gICAqIEp1c3RpZmllZCBHYWxsZXJ5IGNvbnRyb2xsZXIgY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtICRnYWxsZXJ5IHRoZSBnYWxsZXJ5IHRvIGJ1aWxkXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgc2V0dGluZ3MgKHRoZSBkZWZhdWx0cyBhcmUgaW4gSnVzdGlmaWVkR2FsbGVyeS5kZWZhdWx0cylcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICB2YXIgSnVzdGlmaWVkR2FsbGVyeSA9IGZ1bmN0aW9uICgkZ2FsbGVyeSwgc2V0dGluZ3MpIHtcbiAgXG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuY2hlY2tTZXR0aW5ncygpO1xuICBcbiAgICB0aGlzLmltZ0FuYWx5emVyVGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5lbnRyaWVzID0gbnVsbDtcbiAgICB0aGlzLmJ1aWxkaW5nUm93ID0ge1xuICAgICAgZW50cmllc0J1ZmYgOiBbXSxcbiAgICAgIHdpZHRoIDogMCxcbiAgICAgIGhlaWdodCA6IDAsXG4gICAgICBhc3BlY3RSYXRpbyA6IDBcbiAgICB9O1xuICAgIHRoaXMubGFzdEZldGNoZWRFbnRyeSA9IG51bGw7XG4gICAgdGhpcy5sYXN0QW5hbHl6ZWRJbmRleCA9IC0xO1xuICAgIHRoaXMueWllbGQgPSB7XG4gICAgICBldmVyeSA6IDIsIC8vIGRvIGEgZmx1c2ggZXZlcnkgbiBmbHVzaGVzIChtdXN0IGJlIGdyZWF0ZXIgdGhhbiAxKVxuICAgICAgZmx1c2hlZCA6IDAgLy8gZmx1c2hlZCByb3dzIHdpdGhvdXQgYSB5aWVsZFxuICAgIH07XG4gICAgdGhpcy5ib3JkZXIgPSBzZXR0aW5ncy5ib3JkZXIgPj0gMCA/IHNldHRpbmdzLmJvcmRlciA6IHNldHRpbmdzLm1hcmdpbnM7XG4gICAgdGhpcy5tYXhSb3dIZWlnaHQgPSB0aGlzLnJldHJpZXZlTWF4Um93SGVpZ2h0KCk7XG4gICAgdGhpcy5zdWZmaXhSYW5nZXMgPSB0aGlzLnJldHJpZXZlU3VmZml4UmFuZ2VzKCk7XG4gICAgdGhpcy5vZmZZID0gdGhpcy5ib3JkZXI7XG4gICAgdGhpcy5yb3dzID0gMDtcbiAgICB0aGlzLnNwaW5uZXIgPSB7XG4gICAgICBwaGFzZSA6IDAsXG4gICAgICB0aW1lU2xvdCA6IDE1MCxcbiAgICAgICRlbCA6ICQoJzxkaXYgY2xhc3M9XCJzcGlubmVyXCI+PHNwYW4+PC9zcGFuPjxzcGFuPjwvc3Bhbj48c3Bhbj48L3NwYW4+PC9kaXY+JyksXG4gICAgICBpbnRlcnZhbElkIDogbnVsbFxuICAgIH07XG4gICAgdGhpcy5zY3JvbGxCYXJPbiA9IGZhbHNlO1xuICAgIHRoaXMuY2hlY2tXaWR0aEludGVydmFsSWQgPSBudWxsO1xuICAgIHRoaXMuZ2FsbGVyeVdpZHRoID0gJGdhbGxlcnkud2lkdGgoKTtcbiAgICB0aGlzLiRnYWxsZXJ5ID0gJGdhbGxlcnk7XG4gIFxuICB9O1xuICBcbiAgLyoqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBiZXN0IHN1ZmZpeCBnaXZlbiB0aGUgd2lkdGggYW5kIHRoZSBoZWlnaHQgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuZ2V0U3VmZml4ID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB2YXIgbG9uZ2VzdFNpZGUsIGk7XG4gICAgbG9uZ2VzdFNpZGUgPSAod2lkdGggPiBoZWlnaHQpID8gd2lkdGggOiBoZWlnaHQ7XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuc3VmZml4UmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobG9uZ2VzdFNpZGUgPD0gdGhpcy5zdWZmaXhSYW5nZXNbaV0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3Muc2l6ZVJhbmdlU3VmZml4ZXNbdGhpcy5zdWZmaXhSYW5nZXNbaV1dO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5zaXplUmFuZ2VTdWZmaXhlc1t0aGlzLnN1ZmZpeFJhbmdlc1tpIC0gMV1dO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgc3VmZml4IGZyb20gdGhlIHN0cmluZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBhIG5ldyBzdHJpbmcgd2l0aG91dCB0aGUgc3VmZml4XG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5yZW1vdmVTdWZmaXggPSBmdW5jdGlvbiAoc3RyLCBzdWZmaXgpIHtcbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59IGEgYm9vbGVhbiB0byBzYXkgaWYgdGhlIHN1ZmZpeCBpcyBjb250YWluZWQgaW4gdGhlIHN0ciBvciBub3RcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLmVuZHNXaXRoID0gZnVuY3Rpb24gKHN0ciwgc3VmZml4KSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKHN1ZmZpeCwgc3RyLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpICE9PSAtMTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBHZXQgdGhlIHVzZWQgc3VmZml4IG9mIGEgcGFydGljdWxhciB1cmxcbiAgICpcbiAgICogQHBhcmFtIHN0clxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXR1cm4gdGhlIHVzZWQgc3VmZml4XG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5nZXRVc2VkU3VmZml4ID0gZnVuY3Rpb24gKHN0cikge1xuICAgIGZvciAodmFyIHNpIGluIHRoaXMuc2V0dGluZ3Muc2l6ZVJhbmdlU3VmZml4ZXMpIHtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNpemVSYW5nZVN1ZmZpeGVzLmhhc093blByb3BlcnR5KHNpKSkge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zaXplUmFuZ2VTdWZmaXhlc1tzaV0ubGVuZ3RoID09PSAwKSBjb250aW51ZTtcbiAgICAgICAgaWYgKHRoaXMuZW5kc1dpdGgoc3RyLCB0aGlzLnNldHRpbmdzLnNpemVSYW5nZVN1ZmZpeGVzW3NpXSkpIHJldHVybiB0aGlzLnNldHRpbmdzLnNpemVSYW5nZVN1ZmZpeGVzW3NpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIEdpdmVuIGFuIGltYWdlIHNyYywgd2l0aCB0aGUgd2lkdGggYW5kIHRoZSBoZWlnaHQsIHJldHVybnMgdGhlIG5ldyBpbWFnZSBzcmMgd2l0aCB0aGVcbiAgICogYmVzdCBzdWZmaXggdG8gc2hvdyB0aGUgYmVzdCBxdWFsaXR5IHRodW1ibmFpbC5cbiAgICpcbiAgICogQHJldHVybnMge1N0cmluZ30gdGhlIHN1ZmZpeCB0byB1c2VcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLm5ld1NyYyA9IGZ1bmN0aW9uIChpbWFnZVNyYywgaW1nV2lkdGgsIGltZ0hlaWdodCwgaW1hZ2UpIHtcbiAgICB2YXIgbmV3SW1hZ2VTcmM7XG4gIFxuICAgIGlmICh0aGlzLnNldHRpbmdzLnRodW1ibmFpbFBhdGgpIHtcbiAgICAgIG5ld0ltYWdlU3JjID0gdGhpcy5zZXR0aW5ncy50aHVtYm5haWxQYXRoKGltYWdlU3JjLCBpbWdXaWR0aCwgaW1nSGVpZ2h0LCBpbWFnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtYXRjaFJlcyA9IGltYWdlU3JjLm1hdGNoKHRoaXMuc2V0dGluZ3MuZXh0ZW5zaW9uKTtcbiAgICAgIHZhciBleHQgPSAobWF0Y2hSZXMgIT09IG51bGwpID8gbWF0Y2hSZXNbMF0gOiAnJztcbiAgICAgIG5ld0ltYWdlU3JjID0gaW1hZ2VTcmMucmVwbGFjZSh0aGlzLnNldHRpbmdzLmV4dGVuc2lvbiwgJycpO1xuICAgICAgbmV3SW1hZ2VTcmMgPSB0aGlzLnJlbW92ZVN1ZmZpeChuZXdJbWFnZVNyYywgdGhpcy5nZXRVc2VkU3VmZml4KG5ld0ltYWdlU3JjKSk7XG4gICAgICBuZXdJbWFnZVNyYyArPSB0aGlzLmdldFN1ZmZpeChpbWdXaWR0aCwgaW1nSGVpZ2h0KSArIGV4dDtcbiAgICB9XG4gIFxuICAgIHJldHVybiBuZXdJbWFnZVNyYztcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTaG93cyB0aGUgaW1hZ2VzIHRoYXQgaXMgaW4gdGhlIGdpdmVuIGVudHJ5XG4gICAqXG4gICAqIEBwYXJhbSAkZW50cnkgdGhlIGVudHJ5XG4gICAqIEBwYXJhbSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgc2hvdyBhbmltYXRpb24gaXMgZmluaXNoZWRcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLnNob3dJbWcgPSBmdW5jdGlvbiAoJGVudHJ5LCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmNzc0FuaW1hdGlvbikge1xuICAgICAgJGVudHJ5LmFkZENsYXNzKCdlbnRyeS12aXNpYmxlJyk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRlbnRyeS5zdG9wKCkuZmFkZVRvKHRoaXMuc2V0dGluZ3MuaW1hZ2VzQW5pbWF0aW9uRHVyYXRpb24sIDEuMCwgY2FsbGJhY2spO1xuICAgICAgJGVudHJ5LmZpbmQodGhpcy5zZXR0aW5ncy5pbWdTZWxlY3Rvcikuc3RvcCgpLmZhZGVUbyh0aGlzLnNldHRpbmdzLmltYWdlc0FuaW1hdGlvbkR1cmF0aW9uLCAxLjAsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogRXh0cmFjdCB0aGUgaW1hZ2Ugc3JjIGZvcm0gdGhlIGltYWdlLCBsb29raW5nIGZyb20gdGhlICdzYWZlLXNyYycsIGFuZCBpZiBpdCBjYW4ndCBiZSBmb3VuZCwgZnJvbSB0aGVcbiAgICogJ3NyYycgYXR0cmlidXRlLiBJdCBzYXZlcyBpbiB0aGUgaW1hZ2UgZGF0YSB0aGUgJ2pnLm9yaWdpbmFsU3JjJyBmaWVsZCwgd2l0aCB0aGUgZXh0cmFjdGVkIHNyYy5cbiAgICpcbiAgICogQHBhcmFtICRpbWFnZSB0aGUgaW1hZ2UgdG8gYW5hbHl6ZVxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSB0aGUgZXh0cmFjdGVkIHNyY1xuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuZXh0cmFjdEltZ1NyY0Zyb21JbWFnZSA9IGZ1bmN0aW9uICgkaW1hZ2UpIHtcbiAgICB2YXIgaW1hZ2VTcmMgPSAodHlwZW9mICRpbWFnZS5kYXRhKCdzYWZlLXNyYycpICE9PSAndW5kZWZpbmVkJykgPyAkaW1hZ2UuZGF0YSgnc2FmZS1zcmMnKSA6ICRpbWFnZS5hdHRyKCdzcmMnKTtcbiAgICAkaW1hZ2UuZGF0YSgnamcub3JpZ2luYWxTcmMnLCBpbWFnZVNyYyk7XG4gICAgcmV0dXJuIGltYWdlU3JjO1xuICB9O1xuICBcbiAgLyoqIEByZXR1cm5zIHtqUXVlcnl9IHRoZSBpbWFnZSBpbiB0aGUgZ2l2ZW4gZW50cnkgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuaW1nRnJvbUVudHJ5ID0gZnVuY3Rpb24gKCRlbnRyeSkge1xuICAgIHZhciAkaW1nID0gJGVudHJ5LmZpbmQodGhpcy5zZXR0aW5ncy5pbWdTZWxlY3Rvcik7XG4gICAgcmV0dXJuICRpbWcubGVuZ3RoID09PSAwID8gbnVsbCA6ICRpbWc7XG4gIH07XG4gIFxuICAvKiogQHJldHVybnMge2pRdWVyeX0gdGhlIGNhcHRpb24gaW4gdGhlIGdpdmVuIGVudHJ5ICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLmNhcHRpb25Gcm9tRW50cnkgPSBmdW5jdGlvbiAoJGVudHJ5KSB7XG4gICAgdmFyICRjYXB0aW9uID0gJGVudHJ5LmZpbmQoJz4gLmNhcHRpb24nKTtcbiAgICByZXR1cm4gJGNhcHRpb24ubGVuZ3RoID09PSAwID8gbnVsbCA6ICRjYXB0aW9uO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIERpc3BsYXkgdGhlIGVudHJ5XG4gICAqXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZW50cnkgdGhlIGVudHJ5IHRvIGRpc3BsYXlcbiAgICogQHBhcmFtIHtpbnR9IHggdGhlIHggcG9zaXRpb24gd2hlcmUgdGhlIGVudHJ5IG11c3QgYmUgcG9zaXRpb25lZFxuICAgKiBAcGFyYW0geSB0aGUgeSBwb3NpdGlvbiB3aGVyZSB0aGUgZW50cnkgbXVzdCBiZSBwb3NpdGlvbmVkXG4gICAqIEBwYXJhbSBpbWdXaWR0aCB0aGUgaW1hZ2Ugd2lkdGhcbiAgICogQHBhcmFtIGltZ0hlaWdodCB0aGUgaW1hZ2UgaGVpZ2h0XG4gICAqIEBwYXJhbSByb3dIZWlnaHQgdGhlIHJvdyBoZWlnaHQgb2YgdGhlIHJvdyB0aGF0IG93bnMgdGhlIGVudHJ5XG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5kaXNwbGF5RW50cnkgPSBmdW5jdGlvbiAoJGVudHJ5LCB4LCB5LCBpbWdXaWR0aCwgaW1nSGVpZ2h0LCByb3dIZWlnaHQpIHtcbiAgICAkZW50cnkud2lkdGgoaW1nV2lkdGgpO1xuICAgICRlbnRyeS5oZWlnaHQocm93SGVpZ2h0KTtcbiAgICAkZW50cnkuY3NzKCd0b3AnLCB5KTtcbiAgICAkZW50cnkuY3NzKCdsZWZ0JywgeCk7XG4gIFxuICAgIHZhciAkaW1hZ2UgPSB0aGlzLmltZ0Zyb21FbnRyeSgkZW50cnkpO1xuICAgIGlmICgkaW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICRpbWFnZS5jc3MoJ3dpZHRoJywgaW1nV2lkdGgpO1xuICAgICAgJGltYWdlLmNzcygnaGVpZ2h0JywgaW1nSGVpZ2h0KTtcbiAgICAgICRpbWFnZS5jc3MoJ21hcmdpbi1sZWZ0JywgLSBpbWdXaWR0aCAvIDIpO1xuICAgICAgJGltYWdlLmNzcygnbWFyZ2luLXRvcCcsIC0gaW1nSGVpZ2h0IC8gMik7XG4gIFxuICAgICAgLy8gSW1hZ2UgcmVsb2FkaW5nIGZvciBhbiBoaWdoIHF1YWxpdHkgb2YgdGh1bWJuYWlsc1xuICAgICAgdmFyIGltYWdlU3JjID0gJGltYWdlLmF0dHIoJ3NyYycpO1xuICAgICAgdmFyIG5ld0ltYWdlU3JjID0gdGhpcy5uZXdTcmMoaW1hZ2VTcmMsIGltZ1dpZHRoLCBpbWdIZWlnaHQsICRpbWFnZVswXSk7XG4gIFxuICAgICAgJGltYWdlLm9uZSgnZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRpbWFnZS5hdHRyKCdzcmMnLCAkaW1hZ2UuZGF0YSgnamcub3JpZ2luYWxTcmMnKSk7IC8vcmV2ZXJ0IHRvIHRoZSBvcmlnaW5hbCB0aHVtYm5haWwsIHdlIGdvdCBpdC5cbiAgICAgIH0pO1xuICBcbiAgICAgIHZhciBsb2FkTmV3SW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpbWFnZVNyYyAhPT0gbmV3SW1hZ2VTcmMpIHsgLy9sb2FkIHRoZSBuZXcgaW1hZ2UgYWZ0ZXIgdGhlIGZhZGVJblxuICAgICAgICAgICRpbWFnZS5hdHRyKCdzcmMnLCBuZXdJbWFnZVNyYyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gIFxuICAgICAgaWYgKCRlbnRyeS5kYXRhKCdqZy5sb2FkZWQnKSA9PT0gJ3NraXBwZWQnKSB7XG4gICAgICAgIHRoaXMub25JbWFnZUV2ZW50KGltYWdlU3JjLCAkLnByb3h5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuc2hvd0ltZygkZW50cnksIGxvYWROZXdJbWFnZSk7XG4gICAgICAgICAgJGVudHJ5LmRhdGEoJ2pnLmxvYWRlZCcsIHRydWUpO1xuICAgICAgICB9LCB0aGlzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3dJbWcoJGVudHJ5LCBsb2FkTmV3SW1hZ2UpO1xuICAgICAgfVxuICBcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaG93SW1nKCRlbnRyeSk7XG4gICAgfVxuICBcbiAgICB0aGlzLmRpc3BsYXlFbnRyeUNhcHRpb24oJGVudHJ5KTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBEaXNwbGF5IHRoZSBlbnRyeSBjYXB0aW9uLiBJZiB0aGUgY2FwdGlvbiBlbGVtZW50IGRvZXNuJ3QgZXhpc3RzLCBpdCBjcmVhdGVzIHRoZSBjYXB0aW9uIHVzaW5nIHRoZSAnYWx0J1xuICAgKiBvciB0aGUgJ3RpdGxlJyBhdHRyaWJ1dGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGVudHJ5IHRoZSBlbnRyeSB0byBwcm9jZXNzXG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5kaXNwbGF5RW50cnlDYXB0aW9uID0gZnVuY3Rpb24gKCRlbnRyeSkge1xuICAgIHZhciAkaW1hZ2UgPSB0aGlzLmltZ0Zyb21FbnRyeSgkZW50cnkpO1xuICAgIGlmICgkaW1hZ2UgIT09IG51bGwgJiYgdGhpcy5zZXR0aW5ncy5jYXB0aW9ucykge1xuICAgICAgdmFyICRpbWdDYXB0aW9uID0gdGhpcy5jYXB0aW9uRnJvbUVudHJ5KCRlbnRyeSk7XG4gIFxuICAgICAgLy8gQ3JlYXRlIGl0IGlmIGl0IGRvZXNuJ3QgZXhpc3RzXG4gICAgICBpZiAoJGltZ0NhcHRpb24gPT09IG51bGwpIHtcbiAgICAgICAgdmFyIGNhcHRpb24gPSAkaW1hZ2UuYXR0cignYWx0Jyk7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkQ2FwdGlvbihjYXB0aW9uKSkgY2FwdGlvbiA9ICRlbnRyeS5hdHRyKCd0aXRsZScpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkQ2FwdGlvbihjYXB0aW9uKSkgeyAvLyBDcmVhdGUgb25seSB3ZSBmb3VuZCBzb21ldGhpbmdcbiAgICAgICAgICAkaW1nQ2FwdGlvbiA9ICQoJzxkaXYgY2xhc3M9XCJjYXB0aW9uXCI+JyArIGNhcHRpb24gKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgJGVudHJ5LmFwcGVuZCgkaW1nQ2FwdGlvbik7XG4gICAgICAgICAgJGVudHJ5LmRhdGEoJ2pnLmNyZWF0ZWRDYXB0aW9uJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgICAvLyBDcmVhdGUgZXZlbnRzICh3ZSBjaGVjayBhZ2FpbiB0aGUgJGltZ0NhcHRpb24gYmVjYXVzZSBpdCBjYW4gYmUgc3RpbGwgaW5leGlzdGVudClcbiAgICAgIGlmICgkaW1nQ2FwdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuY3NzQW5pbWF0aW9uKSAkaW1nQ2FwdGlvbi5zdG9wKCkuZmFkZVRvKDAsIHRoaXMuc2V0dGluZ3MuY2FwdGlvblNldHRpbmdzLm5vblZpc2libGVPcGFjaXR5KTtcbiAgICAgICAgdGhpcy5hZGRDYXB0aW9uRXZlbnRzSGFuZGxlcnMoJGVudHJ5KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVDYXB0aW9uRXZlbnRzSGFuZGxlcnMoJGVudHJ5KTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoZSBjYXB0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBjYXB0aW9uIFRoZSBjYXB0aW9uIHRoYXQgc2hvdWxkIGJlIHZhbGlkYXRlZFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBWYWxpZGF0aW9uIHJlc3VsdFxuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuaXNWYWxpZENhcHRpb24gPSBmdW5jdGlvbiAoY2FwdGlvbikge1xuICAgIHJldHVybiAodHlwZW9mIGNhcHRpb24gIT09ICd1bmRlZmluZWQnICYmIGNhcHRpb24ubGVuZ3RoID4gMCk7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGhlIGNhbGxiYWNrIGZvciB0aGUgZXZlbnQgJ21vdXNlZW50ZXInLiBJdCBhc3N1bWVzIHRoYXQgdGhlIGV2ZW50IGN1cnJlbnRUYXJnZXQgaXMgYW4gZW50cnkuXG4gICAqIEl0IHNob3dzIHRoZSBjYXB0aW9uIHVzaW5nIGpRdWVyeSAob3IgdXNpbmcgQ1NTIGlmIGl0IGlzIGNvbmZpZ3VyZWQgc28pXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50T2JqZWN0IHRoZSBldmVudCBvYmplY3RcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLm9uRW50cnlNb3VzZUVudGVyRm9yQ2FwdGlvbiA9IGZ1bmN0aW9uIChldmVudE9iamVjdCkge1xuICAgIHZhciAkY2FwdGlvbiA9IHRoaXMuY2FwdGlvbkZyb21FbnRyeSgkKGV2ZW50T2JqZWN0LmN1cnJlbnRUYXJnZXQpKTtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5jc3NBbmltYXRpb24pIHtcbiAgICAgICRjYXB0aW9uLmFkZENsYXNzKCdjYXB0aW9uLXZpc2libGUnKS5yZW1vdmVDbGFzcygnY2FwdGlvbi1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGNhcHRpb24uc3RvcCgpLmZhZGVUbyh0aGlzLnNldHRpbmdzLmNhcHRpb25TZXR0aW5ncy5hbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICB0aGlzLnNldHRpbmdzLmNhcHRpb25TZXR0aW5ncy52aXNpYmxlT3BhY2l0eSk7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqXG4gICAqIFRoZSBjYWxsYmFjayBmb3IgdGhlIGV2ZW50ICdtb3VzZWxlYXZlJy4gSXQgYXNzdW1lcyB0aGF0IHRoZSBldmVudCBjdXJyZW50VGFyZ2V0IGlzIGFuIGVudHJ5LlxuICAgKiBJdCBoaWRlcyB0aGUgY2FwdGlvbiB1c2luZyBqUXVlcnkgKG9yIHVzaW5nIENTUyBpZiBpdCBpcyBjb25maWd1cmVkIHNvKVxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudE9iamVjdCB0aGUgZXZlbnQgb2JqZWN0XG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5vbkVudHJ5TW91c2VMZWF2ZUZvckNhcHRpb24gPSBmdW5jdGlvbiAoZXZlbnRPYmplY3QpIHtcbiAgICB2YXIgJGNhcHRpb24gPSB0aGlzLmNhcHRpb25Gcm9tRW50cnkoJChldmVudE9iamVjdC5jdXJyZW50VGFyZ2V0KSk7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuY3NzQW5pbWF0aW9uKSB7XG4gICAgICAkY2FwdGlvbi5yZW1vdmVDbGFzcygnY2FwdGlvbi12aXNpYmxlJykucmVtb3ZlQ2xhc3MoJ2NhcHRpb24taGlkZGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRjYXB0aW9uLnN0b3AoKS5mYWRlVG8odGhpcy5zZXR0aW5ncy5jYXB0aW9uU2V0dGluZ3MuYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5jYXB0aW9uU2V0dGluZ3Mubm9uVmlzaWJsZU9wYWNpdHkpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBBZGQgdGhlIGhhbmRsZXJzIG9mIHRoZSBlbnRyeSBmb3IgdGhlIGNhcHRpb25cbiAgICpcbiAgICogQHBhcmFtICRlbnRyeSB0aGUgZW50cnkgdG8gbW9kaWZ5XG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5hZGRDYXB0aW9uRXZlbnRzSGFuZGxlcnMgPSBmdW5jdGlvbiAoJGVudHJ5KSB7XG4gICAgdmFyIGNhcHRpb25Nb3VzZUV2ZW50cyA9ICRlbnRyeS5kYXRhKCdqZy5jYXB0aW9uTW91c2VFdmVudHMnKTtcbiAgICBpZiAodHlwZW9mIGNhcHRpb25Nb3VzZUV2ZW50cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNhcHRpb25Nb3VzZUV2ZW50cyA9IHtcbiAgICAgICAgbW91c2VlbnRlcjogJC5wcm94eSh0aGlzLm9uRW50cnlNb3VzZUVudGVyRm9yQ2FwdGlvbiwgdGhpcyksXG4gICAgICAgIG1vdXNlbGVhdmU6ICQucHJveHkodGhpcy5vbkVudHJ5TW91c2VMZWF2ZUZvckNhcHRpb24sIHRoaXMpXG4gICAgICB9O1xuICAgICAgJGVudHJ5Lm9uKCdtb3VzZWVudGVyJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNhcHRpb25Nb3VzZUV2ZW50cy5tb3VzZWVudGVyKTtcbiAgICAgICRlbnRyeS5vbignbW91c2VsZWF2ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjYXB0aW9uTW91c2VFdmVudHMubW91c2VsZWF2ZSk7XG4gICAgICAkZW50cnkuZGF0YSgnamcuY2FwdGlvbk1vdXNlRXZlbnRzJywgY2FwdGlvbk1vdXNlRXZlbnRzKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBoYW5kbGVycyBvZiB0aGUgZW50cnkgZm9yIHRoZSBjYXB0aW9uXG4gICAqXG4gICAqIEBwYXJhbSAkZW50cnkgdGhlIGVudHJ5IHRvIG1vZGlmeVxuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUucmVtb3ZlQ2FwdGlvbkV2ZW50c0hhbmRsZXJzID0gZnVuY3Rpb24gKCRlbnRyeSkge1xuICAgIHZhciBjYXB0aW9uTW91c2VFdmVudHMgPSAkZW50cnkuZGF0YSgnamcuY2FwdGlvbk1vdXNlRXZlbnRzJyk7XG4gICAgaWYgKHR5cGVvZiBjYXB0aW9uTW91c2VFdmVudHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAkZW50cnkub2ZmKCdtb3VzZWVudGVyJywgdW5kZWZpbmVkLCBjYXB0aW9uTW91c2VFdmVudHMubW91c2VlbnRlcik7XG4gICAgICAkZW50cnkub2ZmKCdtb3VzZWxlYXZlJywgdW5kZWZpbmVkLCBjYXB0aW9uTW91c2VFdmVudHMubW91c2VsZWF2ZSk7XG4gICAgICAkZW50cnkucmVtb3ZlRGF0YSgnamcuY2FwdGlvbk1vdXNlRXZlbnRzJyk7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqXG4gICAqIENsZWFyIHRoZSBidWlsZGluZyByb3cgZGF0YSB0byBiZSB1c2VkIGZvciBhIG5ldyByb3dcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLmNsZWFyQnVpbGRpbmdSb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5idWlsZGluZ1Jvdy5lbnRyaWVzQnVmZiA9IFtdO1xuICAgIHRoaXMuYnVpbGRpbmdSb3cuYXNwZWN0UmF0aW8gPSAwO1xuICAgIHRoaXMuYnVpbGRpbmdSb3cud2lkdGggPSAwO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIEp1c3RpZnkgdGhlIGJ1aWxkaW5nIHJvdywgcHJlcGFyaW5nIGl0IHRvXG4gICAqXG4gICAqIEBwYXJhbSBpc0xhc3RSb3dcbiAgICogQHJldHVybnMgYSBib29sZWFuIHRvIGtub3cgaWYgdGhlIHJvdyBoYXMgYmVlbiBqdXN0aWZpZWQgb3Igbm90XG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5wcmVwYXJlQnVpbGRpbmdSb3cgPSBmdW5jdGlvbiAoaXNMYXN0Um93KSB7XG4gICAgdmFyIGksICRlbnRyeSwgaW1nQXNwZWN0UmF0aW8sIG5ld0ltZ1csIG5ld0ltZ0gsIGp1c3RpZnkgPSB0cnVlO1xuICAgIHZhciBtaW5IZWlnaHQgPSAwO1xuICAgIHZhciBhdmFpbGFibGVXaWR0aCA9IHRoaXMuZ2FsbGVyeVdpZHRoIC0gMiAqIHRoaXMuYm9yZGVyIC0gKFxuICAgICAgICAodGhpcy5idWlsZGluZ1Jvdy5lbnRyaWVzQnVmZi5sZW5ndGggLSAxKSAqIHRoaXMuc2V0dGluZ3MubWFyZ2lucyk7XG4gICAgdmFyIHJvd0hlaWdodCA9IGF2YWlsYWJsZVdpZHRoIC8gdGhpcy5idWlsZGluZ1Jvdy5hc3BlY3RSYXRpbztcbiAgICB2YXIgZGVmYXVsdFJvd0hlaWdodCA9IHRoaXMuc2V0dGluZ3Mucm93SGVpZ2h0O1xuICAgIHZhciBqdXN0aWZpYWJsZSA9IHRoaXMuYnVpbGRpbmdSb3cud2lkdGggLyBhdmFpbGFibGVXaWR0aCA+IHRoaXMuc2V0dGluZ3MuanVzdGlmeVRocmVzaG9sZDtcbiAgXG4gICAgLy9Ta2lwIHRoZSBsYXN0IHJvdyBpZiB3ZSBjYW4ndCBqdXN0aWZ5IGl0IGFuZCB0aGUgbGFzdFJvdyA9PSAnaGlkZSdcbiAgICBpZiAoaXNMYXN0Um93ICYmIHRoaXMuc2V0dGluZ3MubGFzdFJvdyA9PT0gJ2hpZGUnICYmICFqdXN0aWZpYWJsZSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVpbGRpbmdSb3cuZW50cmllc0J1ZmYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgJGVudHJ5ID0gdGhpcy5idWlsZGluZ1Jvdy5lbnRyaWVzQnVmZltpXTtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY3NzQW5pbWF0aW9uKVxuICAgICAgICAgICRlbnRyeS5yZW1vdmVDbGFzcygnZW50cnktdmlzaWJsZScpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkZW50cnkuc3RvcCgpLmZhZGVUbygwLCAwLjEpO1xuICAgICAgICAgICRlbnRyeS5maW5kKCc+IGltZywgPiBhID4gaW1nJykuZmFkZVRvKDAsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICBcbiAgICAvLyBXaXRoIGxhc3RSb3cgPSBub2p1c3RpZnksIGp1c3RpZnkgaWYgaXMganVzdGlmaWNhYmxlICh0aGUgaW1hZ2VzIHdpbGwgbm90IGJlY29tZSB0b28gYmlnKVxuICAgIGlmIChpc0xhc3RSb3cgJiYgIWp1c3RpZmlhYmxlICYmIHRoaXMuc2V0dGluZ3MubGFzdFJvdyAhPT0gJ2p1c3RpZnknICYmIHRoaXMuc2V0dGluZ3MubGFzdFJvdyAhPT0gJ2hpZGUnKSB7XG4gICAgICBqdXN0aWZ5ID0gZmFsc2U7XG4gIFxuICAgICAgaWYgKHRoaXMucm93cyA+IDApIHtcbiAgICAgICAgZGVmYXVsdFJvd0hlaWdodCA9ICh0aGlzLm9mZlkgLSB0aGlzLmJvcmRlciAtIHRoaXMuc2V0dGluZ3MubWFyZ2lucyAqIHRoaXMucm93cykgLyB0aGlzLnJvd3M7XG4gICAgICAgIGp1c3RpZnkgPSBkZWZhdWx0Um93SGVpZ2h0ICogdGhpcy5idWlsZGluZ1Jvdy5hc3BlY3RSYXRpbyAvIGF2YWlsYWJsZVdpZHRoID4gdGhpcy5zZXR0aW5ncy5qdXN0aWZ5VGhyZXNob2xkO1xuICAgICAgfVxuICAgIH1cbiAgXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVpbGRpbmdSb3cuZW50cmllc0J1ZmYubGVuZ3RoOyBpKyspIHtcbiAgICAgICRlbnRyeSA9IHRoaXMuYnVpbGRpbmdSb3cuZW50cmllc0J1ZmZbaV07XG4gICAgICBpbWdBc3BlY3RSYXRpbyA9ICRlbnRyeS5kYXRhKCdqZy53aWR0aCcpIC8gJGVudHJ5LmRhdGEoJ2pnLmhlaWdodCcpO1xuICBcbiAgICAgIGlmIChqdXN0aWZ5KSB7XG4gICAgICAgIG5ld0ltZ1cgPSAoaSA9PT0gdGhpcy5idWlsZGluZ1Jvdy5lbnRyaWVzQnVmZi5sZW5ndGggLSAxKSA/IGF2YWlsYWJsZVdpZHRoIDogcm93SGVpZ2h0ICogaW1nQXNwZWN0UmF0aW87XG4gICAgICAgIG5ld0ltZ0ggPSByb3dIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdJbWdXID0gZGVmYXVsdFJvd0hlaWdodCAqIGltZ0FzcGVjdFJhdGlvO1xuICAgICAgICBuZXdJbWdIID0gZGVmYXVsdFJvd0hlaWdodDtcbiAgICAgIH1cbiAgXG4gICAgICBhdmFpbGFibGVXaWR0aCAtPSBNYXRoLnJvdW5kKG5ld0ltZ1cpO1xuICAgICAgJGVudHJ5LmRhdGEoJ2pnLmp3aWR0aCcsIE1hdGgucm91bmQobmV3SW1nVykpO1xuICAgICAgJGVudHJ5LmRhdGEoJ2pnLmpoZWlnaHQnLCBNYXRoLmNlaWwobmV3SW1nSCkpO1xuICAgICAgaWYgKGkgPT09IDAgfHwgbWluSGVpZ2h0ID4gbmV3SW1nSCkgbWluSGVpZ2h0ID0gbmV3SW1nSDtcbiAgICB9XG4gIFxuICAgIHRoaXMuYnVpbGRpbmdSb3cuaGVpZ2h0ID0gbWluSGVpZ2h0O1xuICAgIHJldHVybiBqdXN0aWZ5O1xuICB9O1xuICBcbiAgLyoqXG4gICAqIEZsdXNoIGEgcm93OiBqdXN0aWZ5IGl0LCBtb2RpZnkgdGhlIGdhbGxlcnkgaGVpZ2h0IGFjY29yZGluZ2x5IHRvIHRoZSByb3cgaGVpZ2h0XG4gICAqXG4gICAqIEBwYXJhbSBpc0xhc3RSb3dcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLmZsdXNoUm93ID0gZnVuY3Rpb24gKGlzTGFzdFJvdykge1xuICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XG4gICAgdmFyICRlbnRyeSwgYnVpbGRpbmdSb3dSZXMsIG9mZlggPSB0aGlzLmJvcmRlciwgaTtcbiAgXG4gICAgYnVpbGRpbmdSb3dSZXMgPSB0aGlzLnByZXBhcmVCdWlsZGluZ1Jvdyhpc0xhc3RSb3cpO1xuICAgIGlmIChpc0xhc3RSb3cgJiYgc2V0dGluZ3MubGFzdFJvdyA9PT0gJ2hpZGUnICYmIGJ1aWxkaW5nUm93UmVzID09PSAtMSkge1xuICAgICAgdGhpcy5jbGVhckJ1aWxkaW5nUm93KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICBcbiAgICBpZih0aGlzLm1heFJvd0hlaWdodCkge1xuICAgICAgaWYodGhpcy5tYXhSb3dIZWlnaHQgPCB0aGlzLmJ1aWxkaW5nUm93LmhlaWdodCkgIHRoaXMuYnVpbGRpbmdSb3cuaGVpZ2h0ID0gdGhpcy5tYXhSb3dIZWlnaHQ7XG4gICAgfVxuICBcbiAgICAvL0FsaWduIGxhc3QgKHVuanVzdGlmaWVkKSByb3dcbiAgICBpZiAoaXNMYXN0Um93ICYmIChzZXR0aW5ncy5sYXN0Um93ID09PSAnY2VudGVyJyB8fCBzZXR0aW5ncy5sYXN0Um93ID09PSAncmlnaHQnKSkge1xuICAgICAgdmFyIGF2YWlsYWJsZVdpZHRoID0gdGhpcy5nYWxsZXJ5V2lkdGggLSAyICogdGhpcy5ib3JkZXIgLSAodGhpcy5idWlsZGluZ1Jvdy5lbnRyaWVzQnVmZi5sZW5ndGggLSAxKSAqIHNldHRpbmdzLm1hcmdpbnM7XG4gIFxuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVpbGRpbmdSb3cuZW50cmllc0J1ZmYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgJGVudHJ5ID0gdGhpcy5idWlsZGluZ1Jvdy5lbnRyaWVzQnVmZltpXTtcbiAgICAgICAgYXZhaWxhYmxlV2lkdGggLT0gJGVudHJ5LmRhdGEoJ2pnLmp3aWR0aCcpO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChzZXR0aW5ncy5sYXN0Um93ID09PSAnY2VudGVyJylcbiAgICAgICAgb2ZmWCArPSBhdmFpbGFibGVXaWR0aCAvIDI7XG4gICAgICBlbHNlIGlmIChzZXR0aW5ncy5sYXN0Um93ID09PSAncmlnaHQnKVxuICAgICAgICBvZmZYICs9IGF2YWlsYWJsZVdpZHRoO1xuICAgIH1cbiAgXG4gICAgdmFyIGxhc3RFbnRyeUlkeCA9IHRoaXMuYnVpbGRpbmdSb3cuZW50cmllc0J1ZmYubGVuZ3RoIC0gMTtcbiAgICBmb3IgKGkgPSAwOyBpIDw9IGxhc3RFbnRyeUlkeDsgaSsrKSB7XG4gICAgICAkZW50cnkgPSB0aGlzLmJ1aWxkaW5nUm93LmVudHJpZXNCdWZmWyB0aGlzLnNldHRpbmdzLnJ0bCA/IGxhc3RFbnRyeUlkeCAtIGkgOiBpIF07XG4gICAgICB0aGlzLmRpc3BsYXlFbnRyeSgkZW50cnksIG9mZlgsIHRoaXMub2ZmWSwgJGVudHJ5LmRhdGEoJ2pnLmp3aWR0aCcpLCAkZW50cnkuZGF0YSgnamcuamhlaWdodCcpLCB0aGlzLmJ1aWxkaW5nUm93LmhlaWdodCk7XG4gICAgICBvZmZYICs9ICRlbnRyeS5kYXRhKCdqZy5qd2lkdGgnKSArIHNldHRpbmdzLm1hcmdpbnM7XG4gICAgfVxuICBcbiAgICAvL0dhbGxlcnkgSGVpZ2h0XG4gICAgdGhpcy5nYWxsZXJ5SGVpZ2h0VG9TZXQgPSB0aGlzLm9mZlkgKyB0aGlzLmJ1aWxkaW5nUm93LmhlaWdodCArIHRoaXMuYm9yZGVyO1xuICAgIHRoaXMuc2V0R2FsbGVyeVRlbXBIZWlnaHQodGhpcy5nYWxsZXJ5SGVpZ2h0VG9TZXQgKyB0aGlzLmdldFNwaW5uZXJIZWlnaHQoKSk7XG4gIFxuICAgIGlmICghaXNMYXN0Um93IHx8ICh0aGlzLmJ1aWxkaW5nUm93LmhlaWdodCA8PSBzZXR0aW5ncy5yb3dIZWlnaHQgJiYgYnVpbGRpbmdSb3dSZXMpKSB7XG4gICAgICAvL1JlYWR5IGZvciBhIG5ldyByb3dcbiAgICAgIHRoaXMub2ZmWSArPSB0aGlzLmJ1aWxkaW5nUm93LmhlaWdodCArIHNldHRpbmdzLm1hcmdpbnM7XG4gICAgICB0aGlzLnJvd3MgKz0gMTtcbiAgICAgIHRoaXMuY2xlYXJCdWlsZGluZ1JvdygpO1xuICAgICAgdGhpcy5zZXR0aW5ncy50cmlnZ2VyRXZlbnQuY2FsbCh0aGlzLCAnamcucm93Zmx1c2gnKTtcbiAgICB9XG4gIH07XG4gIFxuICBcbiAgLy8gU2Nyb2xsIHBvc2l0aW9uIG5vdCByZXN0b3Jpbmc6IGh0dHBzOi8vZ2l0aHViLmNvbS9taXJvbWFubmluby9KdXN0aWZpZWQtR2FsbGVyeS9pc3N1ZXMvMjIxXG4gIHZhciBnYWxsZXJ5UHJldlN0YXRpY0hlaWdodCA9IDA7XG4gIFxuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5yZW1lbWJlckdhbGxlcnlIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZ2FsbGVyeVByZXZTdGF0aWNIZWlnaHQgPSB0aGlzLiRnYWxsZXJ5LmhlaWdodCgpO1xuICAgIHRoaXMuJGdhbGxlcnkuaGVpZ2h0KGdhbGxlcnlQcmV2U3RhdGljSGVpZ2h0KTtcbiAgfTtcbiAgXG4gIC8vIGdyb3cgb25seVxuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5zZXRHYWxsZXJ5VGVtcEhlaWdodCA9IGZ1bmN0aW9uIChoZWlnaHQpIHtcbiAgICBnYWxsZXJ5UHJldlN0YXRpY0hlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgZ2FsbGVyeVByZXZTdGF0aWNIZWlnaHQpO1xuICAgIHRoaXMuJGdhbGxlcnkuaGVpZ2h0KGdhbGxlcnlQcmV2U3RhdGljSGVpZ2h0KTtcbiAgfTtcbiAgXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLnNldEdhbGxlcnlGaW5hbEhlaWdodCA9IGZ1bmN0aW9uIChoZWlnaHQpIHtcbiAgICBnYWxsZXJ5UHJldlN0YXRpY0hlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLiRnYWxsZXJ5LmhlaWdodChoZWlnaHQpO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBhIGJvb2xlYW4gc2F5aW5nIGlmIHRoZSBzY3JvbGxiYXIgaXMgYWN0aXZlIG9yIG5vdFxuICAgKi9cbiAgZnVuY3Rpb24gaGFzU2Nyb2xsQmFyKCkge1xuICAgIHJldHVybiAkKFwiYm9keVwiKS5oZWlnaHQoKSA+ICQod2luZG93KS5oZWlnaHQoKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIENoZWNrcyB0aGUgd2lkdGggb2YgdGhlIGdhbGxlcnkgY29udGFpbmVyLCB0byBrbm93IGlmIGEgbmV3IGp1c3RpZmljYXRpb24gaXMgbmVlZGVkXG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5jaGVja1dpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY2hlY2tXaWR0aEludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgXG4gICAgICAvLyBpZiB0aGUgZ2FsbGVyeSBpcyBub3QgY3VycmVudGx5IHZpc2libGUsIGFib3J0LlxuICAgICAgaWYgKCF0aGlzLiRnYWxsZXJ5LmlzKFwiOnZpc2libGVcIikpIHJldHVybjtcbiAgXG4gICAgICB2YXIgZ2FsbGVyeVdpZHRoID0gcGFyc2VGbG9hdCh0aGlzLiRnYWxsZXJ5LndpZHRoKCkpO1xuICAgICAgaWYgKGhhc1Njcm9sbEJhcigpID09PSB0aGlzLnNjcm9sbEJhck9uKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhnYWxsZXJ5V2lkdGggLSB0aGlzLmdhbGxlcnlXaWR0aCkgPiB0aGlzLnNldHRpbmdzLnJlZnJlc2hTZW5zaXRpdml0eSkge1xuICAgICAgICAgIHRoaXMuZ2FsbGVyeVdpZHRoID0gZ2FsbGVyeVdpZHRoO1xuICAgICAgICAgIHRoaXMucmV3aW5kKCk7XG4gIFxuICAgICAgICAgIHRoaXMucmVtZW1iZXJHYWxsZXJ5SGVpZ2h0KCk7XG4gIFxuICAgICAgICAgIC8vIFJlc3RhcnQgdG8gYW5hbHl6ZVxuICAgICAgICAgIHRoaXMuc3RhcnRJbWdBbmFseXplcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zY3JvbGxCYXJPbiA9IGhhc1Njcm9sbEJhcigpO1xuICAgICAgICB0aGlzLmdhbGxlcnlXaWR0aCA9IGdhbGxlcnlXaWR0aDtcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgdGhpcy5zZXR0aW5ncy5yZWZyZXNoVGltZSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59IGEgYm9vbGVhbiBzYXlpbmcgaWYgdGhlIHNwaW5uZXIgaXMgYWN0aXZlIG9yIG5vdFxuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuaXNTcGlubmVyQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnNwaW5uZXIuaW50ZXJ2YWxJZCAhPT0gbnVsbDtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7aW50fSB0aGUgc3Bpbm5lciBoZWlnaHRcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLmdldFNwaW5uZXJIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Bpbm5lci4kZWwuaW5uZXJIZWlnaHQoKTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgc3Bpbm5lciBhbmltYXRpb24gYW5kIG1vZGlmeSB0aGUgZ2FsbGVyeSBoZWlnaHQgdG8gZXhjbHVkZSB0aGUgc3Bpbm5lclxuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuc3RvcExvYWRpbmdTcGlubmVyQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zcGlubmVyLmludGVydmFsSWQpO1xuICAgIHRoaXMuc3Bpbm5lci5pbnRlcnZhbElkID0gbnVsbDtcbiAgICB0aGlzLnNldEdhbGxlcnlUZW1wSGVpZ2h0KHRoaXMuJGdhbGxlcnkuaGVpZ2h0KCkgLSB0aGlzLmdldFNwaW5uZXJIZWlnaHQoKSk7XG4gICAgdGhpcy5zcGlubmVyLiRlbC5kZXRhY2goKTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHNwaW5uZXIgYW5pbWF0aW9uXG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5zdGFydExvYWRpbmdTcGlubmVyQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzcGlubmVyQ29udGV4dCA9IHRoaXMuc3Bpbm5lcjtcbiAgICB2YXIgJHNwaW5uZXJQb2ludHMgPSBzcGlubmVyQ29udGV4dC4kZWwuZmluZCgnc3BhbicpO1xuICAgIGNsZWFySW50ZXJ2YWwoc3Bpbm5lckNvbnRleHQuaW50ZXJ2YWxJZCk7XG4gICAgdGhpcy4kZ2FsbGVyeS5hcHBlbmQoc3Bpbm5lckNvbnRleHQuJGVsKTtcbiAgICB0aGlzLnNldEdhbGxlcnlUZW1wSGVpZ2h0KHRoaXMub2ZmWSArIHRoaXMuYnVpbGRpbmdSb3cuaGVpZ2h0ICsgdGhpcy5nZXRTcGlubmVySGVpZ2h0KCkpO1xuICAgIHNwaW5uZXJDb250ZXh0LmludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc3Bpbm5lckNvbnRleHQucGhhc2UgPCAkc3Bpbm5lclBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgJHNwaW5uZXJQb2ludHMuZXEoc3Bpbm5lckNvbnRleHQucGhhc2UpLmZhZGVUbyhzcGlubmVyQ29udGV4dC50aW1lU2xvdCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkc3Bpbm5lclBvaW50cy5lcShzcGlubmVyQ29udGV4dC5waGFzZSAtICRzcGlubmVyUG9pbnRzLmxlbmd0aCkuZmFkZVRvKHNwaW5uZXJDb250ZXh0LnRpbWVTbG90LCAwKTtcbiAgICAgIH1cbiAgICAgIHNwaW5uZXJDb250ZXh0LnBoYXNlID0gKHNwaW5uZXJDb250ZXh0LnBoYXNlICsgMSkgJSAoJHNwaW5uZXJQb2ludHMubGVuZ3RoICogMik7XG4gICAgfSwgc3Bpbm5lckNvbnRleHQudGltZVNsb3QpO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFJld2luZCB0aGUgaW1hZ2UgYW5hbHlzaXMgdG8gc3RhcnQgZnJvbSB0aGUgZmlyc3QgZW50cnkuXG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5yZXdpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5sYXN0RmV0Y2hlZEVudHJ5ID0gbnVsbDtcbiAgICB0aGlzLmxhc3RBbmFseXplZEluZGV4ID0gLTE7XG4gICAgdGhpcy5vZmZZID0gdGhpcy5ib3JkZXI7XG4gICAgdGhpcy5yb3dzID0gMDtcbiAgICB0aGlzLmNsZWFyQnVpbGRpbmdSb3coKTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGVudHJpZXMgc2VhcmNoaW5nIGl0IGZyb20gdGhlIGp1c3RpZmllZCBnYWxsZXJ5IEhUTUwgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0gbm9yZXdpbmQgaWYgbm9yZXdpbmQgb25seSB0aGUgbmV3IGVudHJpZXMgd2lsbCBiZSBjaGFuZ2VkIChpLmUuIHJhbmRvbWl6ZWQsIHNvcnRlZCBvciBmaWx0ZXJlZClcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgc29tZSBlbnRyaWVzIGhhcyBiZWVuIGZvdW5kZWRcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLnVwZGF0ZUVudHJpZXMgPSBmdW5jdGlvbiAobm9yZXdpbmQpIHtcbiAgICB2YXIgbmV3RW50cmllcztcbiAgXG4gICAgaWYgKG5vcmV3aW5kICYmIHRoaXMubGFzdEZldGNoZWRFbnRyeSAhPSBudWxsKSB7XG4gICAgICBuZXdFbnRyaWVzID0gJCh0aGlzLmxhc3RGZXRjaGVkRW50cnkpLm5leHRBbGwodGhpcy5zZXR0aW5ncy5zZWxlY3RvcikudG9BcnJheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVudHJpZXMgPSBbXTtcbiAgICAgIG5ld0VudHJpZXMgPSB0aGlzLiRnYWxsZXJ5LmNoaWxkcmVuKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IpLnRvQXJyYXkoKTtcbiAgICB9XG4gIFxuICAgIGlmIChuZXdFbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgXG4gICAgICAvLyBTb3J0IG9yIHJhbmRvbWl6ZVxuICAgICAgaWYgKCQuaXNGdW5jdGlvbih0aGlzLnNldHRpbmdzLnNvcnQpKSB7XG4gICAgICAgIG5ld0VudHJpZXMgPSB0aGlzLnNvcnRBcnJheShuZXdFbnRyaWVzKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5yYW5kb21pemUpIHtcbiAgICAgICAgbmV3RW50cmllcyA9IHRoaXMuc2h1ZmZsZUFycmF5KG5ld0VudHJpZXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5sYXN0RmV0Y2hlZEVudHJ5ID0gbmV3RW50cmllc1tuZXdFbnRyaWVzLmxlbmd0aCAtIDFdO1xuICBcbiAgICAgIC8vIEZpbHRlclxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZmlsdGVyKSB7XG4gICAgICAgIG5ld0VudHJpZXMgPSB0aGlzLmZpbHRlckFycmF5KG5ld0VudHJpZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNldEZpbHRlcnMobmV3RW50cmllcyk7XG4gICAgICB9XG4gIFxuICAgIH1cbiAgXG4gICAgdGhpcy5lbnRyaWVzID0gdGhpcy5lbnRyaWVzLmNvbmNhdChuZXdFbnRyaWVzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBBcHBseSB0aGUgZW50cmllcyBvcmRlciB0byB0aGUgRE9NLCBpdGVyYXRpbmcgdGhlIGVudHJpZXMgYW5kIGFwcGVuZGluZyB0aGUgaW1hZ2VzXG4gICAqXG4gICAqIEBwYXJhbSBlbnRyaWVzIHRoZSBlbnRyaWVzIHRoYXQgaGFzIGJlZW4gbW9kaWZpZWQgYW5kIHRoYXQgbXVzdCBiZSByZS1vcmRlcmVkIGluIHRoZSBET01cbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLmluc2VydFRvR2FsbGVyeSA9IGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICQuZWFjaChlbnRyaWVzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLmFwcGVuZFRvKHRoYXQuJGdhbGxlcnkpO1xuICAgIH0pO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFNodWZmbGUgdGhlIGFycmF5IHVzaW5nIHRoZSBGaXNoZXItWWF0ZXMgc2h1ZmZsZSBhbGdvcml0aG1cbiAgICpcbiAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIHNodWZmbGVcbiAgICogQHJldHVybiB0aGUgc2h1ZmZsZWQgYXJyYXlcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLnNodWZmbGVBcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGksIGosIHRlbXA7XG4gICAgZm9yIChpID0gYS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XG4gICAgICB0ZW1wID0gYVtpXTtcbiAgICAgIGFbaV0gPSBhW2pdO1xuICAgICAgYVtqXSA9IHRlbXA7XG4gICAgfVxuICAgIHRoaXMuaW5zZXJ0VG9HYWxsZXJ5KGEpO1xuICAgIHJldHVybiBhO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFNvcnQgdGhlIGFycmF5IHVzaW5nIHNldHRpbmdzLmNvbXBhcmF0b3IgYXMgY29tcGFyYXRvclxuICAgKlxuICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gc29ydCAoaXQgaXMgc29ydGVkKVxuICAgKiBAcmV0dXJuIHRoZSBzb3J0ZWQgYXJyYXlcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLnNvcnRBcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgYS5zb3J0KHRoaXMuc2V0dGluZ3Muc29ydCk7XG4gICAgdGhpcy5pbnNlcnRUb0dhbGxlcnkoYSk7XG4gICAgcmV0dXJuIGE7XG4gIH07XG4gIFxuICAvKipcbiAgICogUmVzZXQgdGhlIGZpbHRlcnMgcmVtb3ZpbmcgdGhlICdqZy1maWx0ZXJlZCcgY2xhc3MgZnJvbSBhbGwgdGhlIGVudHJpZXNcbiAgICpcbiAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIHJlc2V0XG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5yZXNldEZpbHRlcnMgPSBmdW5jdGlvbiAoYSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgJChhW2ldKS5yZW1vdmVDbGFzcygnamctZmlsdGVyZWQnKTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBGaWx0ZXIgdGhlIGVudHJpZXMgY29uc2lkZXJpbmcgdGhlaXJzIGNsYXNzZXMgKGlmIGEgc3RyaW5nIGhhcyBiZWVuIHBhc3NlZCkgb3IgdXNpbmcgYSBmdW5jdGlvbiBmb3IgZmlsdGVyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gZmlsdGVyXG4gICAqIEByZXR1cm4gdGhlIGZpbHRlcmVkIGFycmF5XG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5maWx0ZXJBcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcbiAgICBpZiAoJC50eXBlKHNldHRpbmdzLmZpbHRlcikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBGaWx0ZXIgb25seSBrZWVwaW5nIHRoZSBlbnRyaWVzIHBhc3NlZCBpbiB0aGUgc3RyaW5nXG4gICAgICByZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHZhciAkZWwgPSAkKGVsKTtcbiAgICAgICAgaWYgKCRlbC5pcyhzZXR0aW5ncy5maWx0ZXIpKSB7XG4gICAgICAgICAgJGVsLnJlbW92ZUNsYXNzKCdqZy1maWx0ZXJlZCcpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbC5hZGRDbGFzcygnamctZmlsdGVyZWQnKS5yZW1vdmVDbGFzcygnamctdmlzaWJsZScpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICgkLmlzRnVuY3Rpb24oc2V0dGluZ3MuZmlsdGVyKSkge1xuICAgICAgLy8gRmlsdGVyIHVzaW5nIHRoZSBwYXNzZWQgZnVuY3Rpb25cbiAgICAgIHZhciBmaWx0ZXJlZEFyciA9IGEuZmlsdGVyKHNldHRpbmdzLmZpbHRlcik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZpbHRlcmVkQXJyLmluZGV4T2YoYVtpXSkgPT09IC0xKSB7XG4gICAgICAgICAgJChhW2ldKS5hZGRDbGFzcygnamctZmlsdGVyZWQnKS5yZW1vdmVDbGFzcygnamctdmlzaWJsZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoYVtpXSkucmVtb3ZlQ2xhc3MoJ2pnLWZpbHRlcmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmaWx0ZXJlZEFycjtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogRGVzdHJveSB0aGUgSnVzdGlmaWVkIEdhbGxlcnkgaW5zdGFuY2UuXG4gICAqXG4gICAqIEl0IGNsZWFycyBhbGwgdGhlIGNzcyBwcm9wZXJ0aWVzIGFkZGVkIGluIHRoZSBzdHlsZSBhdHRyaWJ1dGVzLiBXZSBkb2Vzbid0IGJhY2t1cCB0aGUgb3JpZ2luYWxcbiAgICogdmFsdWVzIGZvciB0aG9zZSBjc3MgYXR0cmlidXRlcywgYmVjYXVzZSBpdCBjb3N0cyAocGVyZm9ybWFuY2UpIGFuZCBiZWNhdXNlIGluIGdlbmVyYWwgb25lXG4gICAqIHNob3VsZG4ndCB1c2UgdGhlIHN0eWxlIGF0dHJpYnV0ZSBmb3IgYW4gdW5pZm9ybSBzZXQgb2YgaW1hZ2VzICh3aGVyZSB3ZSBzdXBwb3NlIHRoZSB1c2Ugb2ZcbiAgICogY2xhc3NlcykuIENyZWF0aW5nIGEgYmFja3VwIGlzIGFsc28gZGlmZmljdWx0IGJlY2F1c2UgSkcgY291bGQgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGFuZFxuICAgKiB3aXRoIGRpZmZlcmVudCBzdHlsZSBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuY2hlY2tXaWR0aEludGVydmFsSWQpO1xuICBcbiAgICAkLmVhY2godGhpcy5lbnRyaWVzLCAkLnByb3h5KGZ1bmN0aW9uKF8sIGVudHJ5KSB7XG4gICAgICB2YXIgJGVudHJ5ID0gJChlbnRyeSk7XG4gIFxuICAgICAgLy8gUmVzZXQgZW50cnkgc3R5bGVcbiAgICAgICRlbnRyeS5jc3MoJ3dpZHRoJywgJycpO1xuICAgICAgJGVudHJ5LmNzcygnaGVpZ2h0JywgJycpO1xuICAgICAgJGVudHJ5LmNzcygndG9wJywgJycpO1xuICAgICAgJGVudHJ5LmNzcygnbGVmdCcsICcnKTtcbiAgICAgICRlbnRyeS5kYXRhKCdqZy5sb2FkZWQnLCB1bmRlZmluZWQpO1xuICAgICAgJGVudHJ5LnJlbW92ZUNsYXNzKCdqZy1lbnRyeScpO1xuICBcbiAgICAgIC8vIFJlc2V0IGltYWdlIHN0eWxlXG4gICAgICB2YXIgJGltZyA9IHRoaXMuaW1nRnJvbUVudHJ5KCRlbnRyeSk7XG4gICAgICAkaW1nLmNzcygnd2lkdGgnLCAnJyk7XG4gICAgICAkaW1nLmNzcygnaGVpZ2h0JywgJycpO1xuICAgICAgJGltZy5jc3MoJ21hcmdpbi1sZWZ0JywgJycpO1xuICAgICAgJGltZy5jc3MoJ21hcmdpbi10b3AnLCAnJyk7XG4gICAgICAkaW1nLmF0dHIoJ3NyYycsICRpbWcuZGF0YSgnamcub3JpZ2luYWxTcmMnKSk7XG4gICAgICAkaW1nLmRhdGEoJ2pnLm9yaWdpbmFsU3JjJywgdW5kZWZpbmVkKTtcbiAgXG4gICAgICAvLyBSZW1vdmUgY2FwdGlvblxuICAgICAgdGhpcy5yZW1vdmVDYXB0aW9uRXZlbnRzSGFuZGxlcnMoJGVudHJ5KTtcbiAgICAgIHZhciAkY2FwdGlvbiA9IHRoaXMuY2FwdGlvbkZyb21FbnRyeSgkZW50cnkpO1xuICAgICAgaWYgKCRlbnRyeS5kYXRhKCdqZy5jcmVhdGVkQ2FwdGlvbicpKSB7XG4gICAgICAgIC8vIHJlbW92ZSBhbHNvIHRoZSBjYXB0aW9uIGVsZW1lbnQgKGlmIGNyZWF0ZWQgYnkgamcpXG4gICAgICAgICRlbnRyeS5kYXRhKCdqZy5jcmVhdGVkQ2FwdGlvbicsIHVuZGVmaW5lZCk7XG4gICAgICAgIGlmICgkY2FwdGlvbiAhPT0gbnVsbCkgJGNhcHRpb24ucmVtb3ZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoJGNhcHRpb24gIT09IG51bGwpICRjYXB0aW9uLmZhZGVUbygwLCAxKTtcbiAgICAgIH1cbiAgXG4gICAgfSwgdGhpcykpO1xuICBcbiAgICB0aGlzLiRnYWxsZXJ5LmNzcygnaGVpZ2h0JywgJycpO1xuICAgIHRoaXMuJGdhbGxlcnkucmVtb3ZlQ2xhc3MoJ2p1c3RpZmllZC1nYWxsZXJ5Jyk7XG4gICAgdGhpcy4kZ2FsbGVyeS5kYXRhKCdqZy5jb250cm9sbGVyJywgdW5kZWZpbmVkKTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBBbmFseXplIHRoZSBpbWFnZXMgYW5kIGJ1aWxkcyB0aGUgcm93cy4gSXQgcmV0dXJucyBpZiBpdCBmb3VuZCBhbiBpbWFnZSB0aGF0IGlzIG5vdCBsb2FkZWQuXG4gICAqXG4gICAqIEBwYXJhbSBpc0ZvclJlc2l6ZSBpZiB0aGUgaW1hZ2UgYW5hbHl6ZXIgaXMgY2FsbGVkIGZvciByZXNpemluZyBvciBub3QsIHRvIGNhbGwgYSBkaWZmZXJlbnQgY2FsbGJhY2sgYXQgdGhlIGVuZFxuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuYW5hbHl6ZUltYWdlcyA9IGZ1bmN0aW9uIChpc0ZvclJlc2l6ZSkge1xuICAgIGZvciAodmFyIGkgPSB0aGlzLmxhc3RBbmFseXplZEluZGV4ICsgMTsgaSA8IHRoaXMuZW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyICRlbnRyeSA9ICQodGhpcy5lbnRyaWVzW2ldKTtcbiAgICAgIGlmICgkZW50cnkuZGF0YSgnamcubG9hZGVkJykgPT09IHRydWUgfHwgJGVudHJ5LmRhdGEoJ2pnLmxvYWRlZCcpID09PSAnc2tpcHBlZCcpIHtcbiAgICAgICAgdmFyIGF2YWlsYWJsZVdpZHRoID0gdGhpcy5nYWxsZXJ5V2lkdGggLSAyICogdGhpcy5ib3JkZXIgLSAoXG4gICAgICAgICAgICAodGhpcy5idWlsZGluZ1Jvdy5lbnRyaWVzQnVmZi5sZW5ndGggLSAxKSAqIHRoaXMuc2V0dGluZ3MubWFyZ2lucyk7XG4gICAgICAgIHZhciBpbWdBc3BlY3RSYXRpbyA9ICRlbnRyeS5kYXRhKCdqZy53aWR0aCcpIC8gJGVudHJ5LmRhdGEoJ2pnLmhlaWdodCcpO1xuICAgICAgICBpZiAoYXZhaWxhYmxlV2lkdGggLyAodGhpcy5idWlsZGluZ1Jvdy5hc3BlY3RSYXRpbyArIGltZ0FzcGVjdFJhdGlvKSA8IHRoaXMuc2V0dGluZ3Mucm93SGVpZ2h0KSB7XG4gICAgICAgICAgdGhpcy5mbHVzaFJvdyhmYWxzZSk7XG4gIFxuICAgICAgICAgIGlmKCsrdGhpcy55aWVsZC5mbHVzaGVkID49IHRoaXMueWllbGQuZXZlcnkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRJbWdBbmFseXplcihpc0ZvclJlc2l6ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gIFxuICAgICAgICB0aGlzLmJ1aWxkaW5nUm93LmVudHJpZXNCdWZmLnB1c2goJGVudHJ5KTtcbiAgICAgICAgdGhpcy5idWlsZGluZ1Jvdy5hc3BlY3RSYXRpbyArPSBpbWdBc3BlY3RSYXRpbztcbiAgICAgICAgdGhpcy5idWlsZGluZ1Jvdy53aWR0aCArPSBpbWdBc3BlY3RSYXRpbyAqIHRoaXMuc2V0dGluZ3Mucm93SGVpZ2h0O1xuICAgICAgICB0aGlzLmxhc3RBbmFseXplZEluZGV4ID0gaTtcbiAgXG4gICAgICB9IGVsc2UgaWYgKCRlbnRyeS5kYXRhKCdqZy5sb2FkZWQnKSAhPT0gJ2Vycm9yJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICBcbiAgICAvLyBMYXN0IHJvdyBmbHVzaCAodGhlIHJvdyBpcyBub3QgZnVsbClcbiAgICBpZiAodGhpcy5idWlsZGluZ1Jvdy5lbnRyaWVzQnVmZi5sZW5ndGggPiAwKSB0aGlzLmZsdXNoUm93KHRydWUpO1xuICBcbiAgICBpZiAodGhpcy5pc1NwaW5uZXJBY3RpdmUoKSkge1xuICAgICAgdGhpcy5zdG9wTG9hZGluZ1NwaW5uZXJBbmltYXRpb24oKTtcbiAgICB9XG4gIFxuICAgIC8qIFN0b3AsIGlmIHRoZXJlIGlzLCB0aGUgdGltZW91dCB0byBzdGFydCB0aGUgYW5hbHl6ZUltYWdlcy5cbiAgICAgVGhpcyBpcyBiZWNhdXNlIGFuIGltYWdlIGNhbiBiZSBzZXQgbG9hZGVkLCBhbmQgdGhlIHRpbWVvdXQgY2FuIGJlIHNldCxcbiAgICAgYnV0IHRoaXMgaW1hZ2UgY2FuIGJlIGFuYWx5emVkIHlldC5cbiAgICAgKi9cbiAgICB0aGlzLnN0b3BJbWdBbmFseXplclN0YXJ0ZXIoKTtcbiAgXG4gICAgLy9PbiBjb21wbGV0ZSBjYWxsYmFja1xuICAgIHRoaXMuc2V0dGluZ3MudHJpZ2dlckV2ZW50LmNhbGwodGhpcywgaXNGb3JSZXNpemUgPyAnamcucmVzaXplJyA6ICdqZy5jb21wbGV0ZScpO1xuICAgIHRoaXMuc2V0R2FsbGVyeUZpbmFsSGVpZ2h0KHRoaXMuZ2FsbGVyeUhlaWdodFRvU2V0KTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTdG9wcyBhbnkgSW1nQW5hbHl6ZXIgc3RhcnRlciAodGhhdCBoYXMgYW4gYXNzaWduZWQgdGltZW91dClcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLnN0b3BJbWdBbmFseXplclN0YXJ0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy55aWVsZC5mbHVzaGVkID0gMDtcbiAgICBpZiAodGhpcy5pbWdBbmFseXplclRpbWVvdXQgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmltZ0FuYWx5emVyVGltZW91dCk7XG4gICAgICB0aGlzLmltZ0FuYWx5emVyVGltZW91dCA9IG51bGw7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgaW1hZ2UgYW5hbHl6ZXIuIEl0IGlzIG5vdCBpbW1lZGlhdGVseSBjYWxsZWQgdG8gbGV0IHRoZSBicm93c2VyIHRvIHVwZGF0ZSB0aGUgdmlld1xuICAgKlxuICAgKiBAcGFyYW0gaXNGb3JSZXNpemUgc3BlY2lmaWVzIGlmIHRoZSBpbWFnZSBhbmFseXplciBtdXN0IGJlIGNhbGxlZCBmb3IgcmVzaXppbmcgb3Igbm90XG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5zdGFydEltZ0FuYWx5emVyID0gZnVuY3Rpb24gKGlzRm9yUmVzaXplKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuc3RvcEltZ0FuYWx5emVyU3RhcnRlcigpO1xuICAgIHRoaXMuaW1nQW5hbHl6ZXJUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LmFuYWx5emVJbWFnZXMoaXNGb3JSZXNpemUpO1xuICAgIH0sIDAuMDAxKTsgLy8gd2UgY2FuJ3Qgc3RhcnQgaXQgaW1tZWRpYXRlbHkgZHVlIHRvIGEgSUUgZGlmZmVyZW50IGJlaGF2aW91clxuICB9O1xuICBcbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgaW1hZ2UgaXMgbG9hZGVkIG9yIG5vdCB1c2luZyBhbm90aGVyIGltYWdlIG9iamVjdC4gV2UgY2Fubm90IHVzZSB0aGUgJ2NvbXBsZXRlJyBpbWFnZSBwcm9wZXJ0eSxcbiAgICogYmVjYXVzZSBzb21lIGJyb3dzZXJzLCB3aXRoIGEgNDA0IHNldCBjb21wbGV0ZSA9IHRydWUuXG4gICAqXG4gICAqIEBwYXJhbSBpbWFnZVNyYyB0aGUgaW1hZ2Ugc3JjIHRvIGxvYWRcbiAgICogQHBhcmFtIG9uTG9hZCBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBpbWFnZSBoYXMgYmVlbiBsb2FkZWRcbiAgICogQHBhcmFtIG9uRXJyb3IgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgaW4gY2FzZSBvZiBhbiBlcnJvclxuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUub25JbWFnZUV2ZW50ID0gZnVuY3Rpb24gKGltYWdlU3JjLCBvbkxvYWQsIG9uRXJyb3IpIHtcbiAgICBpZiAoIW9uTG9hZCAmJiAhb25FcnJvcikgcmV0dXJuO1xuICBcbiAgICB2YXIgbWVtSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB2YXIgJG1lbUltYWdlID0gJChtZW1JbWFnZSk7XG4gICAgaWYgKG9uTG9hZCkge1xuICAgICAgJG1lbUltYWdlLm9uZSgnbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJG1lbUltYWdlLm9mZignbG9hZCBlcnJvcicpO1xuICAgICAgICBvbkxvYWQobWVtSW1hZ2UpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAkbWVtSW1hZ2Uub25lKCdlcnJvcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkbWVtSW1hZ2Uub2ZmKCdsb2FkIGVycm9yJyk7XG4gICAgICAgIG9uRXJyb3IobWVtSW1hZ2UpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIG1lbUltYWdlLnNyYyA9IGltYWdlU3JjO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIEluaXQgb2YgSnVzdGlmaWVkIEdhbGxlcnkgY29udHJvbGxlZFxuICAgKiBJdCBhbmFseXplcyBhbGwgdGhlIGVudHJpZXMgc3RhcnRpbmcgdGhlaXJzIGxvYWRpbmcgYW5kIGNhbGxpbmcgdGhlIGltYWdlIGFuYWx5emVyICh0aGF0IHdvcmtzIHdpdGggbG9hZGVkIGltYWdlcylcbiAgICovXG4gIEp1c3RpZmllZEdhbGxlcnkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGltYWdlc1RvTG9hZCA9IGZhbHNlLCBza2lwcGVkSW1hZ2VzID0gZmFsc2UsIHRoYXQgPSB0aGlzO1xuICAgICQuZWFjaCh0aGlzLmVudHJpZXMsIGZ1bmN0aW9uIChpbmRleCwgZW50cnkpIHtcbiAgICAgIHZhciAkZW50cnkgPSAkKGVudHJ5KTtcbiAgICAgIHZhciAkaW1hZ2UgPSB0aGF0LmltZ0Zyb21FbnRyeSgkZW50cnkpO1xuICBcbiAgICAgICRlbnRyeS5hZGRDbGFzcygnamctZW50cnknKTtcbiAgXG4gICAgICBpZiAoJGVudHJ5LmRhdGEoJ2pnLmxvYWRlZCcpICE9PSB0cnVlICYmICRlbnRyeS5kYXRhKCdqZy5sb2FkZWQnKSAhPT0gJ3NraXBwZWQnKSB7XG4gIFxuICAgICAgICAvLyBMaW5rIFJlbCBnbG9iYWwgb3ZlcndyaXRlXG4gICAgICAgIGlmICh0aGF0LnNldHRpbmdzLnJlbCAhPT0gbnVsbCkgJGVudHJ5LmF0dHIoJ3JlbCcsIHRoYXQuc2V0dGluZ3MucmVsKTtcbiAgXG4gICAgICAgIC8vIExpbmsgVGFyZ2V0IGdsb2JhbCBvdmVyd3JpdGVcbiAgICAgICAgaWYgKHRoYXQuc2V0dGluZ3MudGFyZ2V0ICE9PSBudWxsKSAkZW50cnkuYXR0cigndGFyZ2V0JywgdGhhdC5zZXR0aW5ncy50YXJnZXQpO1xuICBcbiAgICAgICAgaWYgKCRpbWFnZSAhPT0gbnVsbCkge1xuICBcbiAgICAgICAgICAvLyBJbWFnZSBzcmNcbiAgICAgICAgICB2YXIgaW1hZ2VTcmMgPSB0aGF0LmV4dHJhY3RJbWdTcmNGcm9tSW1hZ2UoJGltYWdlKTtcbiAgICAgICAgICAkaW1hZ2UuYXR0cignc3JjJywgaW1hZ2VTcmMpO1xuICBcbiAgICAgICAgICAvKiBJZiB3ZSBoYXZlIHRoZSBoZWlnaHQgYW5kIHRoZSB3aWR0aCwgd2UgZG9uJ3Qgd2FpdCB0aGF0IHRoZSBpbWFnZSBpcyBsb2FkZWQsIGJ1dCB3ZSBzdGFydCBkaXJlY3RseVxuICAgICAgICAgICAqIHdpdGggdGhlIGp1c3RpZmljYXRpb24gKi9cbiAgICAgICAgICBpZiAodGhhdC5zZXR0aW5ncy53YWl0VGh1bWJuYWlsc0xvYWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSBwYXJzZUZsb2F0KCRpbWFnZS5wcm9wKCd3aWR0aCcpKTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBwYXJzZUZsb2F0KCRpbWFnZS5wcm9wKCdoZWlnaHQnKSk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHdpZHRoKSAmJiAhaXNOYU4oaGVpZ2h0KSkge1xuICAgICAgICAgICAgICAkZW50cnkuZGF0YSgnamcud2lkdGgnLCB3aWR0aCk7XG4gICAgICAgICAgICAgICRlbnRyeS5kYXRhKCdqZy5oZWlnaHQnLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAkZW50cnkuZGF0YSgnamcubG9hZGVkJywgJ3NraXBwZWQnKTtcbiAgICAgICAgICAgICAgc2tpcHBlZEltYWdlcyA9IHRydWU7XG4gICAgICAgICAgICAgIHRoYXQuc3RhcnRJbWdBbmFseXplcihmYWxzZSk7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgJGVudHJ5LmRhdGEoJ2pnLmxvYWRlZCcsIGZhbHNlKTtcbiAgICAgICAgICBpbWFnZXNUb0xvYWQgPSB0cnVlO1xuICBcbiAgICAgICAgICAvLyBTcGlubmVyIHN0YXJ0XG4gICAgICAgICAgaWYgKCF0aGF0LmlzU3Bpbm5lckFjdGl2ZSgpKSB0aGF0LnN0YXJ0TG9hZGluZ1NwaW5uZXJBbmltYXRpb24oKTtcbiAgXG4gICAgICAgICAgdGhhdC5vbkltYWdlRXZlbnQoaW1hZ2VTcmMsIGZ1bmN0aW9uIChsb2FkSW1nKSB7IC8vIGltYWdlIGxvYWRlZFxuICAgICAgICAgICAgJGVudHJ5LmRhdGEoJ2pnLndpZHRoJywgbG9hZEltZy53aWR0aCk7XG4gICAgICAgICAgICAkZW50cnkuZGF0YSgnamcuaGVpZ2h0JywgbG9hZEltZy5oZWlnaHQpO1xuICAgICAgICAgICAgJGVudHJ5LmRhdGEoJ2pnLmxvYWRlZCcsIHRydWUpO1xuICAgICAgICAgICAgdGhhdC5zdGFydEltZ0FuYWx5emVyKGZhbHNlKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7IC8vIGltYWdlIGxvYWQgZXJyb3JcbiAgICAgICAgICAgICRlbnRyeS5kYXRhKCdqZy5sb2FkZWQnLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHRoYXQuc3RhcnRJbWdBbmFseXplcihmYWxzZSk7XG4gICAgICAgICAgfSk7XG4gIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbnRyeS5kYXRhKCdqZy5sb2FkZWQnLCB0cnVlKTtcbiAgICAgICAgICAkZW50cnkuZGF0YSgnamcud2lkdGgnLCAkZW50cnkud2lkdGgoKSB8IHBhcnNlRmxvYXQoJGVudHJ5LmNzcygnd2lkdGgnKSkgfCAxKTtcbiAgICAgICAgICAkZW50cnkuZGF0YSgnamcuaGVpZ2h0JywgJGVudHJ5LmhlaWdodCgpIHwgcGFyc2VGbG9hdCgkZW50cnkuY3NzKCdoZWlnaHQnKSkgfCAxKTtcbiAgICAgICAgfVxuICBcbiAgICAgIH1cbiAgXG4gICAgfSk7XG4gIFxuICAgIGlmICghaW1hZ2VzVG9Mb2FkICYmICFza2lwcGVkSW1hZ2VzKSB0aGlzLnN0YXJ0SW1nQW5hbHl6ZXIoZmFsc2UpO1xuICAgIHRoaXMuY2hlY2tXaWR0aCgpO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIENoZWNrcyB0aGF0IGl0IGlzIGEgdmFsaWQgbnVtYmVyLiBJZiBhIHN0cmluZyBpcyBwYXNzZWQgaXQgaXMgY29udmVydGVkIHRvIGEgbnVtYmVyXG4gICAqXG4gICAqIEBwYXJhbSBzZXR0aW5nQ29udGFpbmVyIHRoZSBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgc2V0dGluZyAodG8gYWxsb3cgdGhlIGNvbnZlcnNpb24pXG4gICAqIEBwYXJhbSBzZXR0aW5nTmFtZSB0aGUgc2V0dGluZyBuYW1lXG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5jaGVja09yQ29udmVydE51bWJlciA9IGZ1bmN0aW9uIChzZXR0aW5nQ29udGFpbmVyLCBzZXR0aW5nTmFtZSkge1xuICAgIGlmICgkLnR5cGUoc2V0dGluZ0NvbnRhaW5lcltzZXR0aW5nTmFtZV0pID09PSAnc3RyaW5nJykge1xuICAgICAgc2V0dGluZ0NvbnRhaW5lcltzZXR0aW5nTmFtZV0gPSBwYXJzZUZsb2F0KHNldHRpbmdDb250YWluZXJbc2V0dGluZ05hbWVdKTtcbiAgICB9XG4gIFxuICAgIGlmICgkLnR5cGUoc2V0dGluZ0NvbnRhaW5lcltzZXR0aW5nTmFtZV0pID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGlzTmFOKHNldHRpbmdDb250YWluZXJbc2V0dGluZ05hbWVdKSkgdGhyb3cgJ2ludmFsaWQgbnVtYmVyIGZvciAnICsgc2V0dGluZ05hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IHNldHRpbmdOYW1lICsgJyBtdXN0IGJlIGEgbnVtYmVyJztcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQ2hlY2tzIHRoZSBzaXplUmFuZ2VTdWZmaXhlcyBhbmQsIGlmIG5lY2Vzc2FyeSwgY29udmVydHNcbiAgICogaXRzIGtleXMgZnJvbSBzdHJpbmcgKGUuZy4gb2xkIHNldHRpbmdzIHdpdGggJ2x0MTAwJykgdG8gaW50LlxuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuY2hlY2tTaXplUmFuZ2VzU3VmZml4ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQudHlwZSh0aGlzLnNldHRpbmdzLnNpemVSYW5nZVN1ZmZpeGVzKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93ICdzaXplUmFuZ2VTdWZmaXhlcyBtdXN0IGJlIGRlZmluZWQgYW5kIG11c3QgYmUgYW4gb2JqZWN0JztcbiAgICB9XG4gIFxuICAgIHZhciBzdWZmaXhSYW5nZXMgPSBbXTtcbiAgICBmb3IgKHZhciByYW5nZUlkeCBpbiB0aGlzLnNldHRpbmdzLnNpemVSYW5nZVN1ZmZpeGVzKSB7XG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5zaXplUmFuZ2VTdWZmaXhlcy5oYXNPd25Qcm9wZXJ0eShyYW5nZUlkeCkpIHN1ZmZpeFJhbmdlcy5wdXNoKHJhbmdlSWR4KTtcbiAgICB9XG4gIFxuICAgIHZhciBuZXdTaXplUm5nU3VmZml4ZXMgPSB7MDogJyd9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3VmZml4UmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoJC50eXBlKHN1ZmZpeFJhbmdlc1tpXSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG51bUlkeCA9IHBhcnNlSW50KHN1ZmZpeFJhbmdlc1tpXS5yZXBsYWNlKC9eW2Etel0rLywgJycpLCAxMCk7XG4gICAgICAgICAgbmV3U2l6ZVJuZ1N1ZmZpeGVzW251bUlkeF0gPSB0aGlzLnNldHRpbmdzLnNpemVSYW5nZVN1ZmZpeGVzW3N1ZmZpeFJhbmdlc1tpXV07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aHJvdyAnc2l6ZVJhbmdlU3VmZml4ZXMga2V5cyBtdXN0IGNvbnRhaW5zIGNvcnJlY3QgbnVtYmVycyAoJyArIGUgKyAnKSc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1NpemVSbmdTdWZmaXhlc1tzdWZmaXhSYW5nZXNbaV1dID0gdGhpcy5zZXR0aW5ncy5zaXplUmFuZ2VTdWZmaXhlc1tzdWZmaXhSYW5nZXNbaV1dO1xuICAgICAgfVxuICAgIH1cbiAgXG4gICAgdGhpcy5zZXR0aW5ncy5zaXplUmFuZ2VTdWZmaXhlcyA9IG5ld1NpemVSbmdTdWZmaXhlcztcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBjaGVjayBhbmQgY29udmVydCB0aGUgbWF4Um93SGVpZ2h0IHNldHRpbmdcbiAgICogcmVxdWlyZXMgcm93SGVpZ2h0IHRvIGJlIGFscmVhZHkgc2V0XG4gICAqIFRPRE86IHNob3VsZCBiZSBhbHdheXMgY2FsbGVkIHdoZW4gb25seSByb3dIZWlnaHQgaXMgY2hhbmdlZFxuICAgKiBAcmV0dXJuIG51bWJlciBvciBudWxsXG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS5yZXRyaWV2ZU1heFJvd0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbmV3TWF4Um93SGVpZ2h0ID0gbnVsbDtcbiAgICB2YXIgcm93SGVpZ2h0ID0gdGhpcy5zZXR0aW5ncy5yb3dIZWlnaHQ7XG4gIFxuICAgIGlmICgkLnR5cGUodGhpcy5zZXR0aW5ncy5tYXhSb3dIZWlnaHQpID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubWF4Um93SGVpZ2h0Lm1hdGNoKC9eWzAtOV0rJSQvKSkge1xuICAgICAgICBuZXdNYXhSb3dIZWlnaHQgPSByb3dIZWlnaHQgKiBwYXJzZUZsb2F0KHRoaXMuc2V0dGluZ3MubWF4Um93SGVpZ2h0Lm1hdGNoKC9eKFswLTldKyklJC8pWzFdKSAvIDEwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld01heFJvd0hlaWdodCA9IHBhcnNlRmxvYXQodGhpcy5zZXR0aW5ncy5tYXhSb3dIZWlnaHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJC50eXBlKHRoaXMuc2V0dGluZ3MubWF4Um93SGVpZ2h0KSA9PT0gJ251bWJlcicpIHtcbiAgICAgIG5ld01heFJvd0hlaWdodCA9IHRoaXMuc2V0dGluZ3MubWF4Um93SGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5tYXhSb3dIZWlnaHQgPT09IGZhbHNlIHx8IHRoaXMuc2V0dGluZ3MubWF4Um93SGVpZ2h0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyAnbWF4Um93SGVpZ2h0IG11c3QgYmUgYSBudW1iZXIgb3IgYSBwZXJjZW50YWdlJztcbiAgICB9XG4gIFxuICAgIC8vIGNoZWNrIGlmIHRoZSBjb252ZXJ0ZWQgdmFsdWUgaXMgbm90IGEgbnVtYmVyXG4gICAgaWYgKGlzTmFOKG5ld01heFJvd0hlaWdodCkpIHRocm93ICdpbnZhbGlkIG51bWJlciBmb3IgbWF4Um93SGVpZ2h0JztcbiAgXG4gICAgLy8gY2hlY2sgdmFsdWVzLCBtYXhSb3dIZWlnaHQgbXVzdCBiZSA+PSByb3dIZWlnaHRcbiAgICBpZiAobmV3TWF4Um93SGVpZ2h0IDwgcm93SGVpZ2h0KSBuZXdNYXhSb3dIZWlnaHQgPSByb3dIZWlnaHQ7XG4gIFxuICAgIHJldHVybiBuZXdNYXhSb3dIZWlnaHQ7XG4gIH07XG4gIFxuICAvKipcbiAgICogQ2hlY2tzIHRoZSBzZXR0aW5nc1xuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuY2hlY2tTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNoZWNrU2l6ZVJhbmdlc1N1ZmZpeGVzKCk7XG4gIFxuICAgIHRoaXMuY2hlY2tPckNvbnZlcnROdW1iZXIodGhpcy5zZXR0aW5ncywgJ3Jvd0hlaWdodCcpO1xuICAgIHRoaXMuY2hlY2tPckNvbnZlcnROdW1iZXIodGhpcy5zZXR0aW5ncywgJ21hcmdpbnMnKTtcbiAgICB0aGlzLmNoZWNrT3JDb252ZXJ0TnVtYmVyKHRoaXMuc2V0dGluZ3MsICdib3JkZXInKTtcbiAgXG4gICAgdmFyIGxhc3RSb3dNb2RlcyA9IFtcbiAgICAgICdqdXN0aWZ5JyxcbiAgICAgICdub2p1c3RpZnknLFxuICAgICAgJ2xlZnQnLFxuICAgICAgJ2NlbnRlcicsXG4gICAgICAncmlnaHQnLFxuICAgICAgJ2hpZGUnXG4gICAgXTtcbiAgICBpZiAobGFzdFJvd01vZGVzLmluZGV4T2YodGhpcy5zZXR0aW5ncy5sYXN0Um93KSA9PT0gLTEpIHtcbiAgICAgIHRocm93ICdsYXN0Um93IG11c3QgYmUgb25lIG9mOiAnICsgbGFzdFJvd01vZGVzLmpvaW4oJywgJyk7XG4gICAgfVxuICBcbiAgICB0aGlzLmNoZWNrT3JDb252ZXJ0TnVtYmVyKHRoaXMuc2V0dGluZ3MsICdqdXN0aWZ5VGhyZXNob2xkJyk7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuanVzdGlmeVRocmVzaG9sZCA8IDAgfHwgdGhpcy5zZXR0aW5ncy5qdXN0aWZ5VGhyZXNob2xkID4gMSkge1xuICAgICAgdGhyb3cgJ2p1c3RpZnlUaHJlc2hvbGQgbXVzdCBiZSBpbiB0aGUgaW50ZXJ2YWwgWzAsMV0nO1xuICAgIH1cbiAgICBpZiAoJC50eXBlKHRoaXMuc2V0dGluZ3MuY3NzQW5pbWF0aW9uKSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyAnY3NzQW5pbWF0aW9uIG11c3QgYmUgYSBib29sZWFuJztcbiAgICB9XG4gIFxuICAgIGlmICgkLnR5cGUodGhpcy5zZXR0aW5ncy5jYXB0aW9ucykgIT09ICdib29sZWFuJykgdGhyb3cgJ2NhcHRpb25zIG11c3QgYmUgYSBib29sZWFuJztcbiAgICB0aGlzLmNoZWNrT3JDb252ZXJ0TnVtYmVyKHRoaXMuc2V0dGluZ3MuY2FwdGlvblNldHRpbmdzLCAnYW5pbWF0aW9uRHVyYXRpb24nKTtcbiAgXG4gICAgdGhpcy5jaGVja09yQ29udmVydE51bWJlcih0aGlzLnNldHRpbmdzLmNhcHRpb25TZXR0aW5ncywgJ3Zpc2libGVPcGFjaXR5Jyk7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuY2FwdGlvblNldHRpbmdzLnZpc2libGVPcGFjaXR5IDwgMCB8fFxuICAgICAgICB0aGlzLnNldHRpbmdzLmNhcHRpb25TZXR0aW5ncy52aXNpYmxlT3BhY2l0eSA+IDEpIHtcbiAgICAgIHRocm93ICdjYXB0aW9uU2V0dGluZ3MudmlzaWJsZU9wYWNpdHkgbXVzdCBiZSBpbiB0aGUgaW50ZXJ2YWwgWzAsIDFdJztcbiAgICB9XG4gIFxuICAgIHRoaXMuY2hlY2tPckNvbnZlcnROdW1iZXIodGhpcy5zZXR0aW5ncy5jYXB0aW9uU2V0dGluZ3MsICdub25WaXNpYmxlT3BhY2l0eScpO1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmNhcHRpb25TZXR0aW5ncy5ub25WaXNpYmxlT3BhY2l0eSA8IDAgfHxcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5jYXB0aW9uU2V0dGluZ3Mubm9uVmlzaWJsZU9wYWNpdHkgPiAxKSB7XG4gICAgICB0aHJvdyAnY2FwdGlvblNldHRpbmdzLm5vblZpc2libGVPcGFjaXR5IG11c3QgYmUgaW4gdGhlIGludGVydmFsIFswLCAxXSc7XG4gICAgfVxuICBcbiAgICB0aGlzLmNoZWNrT3JDb252ZXJ0TnVtYmVyKHRoaXMuc2V0dGluZ3MsICdpbWFnZXNBbmltYXRpb25EdXJhdGlvbicpO1xuICAgIHRoaXMuY2hlY2tPckNvbnZlcnROdW1iZXIodGhpcy5zZXR0aW5ncywgJ3JlZnJlc2hUaW1lJyk7XG4gICAgdGhpcy5jaGVja09yQ29udmVydE51bWJlcih0aGlzLnNldHRpbmdzLCAncmVmcmVzaFNlbnNpdGl2aXR5Jyk7XG4gICAgaWYgKCQudHlwZSh0aGlzLnNldHRpbmdzLnJhbmRvbWl6ZSkgIT09ICdib29sZWFuJykgdGhyb3cgJ3JhbmRvbWl6ZSBtdXN0IGJlIGEgYm9vbGVhbic7XG4gICAgaWYgKCQudHlwZSh0aGlzLnNldHRpbmdzLnNlbGVjdG9yKSAhPT0gJ3N0cmluZycpIHRocm93ICdzZWxlY3RvciBtdXN0IGJlIGEgc3RyaW5nJztcbiAgXG4gICAgaWYgKHRoaXMuc2V0dGluZ3Muc29ydCAhPT0gZmFsc2UgJiYgISQuaXNGdW5jdGlvbih0aGlzLnNldHRpbmdzLnNvcnQpKSB7XG4gICAgICB0aHJvdyAnc29ydCBtdXN0IGJlIGZhbHNlIG9yIGEgY29tcGFyaXNvbiBmdW5jdGlvbic7XG4gICAgfVxuICBcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5maWx0ZXIgIT09IGZhbHNlICYmICEkLmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5maWx0ZXIpICYmXG4gICAgICAgICQudHlwZSh0aGlzLnNldHRpbmdzLmZpbHRlcikgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnZmlsdGVyIG11c3QgYmUgZmFsc2UsIGEgc3RyaW5nIG9yIGEgZmlsdGVyIGZ1bmN0aW9uJztcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogSXQgYnJpbmdzIGFsbCB0aGUgaW5kZXhlcyBmcm9tIHRoZSBzaXplUmFuZ2VTdWZmaXhlcyBhbmQgaXQgb3JkZXJzIHRoZW0uIFRoZXkgYXJlIHRoZW4gc29ydGVkIGFuZCByZXR1cm5lZC5cbiAgICogQHJldHVybnMge0FycmF5fSBzb3J0ZWQgc3VmZml4IHJhbmdlc1xuICAgKi9cbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUucmV0cmlldmVTdWZmaXhSYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN1ZmZpeFJhbmdlcyA9IFtdO1xuICAgIGZvciAodmFyIHJhbmdlSWR4IGluIHRoaXMuc2V0dGluZ3Muc2l6ZVJhbmdlU3VmZml4ZXMpIHtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNpemVSYW5nZVN1ZmZpeGVzLmhhc093blByb3BlcnR5KHJhbmdlSWR4KSkgc3VmZml4UmFuZ2VzLnB1c2gocGFyc2VJbnQocmFuZ2VJZHgsIDEwKSk7XG4gICAgfVxuICAgIHN1ZmZpeFJhbmdlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDsgfSk7XG4gICAgcmV0dXJuIHN1ZmZpeFJhbmdlcztcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGV4aXN0aW5nIHNldHRpbmdzIG9ubHkgY2hhbmdpbmcgc29tZSBvZiB0aGVtXG4gICAqXG4gICAqIEBwYXJhbSBuZXdTZXR0aW5ncyB0aGUgbmV3IHNldHRpbmdzIChvciBhIHN1Ymdyb3VwIG9mIHRoZW0pXG4gICAqL1xuICBKdXN0aWZpZWRHYWxsZXJ5LnByb3RvdHlwZS51cGRhdGVTZXR0aW5ncyA9IGZ1bmN0aW9uIChuZXdTZXR0aW5ncykge1xuICAgIC8vIEluIHRoaXMgY2FzZSBKdXN0aWZpZWQgR2FsbGVyeSBoYXMgYmVlbiBjYWxsZWQgYWdhaW4gY2hhbmdpbmcgb25seSBzb21lIG9wdGlvbnNcbiAgICB0aGlzLnNldHRpbmdzID0gJC5leHRlbmQoe30sIHRoaXMuc2V0dGluZ3MsIG5ld1NldHRpbmdzKTtcbiAgICB0aGlzLmNoZWNrU2V0dGluZ3MoKTtcbiAgXG4gICAgLy8gQXMgcmVwb3J0ZWQgaW4gdGhlIHNldHRpbmdzOiBuZWdhdGl2ZSB2YWx1ZSA9IHNhbWUgYXMgbWFyZ2lucywgMCA9IGRpc2FibGVkXG4gICAgdGhpcy5ib3JkZXIgPSB0aGlzLnNldHRpbmdzLmJvcmRlciA+PSAwID8gdGhpcy5zZXR0aW5ncy5ib3JkZXIgOiB0aGlzLnNldHRpbmdzLm1hcmdpbnM7XG4gIFxuICAgIHRoaXMubWF4Um93SGVpZ2h0ID0gdGhpcy5yZXRyaWV2ZU1heFJvd0hlaWdodCgpO1xuICAgIHRoaXMuc3VmZml4UmFuZ2VzID0gdGhpcy5yZXRyaWV2ZVN1ZmZpeFJhbmdlcygpO1xuICB9O1xuICBcbiAgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgc2l6ZVJhbmdlU3VmZml4ZXM6IHsgfSwgLyogZS5nLiBGbGlja3IgY29uZmlndXJhdGlvblxuICAgICAgICB7XG4gICAgICAgICAgMTAwOiAnX3QnLCAgLy8gdXNlZCB3aGVuIGxvbmdlc3QgaXMgbGVzcyB0aGFuIDEwMHB4XG4gICAgICAgICAgMjQwOiAnX20nLCAgLy8gdXNlZCB3aGVuIGxvbmdlc3QgaXMgYmV0d2VlbiAxMDFweCBhbmQgMjQwcHhcbiAgICAgICAgICAzMjA6ICdfbicsICAvLyAuLi5cbiAgICAgICAgICA1MDA6ICcnLFxuICAgICAgICAgIDY0MDogJ196JyxcbiAgICAgICAgICAxMDI0OiAnX2InICAvLyB1c2VkIGFzIGVsc2UgY2FzZSBiZWNhdXNlIGl0IGlzIHRoZSBsYXN0XG4gICAgICAgIH1cbiAgICAqL1xuICAgIHRodW1ibmFpbFBhdGg6IHVuZGVmaW5lZCwgLyogSWYgZGVmaW5lZCwgc2l6ZVJhbmdlU3VmZml4ZXMgaXMgbm90IHVzZWQsIGFuZCB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZVxuICAgIHBhdGggcmVsYXRpdmUgdG8gYSBzcGVjaWZpYyB0aHVtYm5haWwgc2l6ZS4gVGhlIGZ1bmN0aW9uIHNob3VsZCBhY2NlcHQgcmVzcGVjdGl2ZWx5IHRocmVlIGFyZ3VtZW50czpcbiAgICBjdXJyZW50IHBhdGgsIHdpZHRoIGFuZCBoZWlnaHQgKi9cbiAgICByb3dIZWlnaHQ6IDEyMCwgLy8gcmVxdWlyZWQ/IHJlcXVpcmVkIHRvIGJlID4gMD9cbiAgICBtYXhSb3dIZWlnaHQ6IGZhbHNlLCAvLyBmYWxzZSBvciBuZWdhdGl2ZSB2YWx1ZSB0byBkZWFjdGl2YXRlLiBQb3NpdGl2ZSBudW1iZXIgdG8gZXhwcmVzcyB0aGUgdmFsdWUgaW4gcGl4ZWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEEgc3RyaW5nICdbMC05XSslJyB0byBleHByZXNzIGluIHBlcmNlbnRhZ2UgKGUuZy4gMzAwJSBtZWFucyB0aGF0IHRoZSByb3cgaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FuJ3QgZXhjZWVkIDMgKiByb3dIZWlnaHQpXG4gICAgbWFyZ2luczogMSxcbiAgICBib3JkZXI6IC0xLCAvLyBuZWdhdGl2ZSB2YWx1ZSA9IHNhbWUgYXMgbWFyZ2lucywgMCA9IGRpc2FibGVkLCBhbnkgb3RoZXIgdmFsdWUgdG8gc2V0IHRoZSBib3JkZXJcbiAgXG4gICAgbGFzdFJvdzogJ25vanVzdGlmeScsIC8vIOKApiB3aGljaCBpcyB0aGUgc2FtZSBhcyAnbGVmdCcsIG9yIGNhbiBiZSAnanVzdGlmeScsICdjZW50ZXInLCAncmlnaHQnIG9yICdoaWRlJ1xuICBcbiAgICBqdXN0aWZ5VGhyZXNob2xkOiAwLjkwLCAvKiBpZiByb3cgd2lkdGggLyBhdmFpbGFibGUgc3BhY2UgPiAwLjkwIGl0IHdpbGwgYmUgYWx3YXlzIGp1c3RpZmllZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIChpLmUuIGxhc3RSb3cgc2V0dGluZyBpcyBub3QgY29uc2lkZXJlZCkgKi9cbiAgICB3YWl0VGh1bWJuYWlsc0xvYWQ6IHRydWUsXG4gICAgY2FwdGlvbnM6IHRydWUsXG4gICAgY3NzQW5pbWF0aW9uOiB0cnVlLFxuICAgIGltYWdlc0FuaW1hdGlvbkR1cmF0aW9uOiA1MDAsIC8vIGlnbm9yZWQgd2l0aCBjc3MgYW5pbWF0aW9uc1xuICAgIGNhcHRpb25TZXR0aW5nczogeyAvLyBpZ25vcmVkIHdpdGggY3NzIGFuaW1hdGlvbnNcbiAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiA1MDAsXG4gICAgICB2aXNpYmxlT3BhY2l0eTogMC43LFxuICAgICAgbm9uVmlzaWJsZU9wYWNpdHk6IDAuMFxuICAgIH0sXG4gICAgcmVsOiBudWxsLCAvLyByZXdyaXRlIHRoZSByZWwgb2YgZWFjaCBhbmFseXplZCBsaW5rc1xuICAgIHRhcmdldDogbnVsbCwgLy8gcmV3cml0ZSB0aGUgdGFyZ2V0IG9mIGFsbCBsaW5rc1xuICAgIGV4dGVuc2lvbjogL1xcLlteLlxcXFwvXSskLywgLy8gcmVnZXhwIHRvIGNhcHR1cmUgdGhlIGV4dGVuc2lvbiBvZiBhbiBpbWFnZVxuICAgIHJlZnJlc2hUaW1lOiAyMDAsIC8vIHRpbWUgaW50ZXJ2YWwgKGluIG1zKSB0byBjaGVjayBpZiB0aGUgcGFnZSBjaGFuZ2VzIGl0cyB3aWR0aFxuICAgIHJlZnJlc2hTZW5zaXRpdml0eTogMCwgLy8gY2hhbmdlIGluIHdpZHRoIGFsbG93ZWQgKGluIHB4KSB3aXRob3V0IHJlLWJ1aWxkaW5nIHRoZSBnYWxsZXJ5XG4gICAgcmFuZG9taXplOiBmYWxzZSxcbiAgICBydGw6IGZhbHNlLCAvLyByaWdodC10by1sZWZ0IG1vZGVcbiAgICBzb3J0OiBmYWxzZSwgLypcbiAgICAgIC0gZmFsc2U6IHRvIGRvIG5vdCBzb3J0XG4gICAgICAtIGZ1bmN0aW9uOiB0byBzb3J0IHRoZW0gdXNpbmcgdGhlIGZ1bmN0aW9uIGFzIGNvbXBhcmF0b3IgKHNlZSBBcnJheS5wcm90b3R5cGUuc29ydCgpKVxuICAgICovXG4gICAgZmlsdGVyOiBmYWxzZSwgLypcbiAgICAgIC0gZmFsc2UsIG51bGwgb3IgdW5kZWZpbmVkOiBmb3IgYSBkaXNhYmxlZCBmaWx0ZXJcbiAgICAgIC0gYSBzdHJpbmc6IGFuIGVudHJ5IGlzIGtlcHQgaWYgZW50cnkuaXMoZmlsdGVyIHN0cmluZykgcmV0dXJucyB0cnVlXG4gICAgICAgICAgICAgICAgICBzZWUgalF1ZXJ5J3MgLmlzKCkgZnVuY3Rpb24gZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb25cbiAgICAgIC0gYSBmdW5jdGlvbjogaW52b2tlZCB3aXRoIGFyZ3VtZW50cyAoZW50cnksIGluZGV4LCBhcnJheSkuIFJldHVybiB0cnVlIHRvIGtlZXAgdGhlIGVudHJ5LCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICAgICAgICAgICAgICAgIEl0IGZvbGxvd3MgdGhlIHNwZWNpZmljYXRpb25zIG9mIHRoZSBBcnJheS5wcm90b3R5cGUuZmlsdGVyKCkgZnVuY3Rpb24gb2YgSmF2YVNjcmlwdC5cbiAgICAqL1xuICAgIHNlbGVjdG9yOiAnYSwgZGl2Om5vdCguc3Bpbm5lciknLCAvLyBUaGUgc2VsZWN0b3IgdGhhdCBpcyB1c2VkIHRvIGtub3cgd2hhdCBhcmUgdGhlIGVudHJpZXMgb2YgdGhlIGdhbGxlcnlcbiAgICBpbWdTZWxlY3RvcjogJz4gaW1nLCA+IGEgPiBpbWcnLCAvLyBUaGUgc2VsZWN0b3IgdGhhdCBpcyB1c2VkIHRvIGtub3cgd2hhdCBhcmUgdGhlIGltYWdlcyBvZiBlYWNoIGVudHJ5XG4gICAgdHJpZ2dlckV2ZW50OiBmdW5jdGlvbiAoZXZlbnQpIHsgLy8gVGhpcyBpcyBjYWxsZWQgdG8gdHJpZ2dlciBldmVudHMsIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHRvIGNhbGwgJC50cmlnZ2VyXG4gICAgICB0aGlzLiRnYWxsZXJ5LnRyaWdnZXIoZXZlbnQpOyAgLy8gQ29uc2lkZXIgdGhhdCAndGhpcycgaXMgdGhpcyBzZXQgdG8gdGhlIEp1c3RpZmllZEdhbGxlcnkgb2JqZWN0LCBzbyBpdCBjYW5cbiAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3MgdG8gZmllbGRzIHN1Y2ggYXMgJGdhbGxlcnksIHVzZWZ1bCB0byB0cmlnZ2VyIGV2ZW50cyB3aXRoIGpRdWVyeS5cbiAgfTtcblxuICAvKipcbiAgICogSnVzdGlmaWVkIEdhbGxlcnkgcGx1Z2luIGZvciBqUXVlcnlcbiAgICpcbiAgICogRXZlbnRzXG4gICAqICAtIGpnLmNvbXBsZXRlIDogY2FsbGVkIHdoZW4gYWxsIHRoZSBnYWxsZXJ5IGhhcyBiZWVuIGNyZWF0ZWRcbiAgICogIC0gamcucmVzaXplIDogY2FsbGVkIHdoZW4gdGhlIGdhbGxlcnkgaGFzIGJlZW4gcmVzaXplZFxuICAgKiAgLSBqZy5yb3dmbHVzaCA6IHdoZW4gYSBuZXcgcm93IGFwcGVhcnNcbiAgICpcbiAgICogQHBhcmFtIGFyZyB0aGUgYWN0aW9uIChvciB0aGUgc2V0dGluZ3MpIHBhc3NlZCB3aGVuIHRoZSBwbHVnaW4gaXMgY2FsbGVkXG4gICAqIEByZXR1cm5zIHsqfSB0aGUgb2JqZWN0IGl0c2VsZlxuICAgKi9cbiAgJC5mbi5qdXN0aWZpZWRHYWxsZXJ5ID0gZnVuY3Rpb24gKGFyZykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGluZGV4LCBnYWxsZXJ5KSB7XG5cbiAgICAgIHZhciAkZ2FsbGVyeSA9ICQoZ2FsbGVyeSk7XG4gICAgICAkZ2FsbGVyeS5hZGRDbGFzcygnanVzdGlmaWVkLWdhbGxlcnknKTtcblxuICAgICAgdmFyIGNvbnRyb2xsZXIgPSAkZ2FsbGVyeS5kYXRhKCdqZy5jb250cm9sbGVyJyk7XG4gICAgICBpZiAodHlwZW9mIGNvbnRyb2xsZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIENyZWF0ZSBjb250cm9sbGVyIGFuZCBhc3NpZ24gaXQgdG8gdGhlIG9iamVjdCBkYXRhXG4gICAgICAgIGlmICh0eXBlb2YgYXJnICE9PSAndW5kZWZpbmVkJyAmJiBhcmcgIT09IG51bGwgJiYgJC50eXBlKGFyZykgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgaWYgKGFyZyA9PT0gJ2Rlc3Ryb3knKSByZXR1cm47IC8vIEp1c3QgYSBjYWxsIHRvIGFuIHVuZXhpc3Rpbmcgb2JqZWN0XG4gICAgICAgICAgdGhyb3cgJ1RoZSBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCc7XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbGxlciA9IG5ldyBKdXN0aWZpZWRHYWxsZXJ5KCRnYWxsZXJ5LCAkLmV4dGVuZCh7fSwgSnVzdGlmaWVkR2FsbGVyeS5wcm90b3R5cGUuZGVmYXVsdHMsIGFyZykpO1xuICAgICAgICAkZ2FsbGVyeS5kYXRhKCdqZy5jb250cm9sbGVyJywgY29udHJvbGxlcik7XG4gICAgICB9IGVsc2UgaWYgKGFyZyA9PT0gJ25vcmV3aW5kJykge1xuICAgICAgICAvLyBJbiB0aGlzIGNhc2Ugd2UgZG9uJ3QgcmV3aW5kOiB3ZSBhbmFseXplIG9ubHkgdGhlIGxhdGVzdCBpbWFnZXMgKGUuZy4gdG8gY29tcGxldGUgdGhlIGxhc3QgdW5maW5pc2hlZCByb3dcbiAgICAgICAgLy8gLi4uIGxlZnQgdG8gYmUgbW9yZSByZWFkYWJsZVxuICAgICAgfSBlbHNlIGlmIChhcmcgPT09ICdkZXN0cm95Jykge1xuICAgICAgICBjb250cm9sbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIEp1c3RpZmllZCBHYWxsZXJ5IGhhcyBiZWVuIGNhbGxlZCBhZ2FpbiBjaGFuZ2luZyBvbmx5IHNvbWUgb3B0aW9uc1xuICAgICAgICBjb250cm9sbGVyLnVwZGF0ZVNldHRpbmdzKGFyZyk7XG4gICAgICAgIGNvbnRyb2xsZXIucmV3aW5kKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgZW50cmllcyBsaXN0XG4gICAgICBpZiAoIWNvbnRyb2xsZXIudXBkYXRlRW50cmllcyhhcmcgPT09ICdub3Jld2luZCcpKSByZXR1cm47XG5cbiAgICAgIC8vIEluaXQganVzdGlmaWVkIGdhbGxlcnlcbiAgICAgIGNvbnRyb2xsZXIuaW5pdCgpO1xuXG4gICAgfSk7XG4gIH07XG5cbn0pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/justifiedGallery/dist/js/jquery.justifiedGallery.js\n");

/***/ }),

/***/ "./src/styles/style.scss":
/*!*******************************!*\
  !*** ./src/styles/style.scss ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3R5bGVzL3N0eWxlLnNjc3MuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9zcmMvc3R5bGVzL3N0eWxlLnNjc3M/NmRhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/styles/style.scss\n");

/***/ }),

/***/ "./node_modules/slick-carousel/slick/slick.js":
/*!****************************************************!*\
  !*** ./node_modules/slick-carousel/slick/slick.js ***!
  \****************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n     _ _      _       _\n ___| (_) ___| | __  (_)___\n/ __| | |/ __| |/ /  | / __|\n\\__ \\ | | (__|   < _ | \\__ \\\n|___/_|_|\\___|_|\\_(_)/ |___/\n                   |__/\n\n Version: 1.8.1\n  Author: Ken Wheeler\n Website: http://kenwheeler.github.io\n    Docs: http://kenwheeler.github.io/slick\n    Repo: http://github.com/kenwheeler/slick\n  Issues: http://github.com/kenwheeler/slick/issues\n\n */\n/* global window, document, define, jQuery, setInterval, clearInterval */\n;(function(factory) {\n    'use strict';\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"jquery\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n\n}(function($) {\n    'use strict';\n    var Slick = window.Slick || {};\n\n    Slick = (function() {\n\n        var instanceUid = 0;\n\n        function Slick(element, settings) {\n\n            var _ = this, dataSettings;\n\n            _.defaults = {\n                accessibility: true,\n                adaptiveHeight: false,\n                appendArrows: $(element),\n                appendDots: $(element),\n                arrows: true,\n                asNavFor: null,\n                prevArrow: '<button class=\"slick-prev\" aria-label=\"Previous\" type=\"button\">Previous</button>',\n                nextArrow: '<button class=\"slick-next\" aria-label=\"Next\" type=\"button\">Next</button>',\n                autoplay: false,\n                autoplaySpeed: 3000,\n                centerMode: false,\n                centerPadding: '50px',\n                cssEase: 'ease',\n                customPaging: function(slider, i) {\n                    return $('<button type=\"button\" />').text(i + 1);\n                },\n                dots: false,\n                dotsClass: 'slick-dots',\n                draggable: true,\n                easing: 'linear',\n                edgeFriction: 0.35,\n                fade: false,\n                focusOnSelect: false,\n                focusOnChange: false,\n                infinite: true,\n                initialSlide: 0,\n                lazyLoad: 'ondemand',\n                mobileFirst: false,\n                pauseOnHover: true,\n                pauseOnFocus: true,\n                pauseOnDotsHover: false,\n                respondTo: 'window',\n                responsive: null,\n                rows: 1,\n                rtl: false,\n                slide: '',\n                slidesPerRow: 1,\n                slidesToShow: 1,\n                slidesToScroll: 1,\n                speed: 500,\n                swipe: true,\n                swipeToSlide: false,\n                touchMove: true,\n                touchThreshold: 5,\n                useCSS: true,\n                useTransform: true,\n                variableWidth: false,\n                vertical: false,\n                verticalSwiping: false,\n                waitForAnimate: true,\n                zIndex: 1000\n            };\n\n            _.initials = {\n                animating: false,\n                dragging: false,\n                autoPlayTimer: null,\n                currentDirection: 0,\n                currentLeft: null,\n                currentSlide: 0,\n                direction: 1,\n                $dots: null,\n                listWidth: null,\n                listHeight: null,\n                loadIndex: 0,\n                $nextArrow: null,\n                $prevArrow: null,\n                scrolling: false,\n                slideCount: null,\n                slideWidth: null,\n                $slideTrack: null,\n                $slides: null,\n                sliding: false,\n                slideOffset: 0,\n                swipeLeft: null,\n                swiping: false,\n                $list: null,\n                touchObject: {},\n                transformsEnabled: false,\n                unslicked: false\n            };\n\n            $.extend(_, _.initials);\n\n            _.activeBreakpoint = null;\n            _.animType = null;\n            _.animProp = null;\n            _.breakpoints = [];\n            _.breakpointSettings = [];\n            _.cssTransitions = false;\n            _.focussed = false;\n            _.interrupted = false;\n            _.hidden = 'hidden';\n            _.paused = true;\n            _.positionProp = null;\n            _.respondTo = null;\n            _.rowCount = 1;\n            _.shouldClick = true;\n            _.$slider = $(element);\n            _.$slidesCache = null;\n            _.transformType = null;\n            _.transitionType = null;\n            _.visibilityChange = 'visibilitychange';\n            _.windowWidth = 0;\n            _.windowTimer = null;\n\n            dataSettings = $(element).data('slick') || {};\n\n            _.options = $.extend({}, _.defaults, settings, dataSettings);\n\n            _.currentSlide = _.options.initialSlide;\n\n            _.originalSettings = _.options;\n\n            if (typeof document.mozHidden !== 'undefined') {\n                _.hidden = 'mozHidden';\n                _.visibilityChange = 'mozvisibilitychange';\n            } else if (typeof document.webkitHidden !== 'undefined') {\n                _.hidden = 'webkitHidden';\n                _.visibilityChange = 'webkitvisibilitychange';\n            }\n\n            _.autoPlay = $.proxy(_.autoPlay, _);\n            _.autoPlayClear = $.proxy(_.autoPlayClear, _);\n            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);\n            _.changeSlide = $.proxy(_.changeSlide, _);\n            _.clickHandler = $.proxy(_.clickHandler, _);\n            _.selectHandler = $.proxy(_.selectHandler, _);\n            _.setPosition = $.proxy(_.setPosition, _);\n            _.swipeHandler = $.proxy(_.swipeHandler, _);\n            _.dragHandler = $.proxy(_.dragHandler, _);\n            _.keyHandler = $.proxy(_.keyHandler, _);\n\n            _.instanceUid = instanceUid++;\n\n            // A simple way to check for HTML strings\n            // Strict HTML recognition (must start with <)\n            // Extracted from jQuery v1.11 source\n            _.htmlExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*)$/;\n\n\n            _.registerBreakpoints();\n            _.init(true);\n\n        }\n\n        return Slick;\n\n    }());\n\n    Slick.prototype.activateADA = function() {\n        var _ = this;\n\n        _.$slideTrack.find('.slick-active').attr({\n            'aria-hidden': 'false'\n        }).find('a, input, button, select').attr({\n            'tabindex': '0'\n        });\n\n    };\n\n    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {\n\n        var _ = this;\n\n        if (typeof(index) === 'boolean') {\n            addBefore = index;\n            index = null;\n        } else if (index < 0 || (index >= _.slideCount)) {\n            return false;\n        }\n\n        _.unload();\n\n        if (typeof(index) === 'number') {\n            if (index === 0 && _.$slides.length === 0) {\n                $(markup).appendTo(_.$slideTrack);\n            } else if (addBefore) {\n                $(markup).insertBefore(_.$slides.eq(index));\n            } else {\n                $(markup).insertAfter(_.$slides.eq(index));\n            }\n        } else {\n            if (addBefore === true) {\n                $(markup).prependTo(_.$slideTrack);\n            } else {\n                $(markup).appendTo(_.$slideTrack);\n            }\n        }\n\n        _.$slides = _.$slideTrack.children(this.options.slide);\n\n        _.$slideTrack.children(this.options.slide).detach();\n\n        _.$slideTrack.append(_.$slides);\n\n        _.$slides.each(function(index, element) {\n            $(element).attr('data-slick-index', index);\n        });\n\n        _.$slidesCache = _.$slides;\n\n        _.reinit();\n\n    };\n\n    Slick.prototype.animateHeight = function() {\n        var _ = this;\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\n            _.$list.animate({\n                height: targetHeight\n            }, _.options.speed);\n        }\n    };\n\n    Slick.prototype.animateSlide = function(targetLeft, callback) {\n\n        var animProps = {},\n            _ = this;\n\n        _.animateHeight();\n\n        if (_.options.rtl === true && _.options.vertical === false) {\n            targetLeft = -targetLeft;\n        }\n        if (_.transformsEnabled === false) {\n            if (_.options.vertical === false) {\n                _.$slideTrack.animate({\n                    left: targetLeft\n                }, _.options.speed, _.options.easing, callback);\n            } else {\n                _.$slideTrack.animate({\n                    top: targetLeft\n                }, _.options.speed, _.options.easing, callback);\n            }\n\n        } else {\n\n            if (_.cssTransitions === false) {\n                if (_.options.rtl === true) {\n                    _.currentLeft = -(_.currentLeft);\n                }\n                $({\n                    animStart: _.currentLeft\n                }).animate({\n                    animStart: targetLeft\n                }, {\n                    duration: _.options.speed,\n                    easing: _.options.easing,\n                    step: function(now) {\n                        now = Math.ceil(now);\n                        if (_.options.vertical === false) {\n                            animProps[_.animType] = 'translate(' +\n                                now + 'px, 0px)';\n                            _.$slideTrack.css(animProps);\n                        } else {\n                            animProps[_.animType] = 'translate(0px,' +\n                                now + 'px)';\n                            _.$slideTrack.css(animProps);\n                        }\n                    },\n                    complete: function() {\n                        if (callback) {\n                            callback.call();\n                        }\n                    }\n                });\n\n            } else {\n\n                _.applyTransition();\n                targetLeft = Math.ceil(targetLeft);\n\n                if (_.options.vertical === false) {\n                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';\n                } else {\n                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';\n                }\n                _.$slideTrack.css(animProps);\n\n                if (callback) {\n                    setTimeout(function() {\n\n                        _.disableTransition();\n\n                        callback.call();\n                    }, _.options.speed);\n                }\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.getNavTarget = function() {\n\n        var _ = this,\n            asNavFor = _.options.asNavFor;\n\n        if ( asNavFor && asNavFor !== null ) {\n            asNavFor = $(asNavFor).not(_.$slider);\n        }\n\n        return asNavFor;\n\n    };\n\n    Slick.prototype.asNavFor = function(index) {\n\n        var _ = this,\n            asNavFor = _.getNavTarget();\n\n        if ( asNavFor !== null && typeof asNavFor === 'object' ) {\n            asNavFor.each(function() {\n                var target = $(this).slick('getSlick');\n                if(!target.unslicked) {\n                    target.slideHandler(index, true);\n                }\n            });\n        }\n\n    };\n\n    Slick.prototype.applyTransition = function(slide) {\n\n        var _ = this,\n            transition = {};\n\n        if (_.options.fade === false) {\n            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;\n        } else {\n            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;\n        }\n\n        if (_.options.fade === false) {\n            _.$slideTrack.css(transition);\n        } else {\n            _.$slides.eq(slide).css(transition);\n        }\n\n    };\n\n    Slick.prototype.autoPlay = function() {\n\n        var _ = this;\n\n        _.autoPlayClear();\n\n        if ( _.slideCount > _.options.slidesToShow ) {\n            _.autoPlayTimer = setInterval( _.autoPlayIterator, _.options.autoplaySpeed );\n        }\n\n    };\n\n    Slick.prototype.autoPlayClear = function() {\n\n        var _ = this;\n\n        if (_.autoPlayTimer) {\n            clearInterval(_.autoPlayTimer);\n        }\n\n    };\n\n    Slick.prototype.autoPlayIterator = function() {\n\n        var _ = this,\n            slideTo = _.currentSlide + _.options.slidesToScroll;\n\n        if ( !_.paused && !_.interrupted && !_.focussed ) {\n\n            if ( _.options.infinite === false ) {\n\n                if ( _.direction === 1 && ( _.currentSlide + 1 ) === ( _.slideCount - 1 )) {\n                    _.direction = 0;\n                }\n\n                else if ( _.direction === 0 ) {\n\n                    slideTo = _.currentSlide - _.options.slidesToScroll;\n\n                    if ( _.currentSlide - 1 === 0 ) {\n                        _.direction = 1;\n                    }\n\n                }\n\n            }\n\n            _.slideHandler( slideTo );\n\n        }\n\n    };\n\n    Slick.prototype.buildArrows = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true ) {\n\n            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');\n            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');\n\n            if( _.slideCount > _.options.slidesToShow ) {\n\n                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\n                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\n\n                if (_.htmlExpr.test(_.options.prevArrow)) {\n                    _.$prevArrow.prependTo(_.options.appendArrows);\n                }\n\n                if (_.htmlExpr.test(_.options.nextArrow)) {\n                    _.$nextArrow.appendTo(_.options.appendArrows);\n                }\n\n                if (_.options.infinite !== true) {\n                    _.$prevArrow\n                        .addClass('slick-disabled')\n                        .attr('aria-disabled', 'true');\n                }\n\n            } else {\n\n                _.$prevArrow.add( _.$nextArrow )\n\n                    .addClass('slick-hidden')\n                    .attr({\n                        'aria-disabled': 'true',\n                        'tabindex': '-1'\n                    });\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.buildDots = function() {\n\n        var _ = this,\n            i, dot;\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$slider.addClass('slick-dotted');\n\n            dot = $('<ul />').addClass(_.options.dotsClass);\n\n            for (i = 0; i <= _.getDotCount(); i += 1) {\n                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));\n            }\n\n            _.$dots = dot.appendTo(_.options.appendDots);\n\n            _.$dots.find('li').first().addClass('slick-active');\n\n        }\n\n    };\n\n    Slick.prototype.buildOut = function() {\n\n        var _ = this;\n\n        _.$slides =\n            _.$slider\n                .children( _.options.slide + ':not(.slick-cloned)')\n                .addClass('slick-slide');\n\n        _.slideCount = _.$slides.length;\n\n        _.$slides.each(function(index, element) {\n            $(element)\n                .attr('data-slick-index', index)\n                .data('originalStyling', $(element).attr('style') || '');\n        });\n\n        _.$slider.addClass('slick-slider');\n\n        _.$slideTrack = (_.slideCount === 0) ?\n            $('<div class=\"slick-track\"/>').appendTo(_.$slider) :\n            _.$slides.wrapAll('<div class=\"slick-track\"/>').parent();\n\n        _.$list = _.$slideTrack.wrap(\n            '<div class=\"slick-list\"/>').parent();\n        _.$slideTrack.css('opacity', 0);\n\n        if (_.options.centerMode === true || _.options.swipeToSlide === true) {\n            _.options.slidesToScroll = 1;\n        }\n\n        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');\n\n        _.setupInfinite();\n\n        _.buildArrows();\n\n        _.buildDots();\n\n        _.updateDots();\n\n\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\n\n        if (_.options.draggable === true) {\n            _.$list.addClass('draggable');\n        }\n\n    };\n\n    Slick.prototype.buildRows = function() {\n\n        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;\n\n        newSlides = document.createDocumentFragment();\n        originalSlides = _.$slider.children();\n\n        if(_.options.rows > 0) {\n\n            slidesPerSection = _.options.slidesPerRow * _.options.rows;\n            numOfSlides = Math.ceil(\n                originalSlides.length / slidesPerSection\n            );\n\n            for(a = 0; a < numOfSlides; a++){\n                var slide = document.createElement('div');\n                for(b = 0; b < _.options.rows; b++) {\n                    var row = document.createElement('div');\n                    for(c = 0; c < _.options.slidesPerRow; c++) {\n                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));\n                        if (originalSlides.get(target)) {\n                            row.appendChild(originalSlides.get(target));\n                        }\n                    }\n                    slide.appendChild(row);\n                }\n                newSlides.appendChild(slide);\n            }\n\n            _.$slider.empty().append(newSlides);\n            _.$slider.children().children().children()\n                .css({\n                    'width':(100 / _.options.slidesPerRow) + '%',\n                    'display': 'inline-block'\n                });\n\n        }\n\n    };\n\n    Slick.prototype.checkResponsive = function(initial, forceUpdate) {\n\n        var _ = this,\n            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;\n        var sliderWidth = _.$slider.width();\n        var windowWidth = window.innerWidth || $(window).width();\n\n        if (_.respondTo === 'window') {\n            respondToWidth = windowWidth;\n        } else if (_.respondTo === 'slider') {\n            respondToWidth = sliderWidth;\n        } else if (_.respondTo === 'min') {\n            respondToWidth = Math.min(windowWidth, sliderWidth);\n        }\n\n        if ( _.options.responsive &&\n            _.options.responsive.length &&\n            _.options.responsive !== null) {\n\n            targetBreakpoint = null;\n\n            for (breakpoint in _.breakpoints) {\n                if (_.breakpoints.hasOwnProperty(breakpoint)) {\n                    if (_.originalSettings.mobileFirst === false) {\n                        if (respondToWidth < _.breakpoints[breakpoint]) {\n                            targetBreakpoint = _.breakpoints[breakpoint];\n                        }\n                    } else {\n                        if (respondToWidth > _.breakpoints[breakpoint]) {\n                            targetBreakpoint = _.breakpoints[breakpoint];\n                        }\n                    }\n                }\n            }\n\n            if (targetBreakpoint !== null) {\n                if (_.activeBreakpoint !== null) {\n                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {\n                        _.activeBreakpoint =\n                            targetBreakpoint;\n                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\n                            _.unslick(targetBreakpoint);\n                        } else {\n                            _.options = $.extend({}, _.originalSettings,\n                                _.breakpointSettings[\n                                    targetBreakpoint]);\n                            if (initial === true) {\n                                _.currentSlide = _.options.initialSlide;\n                            }\n                            _.refresh(initial);\n                        }\n                        triggerBreakpoint = targetBreakpoint;\n                    }\n                } else {\n                    _.activeBreakpoint = targetBreakpoint;\n                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\n                        _.unslick(targetBreakpoint);\n                    } else {\n                        _.options = $.extend({}, _.originalSettings,\n                            _.breakpointSettings[\n                                targetBreakpoint]);\n                        if (initial === true) {\n                            _.currentSlide = _.options.initialSlide;\n                        }\n                        _.refresh(initial);\n                    }\n                    triggerBreakpoint = targetBreakpoint;\n                }\n            } else {\n                if (_.activeBreakpoint !== null) {\n                    _.activeBreakpoint = null;\n                    _.options = _.originalSettings;\n                    if (initial === true) {\n                        _.currentSlide = _.options.initialSlide;\n                    }\n                    _.refresh(initial);\n                    triggerBreakpoint = targetBreakpoint;\n                }\n            }\n\n            // only trigger breakpoints during an actual break. not on initialize.\n            if( !initial && triggerBreakpoint !== false ) {\n                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);\n            }\n        }\n\n    };\n\n    Slick.prototype.changeSlide = function(event, dontAnimate) {\n\n        var _ = this,\n            $target = $(event.currentTarget),\n            indexOffset, slideOffset, unevenOffset;\n\n        // If target is a link, prevent default action.\n        if($target.is('a')) {\n            event.preventDefault();\n        }\n\n        // If target is not the <li> element (ie: a child), find the <li>.\n        if(!$target.is('li')) {\n            $target = $target.closest('li');\n        }\n\n        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);\n        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;\n\n        switch (event.data.message) {\n\n            case 'previous':\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;\n                if (_.slideCount > _.options.slidesToShow) {\n                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);\n                }\n                break;\n\n            case 'next':\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;\n                if (_.slideCount > _.options.slidesToShow) {\n                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);\n                }\n                break;\n\n            case 'index':\n                var index = event.data.index === 0 ? 0 :\n                    event.data.index || $target.index() * _.options.slidesToScroll;\n\n                _.slideHandler(_.checkNavigable(index), false, dontAnimate);\n                $target.children().trigger('focus');\n                break;\n\n            default:\n                return;\n        }\n\n    };\n\n    Slick.prototype.checkNavigable = function(index) {\n\n        var _ = this,\n            navigables, prevNavigable;\n\n        navigables = _.getNavigableIndexes();\n        prevNavigable = 0;\n        if (index > navigables[navigables.length - 1]) {\n            index = navigables[navigables.length - 1];\n        } else {\n            for (var n in navigables) {\n                if (index < navigables[n]) {\n                    index = prevNavigable;\n                    break;\n                }\n                prevNavigable = navigables[n];\n            }\n        }\n\n        return index;\n    };\n\n    Slick.prototype.cleanUpEvents = function() {\n\n        var _ = this;\n\n        if (_.options.dots && _.$dots !== null) {\n\n            $('li', _.$dots)\n                .off('click.slick', _.changeSlide)\n                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))\n                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n            if (_.options.accessibility === true) {\n                _.$dots.off('keydown.slick', _.keyHandler);\n            }\n        }\n\n        _.$slider.off('focus.slick blur.slick');\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);\n            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);\n\n            if (_.options.accessibility === true) {\n                _.$prevArrow && _.$prevArrow.off('keydown.slick', _.keyHandler);\n                _.$nextArrow && _.$nextArrow.off('keydown.slick', _.keyHandler);\n            }\n        }\n\n        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);\n        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);\n        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);\n        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);\n\n        _.$list.off('click.slick', _.clickHandler);\n\n        $(document).off(_.visibilityChange, _.visibility);\n\n        _.cleanUpSlideEvents();\n\n        if (_.options.accessibility === true) {\n            _.$list.off('keydown.slick', _.keyHandler);\n        }\n\n        if (_.options.focusOnSelect === true) {\n            $(_.$slideTrack).children().off('click.slick', _.selectHandler);\n        }\n\n        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);\n\n        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);\n\n        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);\n\n        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);\n\n    };\n\n    Slick.prototype.cleanUpSlideEvents = function() {\n\n        var _ = this;\n\n        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));\n        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n    };\n\n    Slick.prototype.cleanUpRows = function() {\n\n        var _ = this, originalSlides;\n\n        if(_.options.rows > 0) {\n            originalSlides = _.$slides.children().children();\n            originalSlides.removeAttr('style');\n            _.$slider.empty().append(originalSlides);\n        }\n\n    };\n\n    Slick.prototype.clickHandler = function(event) {\n\n        var _ = this;\n\n        if (_.shouldClick === false) {\n            event.stopImmediatePropagation();\n            event.stopPropagation();\n            event.preventDefault();\n        }\n\n    };\n\n    Slick.prototype.destroy = function(refresh) {\n\n        var _ = this;\n\n        _.autoPlayClear();\n\n        _.touchObject = {};\n\n        _.cleanUpEvents();\n\n        $('.slick-cloned', _.$slider).detach();\n\n        if (_.$dots) {\n            _.$dots.remove();\n        }\n\n        if ( _.$prevArrow && _.$prevArrow.length ) {\n\n            _.$prevArrow\n                .removeClass('slick-disabled slick-arrow slick-hidden')\n                .removeAttr('aria-hidden aria-disabled tabindex')\n                .css('display','');\n\n            if ( _.htmlExpr.test( _.options.prevArrow )) {\n                _.$prevArrow.remove();\n            }\n        }\n\n        if ( _.$nextArrow && _.$nextArrow.length ) {\n\n            _.$nextArrow\n                .removeClass('slick-disabled slick-arrow slick-hidden')\n                .removeAttr('aria-hidden aria-disabled tabindex')\n                .css('display','');\n\n            if ( _.htmlExpr.test( _.options.nextArrow )) {\n                _.$nextArrow.remove();\n            }\n        }\n\n\n        if (_.$slides) {\n\n            _.$slides\n                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')\n                .removeAttr('aria-hidden')\n                .removeAttr('data-slick-index')\n                .each(function(){\n                    $(this).attr('style', $(this).data('originalStyling'));\n                });\n\n            _.$slideTrack.children(this.options.slide).detach();\n\n            _.$slideTrack.detach();\n\n            _.$list.detach();\n\n            _.$slider.append(_.$slides);\n        }\n\n        _.cleanUpRows();\n\n        _.$slider.removeClass('slick-slider');\n        _.$slider.removeClass('slick-initialized');\n        _.$slider.removeClass('slick-dotted');\n\n        _.unslicked = true;\n\n        if(!refresh) {\n            _.$slider.trigger('destroy', [_]);\n        }\n\n    };\n\n    Slick.prototype.disableTransition = function(slide) {\n\n        var _ = this,\n            transition = {};\n\n        transition[_.transitionType] = '';\n\n        if (_.options.fade === false) {\n            _.$slideTrack.css(transition);\n        } else {\n            _.$slides.eq(slide).css(transition);\n        }\n\n    };\n\n    Slick.prototype.fadeSlide = function(slideIndex, callback) {\n\n        var _ = this;\n\n        if (_.cssTransitions === false) {\n\n            _.$slides.eq(slideIndex).css({\n                zIndex: _.options.zIndex\n            });\n\n            _.$slides.eq(slideIndex).animate({\n                opacity: 1\n            }, _.options.speed, _.options.easing, callback);\n\n        } else {\n\n            _.applyTransition(slideIndex);\n\n            _.$slides.eq(slideIndex).css({\n                opacity: 1,\n                zIndex: _.options.zIndex\n            });\n\n            if (callback) {\n                setTimeout(function() {\n\n                    _.disableTransition(slideIndex);\n\n                    callback.call();\n                }, _.options.speed);\n            }\n\n        }\n\n    };\n\n    Slick.prototype.fadeSlideOut = function(slideIndex) {\n\n        var _ = this;\n\n        if (_.cssTransitions === false) {\n\n            _.$slides.eq(slideIndex).animate({\n                opacity: 0,\n                zIndex: _.options.zIndex - 2\n            }, _.options.speed, _.options.easing);\n\n        } else {\n\n            _.applyTransition(slideIndex);\n\n            _.$slides.eq(slideIndex).css({\n                opacity: 0,\n                zIndex: _.options.zIndex - 2\n            });\n\n        }\n\n    };\n\n    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {\n\n        var _ = this;\n\n        if (filter !== null) {\n\n            _.$slidesCache = _.$slides;\n\n            _.unload();\n\n            _.$slideTrack.children(this.options.slide).detach();\n\n            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);\n\n            _.reinit();\n\n        }\n\n    };\n\n    Slick.prototype.focusHandler = function() {\n\n        var _ = this;\n\n        _.$slider\n            .off('focus.slick blur.slick')\n            .on('focus.slick blur.slick', '*', function(event) {\n\n            event.stopImmediatePropagation();\n            var $sf = $(this);\n\n            setTimeout(function() {\n\n                if( _.options.pauseOnFocus ) {\n                    _.focussed = $sf.is(':focus');\n                    _.autoPlay();\n                }\n\n            }, 0);\n\n        });\n    };\n\n    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {\n\n        var _ = this;\n        return _.currentSlide;\n\n    };\n\n    Slick.prototype.getDotCount = function() {\n\n        var _ = this;\n\n        var breakPoint = 0;\n        var counter = 0;\n        var pagerQty = 0;\n\n        if (_.options.infinite === true) {\n            if (_.slideCount <= _.options.slidesToShow) {\n                 ++pagerQty;\n            } else {\n                while (breakPoint < _.slideCount) {\n                    ++pagerQty;\n                    breakPoint = counter + _.options.slidesToScroll;\n                    counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\n                }\n            }\n        } else if (_.options.centerMode === true) {\n            pagerQty = _.slideCount;\n        } else if(!_.options.asNavFor) {\n            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);\n        }else {\n            while (breakPoint < _.slideCount) {\n                ++pagerQty;\n                breakPoint = counter + _.options.slidesToScroll;\n                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\n            }\n        }\n\n        return pagerQty - 1;\n\n    };\n\n    Slick.prototype.getLeft = function(slideIndex) {\n\n        var _ = this,\n            targetLeft,\n            verticalHeight,\n            verticalOffset = 0,\n            targetSlide,\n            coef;\n\n        _.slideOffset = 0;\n        verticalHeight = _.$slides.first().outerHeight(true);\n\n        if (_.options.infinite === true) {\n            if (_.slideCount > _.options.slidesToShow) {\n                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;\n                coef = -1\n\n                if (_.options.vertical === true && _.options.centerMode === true) {\n                    if (_.options.slidesToShow === 2) {\n                        coef = -1.5;\n                    } else if (_.options.slidesToShow === 1) {\n                        coef = -2\n                    }\n                }\n                verticalOffset = (verticalHeight * _.options.slidesToShow) * coef;\n            }\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\n                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {\n                    if (slideIndex > _.slideCount) {\n                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;\n                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;\n                    } else {\n                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;\n                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;\n                    }\n                }\n            }\n        } else {\n            if (slideIndex + _.options.slidesToShow > _.slideCount) {\n                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;\n                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;\n            }\n        }\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            _.slideOffset = 0;\n            verticalOffset = 0;\n        }\n\n        if (_.options.centerMode === true && _.slideCount <= _.options.slidesToShow) {\n            _.slideOffset = ((_.slideWidth * Math.floor(_.options.slidesToShow)) / 2) - ((_.slideWidth * _.slideCount) / 2);\n        } else if (_.options.centerMode === true && _.options.infinite === true) {\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;\n        } else if (_.options.centerMode === true) {\n            _.slideOffset = 0;\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);\n        }\n\n        if (_.options.vertical === false) {\n            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;\n        } else {\n            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;\n        }\n\n        if (_.options.variableWidth === true) {\n\n            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\n            } else {\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);\n            }\n\n            if (_.options.rtl === true) {\n                if (targetSlide[0]) {\n                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\n                } else {\n                    targetLeft =  0;\n                }\n            } else {\n                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\n            }\n\n            if (_.options.centerMode === true) {\n                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\n                } else {\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);\n                }\n\n                if (_.options.rtl === true) {\n                    if (targetSlide[0]) {\n                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\n                    } else {\n                        targetLeft =  0;\n                    }\n                } else {\n                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\n                }\n\n                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;\n            }\n        }\n\n        return targetLeft;\n\n    };\n\n    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {\n\n        var _ = this;\n\n        return _.options[option];\n\n    };\n\n    Slick.prototype.getNavigableIndexes = function() {\n\n        var _ = this,\n            breakPoint = 0,\n            counter = 0,\n            indexes = [],\n            max;\n\n        if (_.options.infinite === false) {\n            max = _.slideCount;\n        } else {\n            breakPoint = _.options.slidesToScroll * -1;\n            counter = _.options.slidesToScroll * -1;\n            max = _.slideCount * 2;\n        }\n\n        while (breakPoint < max) {\n            indexes.push(breakPoint);\n            breakPoint = counter + _.options.slidesToScroll;\n            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\n        }\n\n        return indexes;\n\n    };\n\n    Slick.prototype.getSlick = function() {\n\n        return this;\n\n    };\n\n    Slick.prototype.getSlideCount = function() {\n\n        var _ = this,\n            slidesTraversed, swipedSlide, centerOffset;\n\n        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;\n\n        if (_.options.swipeToSlide === true) {\n            _.$slideTrack.find('.slick-slide').each(function(index, slide) {\n                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {\n                    swipedSlide = slide;\n                    return false;\n                }\n            });\n\n            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;\n\n            return slidesTraversed;\n\n        } else {\n            return _.options.slidesToScroll;\n        }\n\n    };\n\n    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {\n\n        var _ = this;\n\n        _.changeSlide({\n            data: {\n                message: 'index',\n                index: parseInt(slide)\n            }\n        }, dontAnimate);\n\n    };\n\n    Slick.prototype.init = function(creation) {\n\n        var _ = this;\n\n        if (!$(_.$slider).hasClass('slick-initialized')) {\n\n            $(_.$slider).addClass('slick-initialized');\n\n            _.buildRows();\n            _.buildOut();\n            _.setProps();\n            _.startLoad();\n            _.loadSlider();\n            _.initializeEvents();\n            _.updateArrows();\n            _.updateDots();\n            _.checkResponsive(true);\n            _.focusHandler();\n\n        }\n\n        if (creation) {\n            _.$slider.trigger('init', [_]);\n        }\n\n        if (_.options.accessibility === true) {\n            _.initADA();\n        }\n\n        if ( _.options.autoplay ) {\n\n            _.paused = false;\n            _.autoPlay();\n\n        }\n\n    };\n\n    Slick.prototype.initADA = function() {\n        var _ = this,\n                numDotGroups = Math.ceil(_.slideCount / _.options.slidesToShow),\n                tabControlIndexes = _.getNavigableIndexes().filter(function(val) {\n                    return (val >= 0) && (val < _.slideCount);\n                });\n\n        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({\n            'aria-hidden': 'true',\n            'tabindex': '-1'\n        }).find('a, input, button, select').attr({\n            'tabindex': '-1'\n        });\n\n        if (_.$dots !== null) {\n            _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {\n                var slideControlIndex = tabControlIndexes.indexOf(i);\n\n                $(this).attr({\n                    'role': 'tabpanel',\n                    'id': 'slick-slide' + _.instanceUid + i,\n                    'tabindex': -1\n                });\n\n                if (slideControlIndex !== -1) {\n                   var ariaButtonControl = 'slick-slide-control' + _.instanceUid + slideControlIndex\n                   if ($('#' + ariaButtonControl).length) {\n                     $(this).attr({\n                         'aria-describedby': ariaButtonControl\n                     });\n                   }\n                }\n            });\n\n            _.$dots.attr('role', 'tablist').find('li').each(function(i) {\n                var mappedSlideIndex = tabControlIndexes[i];\n\n                $(this).attr({\n                    'role': 'presentation'\n                });\n\n                $(this).find('button').first().attr({\n                    'role': 'tab',\n                    'id': 'slick-slide-control' + _.instanceUid + i,\n                    'aria-controls': 'slick-slide' + _.instanceUid + mappedSlideIndex,\n                    'aria-label': (i + 1) + ' of ' + numDotGroups,\n                    'aria-selected': null,\n                    'tabindex': '-1'\n                });\n\n            }).eq(_.currentSlide).find('button').attr({\n                'aria-selected': 'true',\n                'tabindex': '0'\n            }).end();\n        }\n\n        for (var i=_.currentSlide, max=i+_.options.slidesToShow; i < max; i++) {\n          if (_.options.focusOnChange) {\n            _.$slides.eq(i).attr({'tabindex': '0'});\n          } else {\n            _.$slides.eq(i).removeAttr('tabindex');\n          }\n        }\n\n        _.activateADA();\n\n    };\n\n    Slick.prototype.initArrowEvents = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n            _.$prevArrow\n               .off('click.slick')\n               .on('click.slick', {\n                    message: 'previous'\n               }, _.changeSlide);\n            _.$nextArrow\n               .off('click.slick')\n               .on('click.slick', {\n                    message: 'next'\n               }, _.changeSlide);\n\n            if (_.options.accessibility === true) {\n                _.$prevArrow.on('keydown.slick', _.keyHandler);\n                _.$nextArrow.on('keydown.slick', _.keyHandler);\n            }\n        }\n\n    };\n\n    Slick.prototype.initDotEvents = function() {\n\n        var _ = this;\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n            $('li', _.$dots).on('click.slick', {\n                message: 'index'\n            }, _.changeSlide);\n\n            if (_.options.accessibility === true) {\n                _.$dots.on('keydown.slick', _.keyHandler);\n            }\n        }\n\n        if (_.options.dots === true && _.options.pauseOnDotsHover === true && _.slideCount > _.options.slidesToShow) {\n\n            $('li', _.$dots)\n                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))\n                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n        }\n\n    };\n\n    Slick.prototype.initSlideEvents = function() {\n\n        var _ = this;\n\n        if ( _.options.pauseOnHover ) {\n\n            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));\n            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n        }\n\n    };\n\n    Slick.prototype.initializeEvents = function() {\n\n        var _ = this;\n\n        _.initArrowEvents();\n\n        _.initDotEvents();\n        _.initSlideEvents();\n\n        _.$list.on('touchstart.slick mousedown.slick', {\n            action: 'start'\n        }, _.swipeHandler);\n        _.$list.on('touchmove.slick mousemove.slick', {\n            action: 'move'\n        }, _.swipeHandler);\n        _.$list.on('touchend.slick mouseup.slick', {\n            action: 'end'\n        }, _.swipeHandler);\n        _.$list.on('touchcancel.slick mouseleave.slick', {\n            action: 'end'\n        }, _.swipeHandler);\n\n        _.$list.on('click.slick', _.clickHandler);\n\n        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));\n\n        if (_.options.accessibility === true) {\n            _.$list.on('keydown.slick', _.keyHandler);\n        }\n\n        if (_.options.focusOnSelect === true) {\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\n        }\n\n        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));\n\n        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));\n\n        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);\n\n        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);\n        $(_.setPosition);\n\n    };\n\n    Slick.prototype.initUI = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$prevArrow.show();\n            _.$nextArrow.show();\n\n        }\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$dots.show();\n\n        }\n\n    };\n\n    Slick.prototype.keyHandler = function(event) {\n\n        var _ = this;\n         //Dont slide if the cursor is inside the form fields and arrow keys are pressed\n        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {\n            if (event.keyCode === 37 && _.options.accessibility === true) {\n                _.changeSlide({\n                    data: {\n                        message: _.options.rtl === true ? 'next' :  'previous'\n                    }\n                });\n            } else if (event.keyCode === 39 && _.options.accessibility === true) {\n                _.changeSlide({\n                    data: {\n                        message: _.options.rtl === true ? 'previous' : 'next'\n                    }\n                });\n            }\n        }\n\n    };\n\n    Slick.prototype.lazyLoad = function() {\n\n        var _ = this,\n            loadRange, cloneRange, rangeStart, rangeEnd;\n\n        function loadImages(imagesScope) {\n\n            $('img[data-lazy]', imagesScope).each(function() {\n\n                var image = $(this),\n                    imageSource = $(this).attr('data-lazy'),\n                    imageSrcSet = $(this).attr('data-srcset'),\n                    imageSizes  = $(this).attr('data-sizes') || _.$slider.attr('data-sizes'),\n                    imageToLoad = document.createElement('img');\n\n                imageToLoad.onload = function() {\n\n                    image\n                        .animate({ opacity: 0 }, 100, function() {\n\n                            if (imageSrcSet) {\n                                image\n                                    .attr('srcset', imageSrcSet );\n\n                                if (imageSizes) {\n                                    image\n                                        .attr('sizes', imageSizes );\n                                }\n                            }\n\n                            image\n                                .attr('src', imageSource)\n                                .animate({ opacity: 1 }, 200, function() {\n                                    image\n                                        .removeAttr('data-lazy data-srcset data-sizes')\n                                        .removeClass('slick-loading');\n                                });\n                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);\n                        });\n\n                };\n\n                imageToLoad.onerror = function() {\n\n                    image\n                        .removeAttr( 'data-lazy' )\n                        .removeClass( 'slick-loading' )\n                        .addClass( 'slick-lazyload-error' );\n\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\n\n                };\n\n                imageToLoad.src = imageSource;\n\n            });\n\n        }\n\n        if (_.options.centerMode === true) {\n            if (_.options.infinite === true) {\n                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);\n                rangeEnd = rangeStart + _.options.slidesToShow + 2;\n            } else {\n                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));\n                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;\n            }\n        } else {\n            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;\n            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);\n            if (_.options.fade === true) {\n                if (rangeStart > 0) rangeStart--;\n                if (rangeEnd <= _.slideCount) rangeEnd++;\n            }\n        }\n\n        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);\n\n        if (_.options.lazyLoad === 'anticipated') {\n            var prevSlide = rangeStart - 1,\n                nextSlide = rangeEnd,\n                $slides = _.$slider.find('.slick-slide');\n\n            for (var i = 0; i < _.options.slidesToScroll; i++) {\n                if (prevSlide < 0) prevSlide = _.slideCount - 1;\n                loadRange = loadRange.add($slides.eq(prevSlide));\n                loadRange = loadRange.add($slides.eq(nextSlide));\n                prevSlide--;\n                nextSlide++;\n            }\n        }\n\n        loadImages(loadRange);\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            cloneRange = _.$slider.find('.slick-slide');\n            loadImages(cloneRange);\n        } else\n        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {\n            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);\n            loadImages(cloneRange);\n        } else if (_.currentSlide === 0) {\n            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);\n            loadImages(cloneRange);\n        }\n\n    };\n\n    Slick.prototype.loadSlider = function() {\n\n        var _ = this;\n\n        _.setPosition();\n\n        _.$slideTrack.css({\n            opacity: 1\n        });\n\n        _.$slider.removeClass('slick-loading');\n\n        _.initUI();\n\n        if (_.options.lazyLoad === 'progressive') {\n            _.progressiveLazyLoad();\n        }\n\n    };\n\n    Slick.prototype.next = Slick.prototype.slickNext = function() {\n\n        var _ = this;\n\n        _.changeSlide({\n            data: {\n                message: 'next'\n            }\n        });\n\n    };\n\n    Slick.prototype.orientationChange = function() {\n\n        var _ = this;\n\n        _.checkResponsive();\n        _.setPosition();\n\n    };\n\n    Slick.prototype.pause = Slick.prototype.slickPause = function() {\n\n        var _ = this;\n\n        _.autoPlayClear();\n        _.paused = true;\n\n    };\n\n    Slick.prototype.play = Slick.prototype.slickPlay = function() {\n\n        var _ = this;\n\n        _.autoPlay();\n        _.options.autoplay = true;\n        _.paused = false;\n        _.focussed = false;\n        _.interrupted = false;\n\n    };\n\n    Slick.prototype.postSlide = function(index) {\n\n        var _ = this;\n\n        if( !_.unslicked ) {\n\n            _.$slider.trigger('afterChange', [_, index]);\n\n            _.animating = false;\n\n            if (_.slideCount > _.options.slidesToShow) {\n                _.setPosition();\n            }\n\n            _.swipeLeft = null;\n\n            if ( _.options.autoplay ) {\n                _.autoPlay();\n            }\n\n            if (_.options.accessibility === true) {\n                _.initADA();\n\n                if (_.options.focusOnChange) {\n                    var $currentSlide = $(_.$slides.get(_.currentSlide));\n                    $currentSlide.attr('tabindex', 0).focus();\n                }\n            }\n\n        }\n\n    };\n\n    Slick.prototype.prev = Slick.prototype.slickPrev = function() {\n\n        var _ = this;\n\n        _.changeSlide({\n            data: {\n                message: 'previous'\n            }\n        });\n\n    };\n\n    Slick.prototype.preventDefault = function(event) {\n\n        event.preventDefault();\n\n    };\n\n    Slick.prototype.progressiveLazyLoad = function( tryCount ) {\n\n        tryCount = tryCount || 1;\n\n        var _ = this,\n            $imgsToLoad = $( 'img[data-lazy]', _.$slider ),\n            image,\n            imageSource,\n            imageSrcSet,\n            imageSizes,\n            imageToLoad;\n\n        if ( $imgsToLoad.length ) {\n\n            image = $imgsToLoad.first();\n            imageSource = image.attr('data-lazy');\n            imageSrcSet = image.attr('data-srcset');\n            imageSizes  = image.attr('data-sizes') || _.$slider.attr('data-sizes');\n            imageToLoad = document.createElement('img');\n\n            imageToLoad.onload = function() {\n\n                if (imageSrcSet) {\n                    image\n                        .attr('srcset', imageSrcSet );\n\n                    if (imageSizes) {\n                        image\n                            .attr('sizes', imageSizes );\n                    }\n                }\n\n                image\n                    .attr( 'src', imageSource )\n                    .removeAttr('data-lazy data-srcset data-sizes')\n                    .removeClass('slick-loading');\n\n                if ( _.options.adaptiveHeight === true ) {\n                    _.setPosition();\n                }\n\n                _.$slider.trigger('lazyLoaded', [ _, image, imageSource ]);\n                _.progressiveLazyLoad();\n\n            };\n\n            imageToLoad.onerror = function() {\n\n                if ( tryCount < 3 ) {\n\n                    /**\n                     * try to load the image 3 times,\n                     * leave a slight delay so we don't get\n                     * servers blocking the request.\n                     */\n                    setTimeout( function() {\n                        _.progressiveLazyLoad( tryCount + 1 );\n                    }, 500 );\n\n                } else {\n\n                    image\n                        .removeAttr( 'data-lazy' )\n                        .removeClass( 'slick-loading' )\n                        .addClass( 'slick-lazyload-error' );\n\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\n\n                    _.progressiveLazyLoad();\n\n                }\n\n            };\n\n            imageToLoad.src = imageSource;\n\n        } else {\n\n            _.$slider.trigger('allImagesLoaded', [ _ ]);\n\n        }\n\n    };\n\n    Slick.prototype.refresh = function( initializing ) {\n\n        var _ = this, currentSlide, lastVisibleIndex;\n\n        lastVisibleIndex = _.slideCount - _.options.slidesToShow;\n\n        // in non-infinite sliders, we don't want to go past the\n        // last visible index.\n        if( !_.options.infinite && ( _.currentSlide > lastVisibleIndex )) {\n            _.currentSlide = lastVisibleIndex;\n        }\n\n        // if less slides than to show, go to start.\n        if ( _.slideCount <= _.options.slidesToShow ) {\n            _.currentSlide = 0;\n\n        }\n\n        currentSlide = _.currentSlide;\n\n        _.destroy(true);\n\n        $.extend(_, _.initials, { currentSlide: currentSlide });\n\n        _.init();\n\n        if( !initializing ) {\n\n            _.changeSlide({\n                data: {\n                    message: 'index',\n                    index: currentSlide\n                }\n            }, false);\n\n        }\n\n    };\n\n    Slick.prototype.registerBreakpoints = function() {\n\n        var _ = this, breakpoint, currentBreakpoint, l,\n            responsiveSettings = _.options.responsive || null;\n\n        if ( $.type(responsiveSettings) === 'array' && responsiveSettings.length ) {\n\n            _.respondTo = _.options.respondTo || 'window';\n\n            for ( breakpoint in responsiveSettings ) {\n\n                l = _.breakpoints.length-1;\n\n                if (responsiveSettings.hasOwnProperty(breakpoint)) {\n                    currentBreakpoint = responsiveSettings[breakpoint].breakpoint;\n\n                    // loop through the breakpoints and cut out any existing\n                    // ones with the same breakpoint number, we don't want dupes.\n                    while( l >= 0 ) {\n                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {\n                            _.breakpoints.splice(l,1);\n                        }\n                        l--;\n                    }\n\n                    _.breakpoints.push(currentBreakpoint);\n                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;\n\n                }\n\n            }\n\n            _.breakpoints.sort(function(a, b) {\n                return ( _.options.mobileFirst ) ? a-b : b-a;\n            });\n\n        }\n\n    };\n\n    Slick.prototype.reinit = function() {\n\n        var _ = this;\n\n        _.$slides =\n            _.$slideTrack\n                .children(_.options.slide)\n                .addClass('slick-slide');\n\n        _.slideCount = _.$slides.length;\n\n        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {\n            _.currentSlide = _.currentSlide - _.options.slidesToScroll;\n        }\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            _.currentSlide = 0;\n        }\n\n        _.registerBreakpoints();\n\n        _.setProps();\n        _.setupInfinite();\n        _.buildArrows();\n        _.updateArrows();\n        _.initArrowEvents();\n        _.buildDots();\n        _.updateDots();\n        _.initDotEvents();\n        _.cleanUpSlideEvents();\n        _.initSlideEvents();\n\n        _.checkResponsive(false, true);\n\n        if (_.options.focusOnSelect === true) {\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\n        }\n\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\n\n        _.setPosition();\n        _.focusHandler();\n\n        _.paused = !_.options.autoplay;\n        _.autoPlay();\n\n        _.$slider.trigger('reInit', [_]);\n\n    };\n\n    Slick.prototype.resize = function() {\n\n        var _ = this;\n\n        if ($(window).width() !== _.windowWidth) {\n            clearTimeout(_.windowDelay);\n            _.windowDelay = window.setTimeout(function() {\n                _.windowWidth = $(window).width();\n                _.checkResponsive();\n                if( !_.unslicked ) { _.setPosition(); }\n            }, 50);\n        }\n    };\n\n    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {\n\n        var _ = this;\n\n        if (typeof(index) === 'boolean') {\n            removeBefore = index;\n            index = removeBefore === true ? 0 : _.slideCount - 1;\n        } else {\n            index = removeBefore === true ? --index : index;\n        }\n\n        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {\n            return false;\n        }\n\n        _.unload();\n\n        if (removeAll === true) {\n            _.$slideTrack.children().remove();\n        } else {\n            _.$slideTrack.children(this.options.slide).eq(index).remove();\n        }\n\n        _.$slides = _.$slideTrack.children(this.options.slide);\n\n        _.$slideTrack.children(this.options.slide).detach();\n\n        _.$slideTrack.append(_.$slides);\n\n        _.$slidesCache = _.$slides;\n\n        _.reinit();\n\n    };\n\n    Slick.prototype.setCSS = function(position) {\n\n        var _ = this,\n            positionProps = {},\n            x, y;\n\n        if (_.options.rtl === true) {\n            position = -position;\n        }\n        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';\n        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';\n\n        positionProps[_.positionProp] = position;\n\n        if (_.transformsEnabled === false) {\n            _.$slideTrack.css(positionProps);\n        } else {\n            positionProps = {};\n            if (_.cssTransitions === false) {\n                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';\n                _.$slideTrack.css(positionProps);\n            } else {\n                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';\n                _.$slideTrack.css(positionProps);\n            }\n        }\n\n    };\n\n    Slick.prototype.setDimensions = function() {\n\n        var _ = this;\n\n        if (_.options.vertical === false) {\n            if (_.options.centerMode === true) {\n                _.$list.css({\n                    padding: ('0px ' + _.options.centerPadding)\n                });\n            }\n        } else {\n            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);\n            if (_.options.centerMode === true) {\n                _.$list.css({\n                    padding: (_.options.centerPadding + ' 0px')\n                });\n            }\n        }\n\n        _.listWidth = _.$list.width();\n        _.listHeight = _.$list.height();\n\n\n        if (_.options.vertical === false && _.options.variableWidth === false) {\n            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);\n            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));\n\n        } else if (_.options.variableWidth === true) {\n            _.$slideTrack.width(5000 * _.slideCount);\n        } else {\n            _.slideWidth = Math.ceil(_.listWidth);\n            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));\n        }\n\n        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();\n        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);\n\n    };\n\n    Slick.prototype.setFade = function() {\n\n        var _ = this,\n            targetLeft;\n\n        _.$slides.each(function(index, element) {\n            targetLeft = (_.slideWidth * index) * -1;\n            if (_.options.rtl === true) {\n                $(element).css({\n                    position: 'relative',\n                    right: targetLeft,\n                    top: 0,\n                    zIndex: _.options.zIndex - 2,\n                    opacity: 0\n                });\n            } else {\n                $(element).css({\n                    position: 'relative',\n                    left: targetLeft,\n                    top: 0,\n                    zIndex: _.options.zIndex - 2,\n                    opacity: 0\n                });\n            }\n        });\n\n        _.$slides.eq(_.currentSlide).css({\n            zIndex: _.options.zIndex - 1,\n            opacity: 1\n        });\n\n    };\n\n    Slick.prototype.setHeight = function() {\n\n        var _ = this;\n\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\n            _.$list.css('height', targetHeight);\n        }\n\n    };\n\n    Slick.prototype.setOption =\n    Slick.prototype.slickSetOption = function() {\n\n        /**\n         * accepts arguments in format of:\n         *\n         *  - for changing a single option's value:\n         *     .slick(\"setOption\", option, value, refresh )\n         *\n         *  - for changing a set of responsive options:\n         *     .slick(\"setOption\", 'responsive', [{}, ...], refresh )\n         *\n         *  - for updating multiple values at once (not responsive)\n         *     .slick(\"setOption\", { 'option': value, ... }, refresh )\n         */\n\n        var _ = this, l, item, option, value, refresh = false, type;\n\n        if( $.type( arguments[0] ) === 'object' ) {\n\n            option =  arguments[0];\n            refresh = arguments[1];\n            type = 'multiple';\n\n        } else if ( $.type( arguments[0] ) === 'string' ) {\n\n            option =  arguments[0];\n            value = arguments[1];\n            refresh = arguments[2];\n\n            if ( arguments[0] === 'responsive' && $.type( arguments[1] ) === 'array' ) {\n\n                type = 'responsive';\n\n            } else if ( typeof arguments[1] !== 'undefined' ) {\n\n                type = 'single';\n\n            }\n\n        }\n\n        if ( type === 'single' ) {\n\n            _.options[option] = value;\n\n\n        } else if ( type === 'multiple' ) {\n\n            $.each( option , function( opt, val ) {\n\n                _.options[opt] = val;\n\n            });\n\n\n        } else if ( type === 'responsive' ) {\n\n            for ( item in value ) {\n\n                if( $.type( _.options.responsive ) !== 'array' ) {\n\n                    _.options.responsive = [ value[item] ];\n\n                } else {\n\n                    l = _.options.responsive.length-1;\n\n                    // loop through the responsive object and splice out duplicates.\n                    while( l >= 0 ) {\n\n                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {\n\n                            _.options.responsive.splice(l,1);\n\n                        }\n\n                        l--;\n\n                    }\n\n                    _.options.responsive.push( value[item] );\n\n                }\n\n            }\n\n        }\n\n        if ( refresh ) {\n\n            _.unload();\n            _.reinit();\n\n        }\n\n    };\n\n    Slick.prototype.setPosition = function() {\n\n        var _ = this;\n\n        _.setDimensions();\n\n        _.setHeight();\n\n        if (_.options.fade === false) {\n            _.setCSS(_.getLeft(_.currentSlide));\n        } else {\n            _.setFade();\n        }\n\n        _.$slider.trigger('setPosition', [_]);\n\n    };\n\n    Slick.prototype.setProps = function() {\n\n        var _ = this,\n            bodyStyle = document.body.style;\n\n        _.positionProp = _.options.vertical === true ? 'top' : 'left';\n\n        if (_.positionProp === 'top') {\n            _.$slider.addClass('slick-vertical');\n        } else {\n            _.$slider.removeClass('slick-vertical');\n        }\n\n        if (bodyStyle.WebkitTransition !== undefined ||\n            bodyStyle.MozTransition !== undefined ||\n            bodyStyle.msTransition !== undefined) {\n            if (_.options.useCSS === true) {\n                _.cssTransitions = true;\n            }\n        }\n\n        if ( _.options.fade ) {\n            if ( typeof _.options.zIndex === 'number' ) {\n                if( _.options.zIndex < 3 ) {\n                    _.options.zIndex = 3;\n                }\n            } else {\n                _.options.zIndex = _.defaults.zIndex;\n            }\n        }\n\n        if (bodyStyle.OTransform !== undefined) {\n            _.animType = 'OTransform';\n            _.transformType = '-o-transform';\n            _.transitionType = 'OTransition';\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\n        }\n        if (bodyStyle.MozTransform !== undefined) {\n            _.animType = 'MozTransform';\n            _.transformType = '-moz-transform';\n            _.transitionType = 'MozTransition';\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;\n        }\n        if (bodyStyle.webkitTransform !== undefined) {\n            _.animType = 'webkitTransform';\n            _.transformType = '-webkit-transform';\n            _.transitionType = 'webkitTransition';\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\n        }\n        if (bodyStyle.msTransform !== undefined) {\n            _.animType = 'msTransform';\n            _.transformType = '-ms-transform';\n            _.transitionType = 'msTransition';\n            if (bodyStyle.msTransform === undefined) _.animType = false;\n        }\n        if (bodyStyle.transform !== undefined && _.animType !== false) {\n            _.animType = 'transform';\n            _.transformType = 'transform';\n            _.transitionType = 'transition';\n        }\n        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);\n    };\n\n\n    Slick.prototype.setSlideClasses = function(index) {\n\n        var _ = this,\n            centerOffset, allSlides, indexOffset, remainder;\n\n        allSlides = _.$slider\n            .find('.slick-slide')\n            .removeClass('slick-active slick-center slick-current')\n            .attr('aria-hidden', 'true');\n\n        _.$slides\n            .eq(index)\n            .addClass('slick-current');\n\n        if (_.options.centerMode === true) {\n\n            var evenCoef = _.options.slidesToShow % 2 === 0 ? 1 : 0;\n\n            centerOffset = Math.floor(_.options.slidesToShow / 2);\n\n            if (_.options.infinite === true) {\n\n                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {\n                    _.$slides\n                        .slice(index - centerOffset + evenCoef, index + centerOffset + 1)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                } else {\n\n                    indexOffset = _.options.slidesToShow + index;\n                    allSlides\n                        .slice(indexOffset - centerOffset + 1 + evenCoef, indexOffset + centerOffset + 2)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                }\n\n                if (index === 0) {\n\n                    allSlides\n                        .eq(allSlides.length - 1 - _.options.slidesToShow)\n                        .addClass('slick-center');\n\n                } else if (index === _.slideCount - 1) {\n\n                    allSlides\n                        .eq(_.options.slidesToShow)\n                        .addClass('slick-center');\n\n                }\n\n            }\n\n            _.$slides\n                .eq(index)\n                .addClass('slick-center');\n\n        } else {\n\n            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {\n\n                _.$slides\n                    .slice(index, index + _.options.slidesToShow)\n                    .addClass('slick-active')\n                    .attr('aria-hidden', 'false');\n\n            } else if (allSlides.length <= _.options.slidesToShow) {\n\n                allSlides\n                    .addClass('slick-active')\n                    .attr('aria-hidden', 'false');\n\n            } else {\n\n                remainder = _.slideCount % _.options.slidesToShow;\n                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;\n\n                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {\n\n                    allSlides\n                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                } else {\n\n                    allSlides\n                        .slice(indexOffset, indexOffset + _.options.slidesToShow)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                }\n\n            }\n\n        }\n\n        if (_.options.lazyLoad === 'ondemand' || _.options.lazyLoad === 'anticipated') {\n            _.lazyLoad();\n        }\n    };\n\n    Slick.prototype.setupInfinite = function() {\n\n        var _ = this,\n            i, slideIndex, infiniteCount;\n\n        if (_.options.fade === true) {\n            _.options.centerMode = false;\n        }\n\n        if (_.options.infinite === true && _.options.fade === false) {\n\n            slideIndex = null;\n\n            if (_.slideCount > _.options.slidesToShow) {\n\n                if (_.options.centerMode === true) {\n                    infiniteCount = _.options.slidesToShow + 1;\n                } else {\n                    infiniteCount = _.options.slidesToShow;\n                }\n\n                for (i = _.slideCount; i > (_.slideCount -\n                        infiniteCount); i -= 1) {\n                    slideIndex = i - 1;\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\n                        .attr('data-slick-index', slideIndex - _.slideCount)\n                        .prependTo(_.$slideTrack).addClass('slick-cloned');\n                }\n                for (i = 0; i < infiniteCount  + _.slideCount; i += 1) {\n                    slideIndex = i;\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\n                        .attr('data-slick-index', slideIndex + _.slideCount)\n                        .appendTo(_.$slideTrack).addClass('slick-cloned');\n                }\n                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {\n                    $(this).attr('id', '');\n                });\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.interrupt = function( toggle ) {\n\n        var _ = this;\n\n        if( !toggle ) {\n            _.autoPlay();\n        }\n        _.interrupted = toggle;\n\n    };\n\n    Slick.prototype.selectHandler = function(event) {\n\n        var _ = this;\n\n        var targetElement =\n            $(event.target).is('.slick-slide') ?\n                $(event.target) :\n                $(event.target).parents('.slick-slide');\n\n        var index = parseInt(targetElement.attr('data-slick-index'));\n\n        if (!index) index = 0;\n\n        if (_.slideCount <= _.options.slidesToShow) {\n\n            _.slideHandler(index, false, true);\n            return;\n\n        }\n\n        _.slideHandler(index);\n\n    };\n\n    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {\n\n        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,\n            _ = this, navTarget;\n\n        sync = sync || false;\n\n        if (_.animating === true && _.options.waitForAnimate === true) {\n            return;\n        }\n\n        if (_.options.fade === true && _.currentSlide === index) {\n            return;\n        }\n\n        if (sync === false) {\n            _.asNavFor(index);\n        }\n\n        targetSlide = index;\n        targetLeft = _.getLeft(targetSlide);\n        slideLeft = _.getLeft(_.currentSlide);\n\n        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;\n\n        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {\n            if (_.options.fade === false) {\n                targetSlide = _.currentSlide;\n                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\n                    _.animateSlide(slideLeft, function() {\n                        _.postSlide(targetSlide);\n                    });\n                } else {\n                    _.postSlide(targetSlide);\n                }\n            }\n            return;\n        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {\n            if (_.options.fade === false) {\n                targetSlide = _.currentSlide;\n                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\n                    _.animateSlide(slideLeft, function() {\n                        _.postSlide(targetSlide);\n                    });\n                } else {\n                    _.postSlide(targetSlide);\n                }\n            }\n            return;\n        }\n\n        if ( _.options.autoplay ) {\n            clearInterval(_.autoPlayTimer);\n        }\n\n        if (targetSlide < 0) {\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\n                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);\n            } else {\n                animSlide = _.slideCount + targetSlide;\n            }\n        } else if (targetSlide >= _.slideCount) {\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\n                animSlide = 0;\n            } else {\n                animSlide = targetSlide - _.slideCount;\n            }\n        } else {\n            animSlide = targetSlide;\n        }\n\n        _.animating = true;\n\n        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);\n\n        oldSlide = _.currentSlide;\n        _.currentSlide = animSlide;\n\n        _.setSlideClasses(_.currentSlide);\n\n        if ( _.options.asNavFor ) {\n\n            navTarget = _.getNavTarget();\n            navTarget = navTarget.slick('getSlick');\n\n            if ( navTarget.slideCount <= navTarget.options.slidesToShow ) {\n                navTarget.setSlideClasses(_.currentSlide);\n            }\n\n        }\n\n        _.updateDots();\n        _.updateArrows();\n\n        if (_.options.fade === true) {\n            if (dontAnimate !== true) {\n\n                _.fadeSlideOut(oldSlide);\n\n                _.fadeSlide(animSlide, function() {\n                    _.postSlide(animSlide);\n                });\n\n            } else {\n                _.postSlide(animSlide);\n            }\n            _.animateHeight();\n            return;\n        }\n\n        if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\n            _.animateSlide(targetLeft, function() {\n                _.postSlide(animSlide);\n            });\n        } else {\n            _.postSlide(animSlide);\n        }\n\n    };\n\n    Slick.prototype.startLoad = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$prevArrow.hide();\n            _.$nextArrow.hide();\n\n        }\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$dots.hide();\n\n        }\n\n        _.$slider.addClass('slick-loading');\n\n    };\n\n    Slick.prototype.swipeDirection = function() {\n\n        var xDist, yDist, r, swipeAngle, _ = this;\n\n        xDist = _.touchObject.startX - _.touchObject.curX;\n        yDist = _.touchObject.startY - _.touchObject.curY;\n        r = Math.atan2(yDist, xDist);\n\n        swipeAngle = Math.round(r * 180 / Math.PI);\n        if (swipeAngle < 0) {\n            swipeAngle = 360 - Math.abs(swipeAngle);\n        }\n\n        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {\n            return (_.options.rtl === false ? 'left' : 'right');\n        }\n        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {\n            return (_.options.rtl === false ? 'left' : 'right');\n        }\n        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {\n            return (_.options.rtl === false ? 'right' : 'left');\n        }\n        if (_.options.verticalSwiping === true) {\n            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {\n                return 'down';\n            } else {\n                return 'up';\n            }\n        }\n\n        return 'vertical';\n\n    };\n\n    Slick.prototype.swipeEnd = function(event) {\n\n        var _ = this,\n            slideCount,\n            direction;\n\n        _.dragging = false;\n        _.swiping = false;\n\n        if (_.scrolling) {\n            _.scrolling = false;\n            return false;\n        }\n\n        _.interrupted = false;\n        _.shouldClick = ( _.touchObject.swipeLength > 10 ) ? false : true;\n\n        if ( _.touchObject.curX === undefined ) {\n            return false;\n        }\n\n        if ( _.touchObject.edgeHit === true ) {\n            _.$slider.trigger('edge', [_, _.swipeDirection() ]);\n        }\n\n        if ( _.touchObject.swipeLength >= _.touchObject.minSwipe ) {\n\n            direction = _.swipeDirection();\n\n            switch ( direction ) {\n\n                case 'left':\n                case 'down':\n\n                    slideCount =\n                        _.options.swipeToSlide ?\n                            _.checkNavigable( _.currentSlide + _.getSlideCount() ) :\n                            _.currentSlide + _.getSlideCount();\n\n                    _.currentDirection = 0;\n\n                    break;\n\n                case 'right':\n                case 'up':\n\n                    slideCount =\n                        _.options.swipeToSlide ?\n                            _.checkNavigable( _.currentSlide - _.getSlideCount() ) :\n                            _.currentSlide - _.getSlideCount();\n\n                    _.currentDirection = 1;\n\n                    break;\n\n                default:\n\n\n            }\n\n            if( direction != 'vertical' ) {\n\n                _.slideHandler( slideCount );\n                _.touchObject = {};\n                _.$slider.trigger('swipe', [_, direction ]);\n\n            }\n\n        } else {\n\n            if ( _.touchObject.startX !== _.touchObject.curX ) {\n\n                _.slideHandler( _.currentSlide );\n                _.touchObject = {};\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.swipeHandler = function(event) {\n\n        var _ = this;\n\n        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {\n            return;\n        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {\n            return;\n        }\n\n        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?\n            event.originalEvent.touches.length : 1;\n\n        _.touchObject.minSwipe = _.listWidth / _.options\n            .touchThreshold;\n\n        if (_.options.verticalSwiping === true) {\n            _.touchObject.minSwipe = _.listHeight / _.options\n                .touchThreshold;\n        }\n\n        switch (event.data.action) {\n\n            case 'start':\n                _.swipeStart(event);\n                break;\n\n            case 'move':\n                _.swipeMove(event);\n                break;\n\n            case 'end':\n                _.swipeEnd(event);\n                break;\n\n        }\n\n    };\n\n    Slick.prototype.swipeMove = function(event) {\n\n        var _ = this,\n            edgeWasHit = false,\n            curLeft, swipeDirection, swipeLength, positionOffset, touches, verticalSwipeLength;\n\n        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;\n\n        if (!_.dragging || _.scrolling || touches && touches.length !== 1) {\n            return false;\n        }\n\n        curLeft = _.getLeft(_.currentSlide);\n\n        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;\n        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;\n\n        _.touchObject.swipeLength = Math.round(Math.sqrt(\n            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));\n\n        verticalSwipeLength = Math.round(Math.sqrt(\n            Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));\n\n        if (!_.options.verticalSwiping && !_.swiping && verticalSwipeLength > 4) {\n            _.scrolling = true;\n            return false;\n        }\n\n        if (_.options.verticalSwiping === true) {\n            _.touchObject.swipeLength = verticalSwipeLength;\n        }\n\n        swipeDirection = _.swipeDirection();\n\n        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {\n            _.swiping = true;\n            event.preventDefault();\n        }\n\n        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);\n        if (_.options.verticalSwiping === true) {\n            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;\n        }\n\n\n        swipeLength = _.touchObject.swipeLength;\n\n        _.touchObject.edgeHit = false;\n\n        if (_.options.infinite === false) {\n            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {\n                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;\n                _.touchObject.edgeHit = true;\n            }\n        }\n\n        if (_.options.vertical === false) {\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\n        } else {\n            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;\n        }\n        if (_.options.verticalSwiping === true) {\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\n        }\n\n        if (_.options.fade === true || _.options.touchMove === false) {\n            return false;\n        }\n\n        if (_.animating === true) {\n            _.swipeLeft = null;\n            return false;\n        }\n\n        _.setCSS(_.swipeLeft);\n\n    };\n\n    Slick.prototype.swipeStart = function(event) {\n\n        var _ = this,\n            touches;\n\n        _.interrupted = true;\n\n        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {\n            _.touchObject = {};\n            return false;\n        }\n\n        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {\n            touches = event.originalEvent.touches[0];\n        }\n\n        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;\n        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;\n\n        _.dragging = true;\n\n    };\n\n    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {\n\n        var _ = this;\n\n        if (_.$slidesCache !== null) {\n\n            _.unload();\n\n            _.$slideTrack.children(this.options.slide).detach();\n\n            _.$slidesCache.appendTo(_.$slideTrack);\n\n            _.reinit();\n\n        }\n\n    };\n\n    Slick.prototype.unload = function() {\n\n        var _ = this;\n\n        $('.slick-cloned', _.$slider).remove();\n\n        if (_.$dots) {\n            _.$dots.remove();\n        }\n\n        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {\n            _.$prevArrow.remove();\n        }\n\n        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {\n            _.$nextArrow.remove();\n        }\n\n        _.$slides\n            .removeClass('slick-slide slick-active slick-visible slick-current')\n            .attr('aria-hidden', 'true')\n            .css('width', '');\n\n    };\n\n    Slick.prototype.unslick = function(fromBreakpoint) {\n\n        var _ = this;\n        _.$slider.trigger('unslick', [_, fromBreakpoint]);\n        _.destroy();\n\n    };\n\n    Slick.prototype.updateArrows = function() {\n\n        var _ = this,\n            centerOffset;\n\n        centerOffset = Math.floor(_.options.slidesToShow / 2);\n\n        if ( _.options.arrows === true &&\n            _.slideCount > _.options.slidesToShow &&\n            !_.options.infinite ) {\n\n            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            if (_.currentSlide === 0) {\n\n                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\n                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {\n\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {\n\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.updateDots = function() {\n\n        var _ = this;\n\n        if (_.$dots !== null) {\n\n            _.$dots\n                .find('li')\n                    .removeClass('slick-active')\n                    .end();\n\n            _.$dots\n                .find('li')\n                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))\n                .addClass('slick-active');\n\n        }\n\n    };\n\n    Slick.prototype.visibility = function() {\n\n        var _ = this;\n\n        if ( _.options.autoplay ) {\n\n            if ( document[_.hidden] ) {\n\n                _.interrupted = true;\n\n            } else {\n\n                _.interrupted = false;\n\n            }\n\n        }\n\n    };\n\n    $.fn.slick = function() {\n        var _ = this,\n            opt = arguments[0],\n            args = Array.prototype.slice.call(arguments, 1),\n            l = _.length,\n            i,\n            ret;\n        for (i = 0; i < l; i++) {\n            if (typeof opt == 'object' || typeof opt == 'undefined')\n                _[i].slick = new Slick(_[i], opt);\n            else\n                ret = _[i].slick[opt].apply(_[i].slick, args);\n            if (typeof ret != 'undefined') return ret;\n        }\n        return _;\n    };\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2xpY2stY2Fyb3VzZWwvc2xpY2svc2xpY2suanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxRQUFRLElBQTBDO0FBQ2xELFFBQVEsaUNBQU8sQ0FBQywyQ0FBUSxDQUFDLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDbkMsTUFBTSxLQUFLLEVBSU47O0FBRUwsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLG1DQUFtQzs7QUFFbkM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7O0FBRUEsMEJBQTBCO0FBQzFCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBLFVBQVU7O0FBRVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakIsY0FBYzs7QUFFZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7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QTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLGFBQWE7O0FBRWIsVUFBVTs7QUFFVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYixVQUFVOztBQUVWOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYTs7QUFFYixTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7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QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIsOEJBQThCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsVUFBVTs7QUFFVjs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxrQ0FBa0MsNEJBQTRCOztBQUU5RDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhOztBQUViOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLGFBQWE7QUFDYjtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSw4QkFBOEI7QUFDOUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtB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RUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1Y7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxVQUFVOztBQUVWOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGNBQWM7O0FBRWQ7QUFDQTs7QUFFQSxjQUFjOztBQUVkO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsY0FBYzs7QUFFZDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dwLy4vbm9kZV9tb2R1bGVzL3NsaWNrLWNhcm91c2VsL3NsaWNrL3NsaWNrLmpzPzY1ZTgiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAgICAgXyBfICAgICAgXyAgICAgICBfXG4gX19ffCAoXykgX19ffCB8IF9fICAoXylfX19cbi8gX198IHwgfC8gX198IHwvIC8gIHwgLyBfX3xcblxcX18gXFwgfCB8IChfX3wgICA8IF8gfCBcXF9fIFxcXG58X19fL198X3xcXF9fX3xffFxcXyhfKS8gfF9fXy9cbiAgICAgICAgICAgICAgICAgICB8X18vXG5cbiBWZXJzaW9uOiAxLjguMVxuICBBdXRob3I6IEtlbiBXaGVlbGVyXG4gV2Vic2l0ZTogaHR0cDovL2tlbndoZWVsZXIuZ2l0aHViLmlvXG4gICAgRG9jczogaHR0cDovL2tlbndoZWVsZXIuZ2l0aHViLmlvL3NsaWNrXG4gICAgUmVwbzogaHR0cDovL2dpdGh1Yi5jb20va2Vud2hlZWxlci9zbGlja1xuICBJc3N1ZXM6IGh0dHA6Ly9naXRodWIuY29tL2tlbndoZWVsZXIvc2xpY2svaXNzdWVzXG5cbiAqL1xuLyogZ2xvYmFsIHdpbmRvdywgZG9jdW1lbnQsIGRlZmluZSwgalF1ZXJ5LCBzZXRJbnRlcnZhbCwgY2xlYXJJbnRlcnZhbCAqL1xuOyhmdW5jdGlvbihmYWN0b3J5KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgIH1cblxufShmdW5jdGlvbigkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBTbGljayA9IHdpbmRvdy5TbGljayB8fCB7fTtcblxuICAgIFNsaWNrID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBpbnN0YW5jZVVpZCA9IDA7XG5cbiAgICAgICAgZnVuY3Rpb24gU2xpY2soZWxlbWVudCwgc2V0dGluZ3MpIHtcblxuICAgICAgICAgICAgdmFyIF8gPSB0aGlzLCBkYXRhU2V0dGluZ3M7XG5cbiAgICAgICAgICAgIF8uZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXBwZW5kQXJyb3dzOiAkKGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIGFwcGVuZERvdHM6ICQoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIHByZXZBcnJvdzogJzxidXR0b24gY2xhc3M9XCJzbGljay1wcmV2XCIgYXJpYS1sYWJlbD1cIlByZXZpb3VzXCIgdHlwZT1cImJ1dHRvblwiPlByZXZpb3VzPC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICBuZXh0QXJyb3c6ICc8YnV0dG9uIGNsYXNzPVwic2xpY2stbmV4dFwiIGFyaWEtbGFiZWw9XCJOZXh0XCIgdHlwZT1cImJ1dHRvblwiPk5leHQ8L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhdXRvcGxheVNwZWVkOiAzMDAwLFxuICAgICAgICAgICAgICAgIGNlbnRlck1vZGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICc1MHB4JyxcbiAgICAgICAgICAgICAgICBjc3NFYXNlOiAnZWFzZScsXG4gICAgICAgICAgICAgICAgY3VzdG9tUGFnaW5nOiBmdW5jdGlvbihzbGlkZXIsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIC8+JykudGV4dChpICsgMSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkb3RzQ2xhc3M6ICdzbGljay1kb3RzJyxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICAgICAgICAgICAgICBlZGdlRnJpY3Rpb246IDAuMzUsXG4gICAgICAgICAgICAgICAgZmFkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZm9jdXNPblNlbGVjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZm9jdXNPbkNoYW5nZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgaW5pdGlhbFNsaWRlOiAwLFxuICAgICAgICAgICAgICAgIGxhenlMb2FkOiAnb25kZW1hbmQnLFxuICAgICAgICAgICAgICAgIG1vYmlsZUZpcnN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgcGF1c2VPbkZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBhdXNlT25Eb3RzSG92ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc3BvbmRUbzogJ3dpbmRvdycsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogbnVsbCxcbiAgICAgICAgICAgICAgICByb3dzOiAxLFxuICAgICAgICAgICAgICAgIHJ0bDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2xpZGU6ICcnLFxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclJvdzogMSxcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgICAgICAgICAgICBzd2lwZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzd2lwZVRvU2xpZGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRvdWNoTW92ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0b3VjaFRocmVzaG9sZDogNSxcbiAgICAgICAgICAgICAgICB1c2VDU1M6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlVHJhbnNmb3JtOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlV2lkdGg6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFN3aXBpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHdhaXRGb3JBbmltYXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHpJbmRleDogMTAwMFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgXy5pbml0aWFscyA9IHtcbiAgICAgICAgICAgICAgICBhbmltYXRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhdXRvUGxheVRpbWVyOiBudWxsLFxuICAgICAgICAgICAgICAgIGN1cnJlbnREaXJlY3Rpb246IDAsXG4gICAgICAgICAgICAgICAgY3VycmVudExlZnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgY3VycmVudFNsaWRlOiAwLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogMSxcbiAgICAgICAgICAgICAgICAkZG90czogbnVsbCxcbiAgICAgICAgICAgICAgICBsaXN0V2lkdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgbGlzdEhlaWdodDogbnVsbCxcbiAgICAgICAgICAgICAgICBsb2FkSW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgJG5leHRBcnJvdzogbnVsbCxcbiAgICAgICAgICAgICAgICAkcHJldkFycm93OiBudWxsLFxuICAgICAgICAgICAgICAgIHNjcm9sbGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2xpZGVDb3VudDogbnVsbCxcbiAgICAgICAgICAgICAgICBzbGlkZVdpZHRoOiBudWxsLFxuICAgICAgICAgICAgICAgICRzbGlkZVRyYWNrOiBudWxsLFxuICAgICAgICAgICAgICAgICRzbGlkZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgc2xpZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2xpZGVPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgc3dpcGVMZWZ0OiBudWxsLFxuICAgICAgICAgICAgICAgIHN3aXBpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICRsaXN0OiBudWxsLFxuICAgICAgICAgICAgICAgIHRvdWNoT2JqZWN0OiB7fSxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1zRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdW5zbGlja2VkOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJC5leHRlbmQoXywgXy5pbml0aWFscyk7XG5cbiAgICAgICAgICAgIF8uYWN0aXZlQnJlYWtwb2ludCA9IG51bGw7XG4gICAgICAgICAgICBfLmFuaW1UeXBlID0gbnVsbDtcbiAgICAgICAgICAgIF8uYW5pbVByb3AgPSBudWxsO1xuICAgICAgICAgICAgXy5icmVha3BvaW50cyA9IFtdO1xuICAgICAgICAgICAgXy5icmVha3BvaW50U2V0dGluZ3MgPSBbXTtcbiAgICAgICAgICAgIF8uY3NzVHJhbnNpdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uZm9jdXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uaW50ZXJydXB0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uaGlkZGVuID0gJ2hpZGRlbic7XG4gICAgICAgICAgICBfLnBhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICBfLnBvc2l0aW9uUHJvcCA9IG51bGw7XG4gICAgICAgICAgICBfLnJlc3BvbmRUbyA9IG51bGw7XG4gICAgICAgICAgICBfLnJvd0NvdW50ID0gMTtcbiAgICAgICAgICAgIF8uc2hvdWxkQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgXy4kc2xpZGVyID0gJChlbGVtZW50KTtcbiAgICAgICAgICAgIF8uJHNsaWRlc0NhY2hlID0gbnVsbDtcbiAgICAgICAgICAgIF8udHJhbnNmb3JtVHlwZSA9IG51bGw7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gbnVsbDtcbiAgICAgICAgICAgIF8udmlzaWJpbGl0eUNoYW5nZSA9ICd2aXNpYmlsaXR5Y2hhbmdlJztcbiAgICAgICAgICAgIF8ud2luZG93V2lkdGggPSAwO1xuICAgICAgICAgICAgXy53aW5kb3dUaW1lciA9IG51bGw7XG5cbiAgICAgICAgICAgIGRhdGFTZXR0aW5ncyA9ICQoZWxlbWVudCkuZGF0YSgnc2xpY2snKSB8fCB7fTtcblxuICAgICAgICAgICAgXy5vcHRpb25zID0gJC5leHRlbmQoe30sIF8uZGVmYXVsdHMsIHNldHRpbmdzLCBkYXRhU2V0dGluZ3MpO1xuXG4gICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSA9IF8ub3B0aW9ucy5pbml0aWFsU2xpZGU7XG5cbiAgICAgICAgICAgIF8ub3JpZ2luYWxTZXR0aW5ncyA9IF8ub3B0aW9ucztcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgXy5oaWRkZW4gPSAnbW96SGlkZGVuJztcbiAgICAgICAgICAgICAgICBfLnZpc2liaWxpdHlDaGFuZ2UgPSAnbW96dmlzaWJpbGl0eWNoYW5nZSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgXy5oaWRkZW4gPSAnd2Via2l0SGlkZGVuJztcbiAgICAgICAgICAgICAgICBfLnZpc2liaWxpdHlDaGFuZ2UgPSAnd2Via2l0dmlzaWJpbGl0eWNoYW5nZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uYXV0b1BsYXkgPSAkLnByb3h5KF8uYXV0b1BsYXksIF8pO1xuICAgICAgICAgICAgXy5hdXRvUGxheUNsZWFyID0gJC5wcm94eShfLmF1dG9QbGF5Q2xlYXIsIF8pO1xuICAgICAgICAgICAgXy5hdXRvUGxheUl0ZXJhdG9yID0gJC5wcm94eShfLmF1dG9QbGF5SXRlcmF0b3IsIF8pO1xuICAgICAgICAgICAgXy5jaGFuZ2VTbGlkZSA9ICQucHJveHkoXy5jaGFuZ2VTbGlkZSwgXyk7XG4gICAgICAgICAgICBfLmNsaWNrSGFuZGxlciA9ICQucHJveHkoXy5jbGlja0hhbmRsZXIsIF8pO1xuICAgICAgICAgICAgXy5zZWxlY3RIYW5kbGVyID0gJC5wcm94eShfLnNlbGVjdEhhbmRsZXIsIF8pO1xuICAgICAgICAgICAgXy5zZXRQb3NpdGlvbiA9ICQucHJveHkoXy5zZXRQb3NpdGlvbiwgXyk7XG4gICAgICAgICAgICBfLnN3aXBlSGFuZGxlciA9ICQucHJveHkoXy5zd2lwZUhhbmRsZXIsIF8pO1xuICAgICAgICAgICAgXy5kcmFnSGFuZGxlciA9ICQucHJveHkoXy5kcmFnSGFuZGxlciwgXyk7XG4gICAgICAgICAgICBfLmtleUhhbmRsZXIgPSAkLnByb3h5KF8ua2V5SGFuZGxlciwgXyk7XG5cbiAgICAgICAgICAgIF8uaW5zdGFuY2VVaWQgPSBpbnN0YW5jZVVpZCsrO1xuXG4gICAgICAgICAgICAvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuICAgICAgICAgICAgLy8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKG11c3Qgc3RhcnQgd2l0aCA8KVxuICAgICAgICAgICAgLy8gRXh0cmFjdGVkIGZyb20galF1ZXJ5IHYxLjExIHNvdXJjZVxuICAgICAgICAgICAgXy5odG1sRXhwciA9IC9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKikkLztcblxuXG4gICAgICAgICAgICBfLnJlZ2lzdGVyQnJlYWtwb2ludHMoKTtcbiAgICAgICAgICAgIF8uaW5pdCh0cnVlKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFNsaWNrO1xuXG4gICAgfSgpKTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hY3RpdmF0ZUFEQSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5maW5kKCcuc2xpY2stYWN0aXZlJykuYXR0cih7XG4gICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAnZmFsc2UnXG4gICAgICAgIH0pLmZpbmQoJ2EsIGlucHV0LCBidXR0b24sIHNlbGVjdCcpLmF0dHIoe1xuICAgICAgICAgICAgJ3RhYmluZGV4JzogJzAnXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hZGRTbGlkZSA9IFNsaWNrLnByb3RvdHlwZS5zbGlja0FkZCA9IGZ1bmN0aW9uKG1hcmt1cCwgaW5kZXgsIGFkZEJlZm9yZSkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAodHlwZW9mKGluZGV4KSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBhZGRCZWZvcmUgPSBpbmRleDtcbiAgICAgICAgICAgIGluZGV4ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA8IDAgfHwgKGluZGV4ID49IF8uc2xpZGVDb3VudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8udW5sb2FkKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZihpbmRleCkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgXy4kc2xpZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICQobWFya3VwKS5hcHBlbmRUbyhfLiRzbGlkZVRyYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWRkQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgJChtYXJrdXApLmluc2VydEJlZm9yZShfLiRzbGlkZXMuZXEoaW5kZXgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChtYXJrdXApLmluc2VydEFmdGVyKF8uJHNsaWRlcy5lcShpbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFkZEJlZm9yZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICQobWFya3VwKS5wcmVwZW5kVG8oXy4kc2xpZGVUcmFjayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQobWFya3VwKS5hcHBlbmRUbyhfLiRzbGlkZVRyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF8uJHNsaWRlcyA9IF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKTtcblxuICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5hcHBlbmQoXy4kc2xpZGVzKTtcblxuICAgICAgICBfLiRzbGlkZXMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgICAgJChlbGVtZW50KS5hdHRyKCdkYXRhLXNsaWNrLWluZGV4JywgaW5kZXgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBfLiRzbGlkZXNDYWNoZSA9IF8uJHNsaWRlcztcblxuICAgICAgICBfLnJlaW5pdCgpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hbmltYXRlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfID0gdGhpcztcbiAgICAgICAgaWYgKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPT09IDEgJiYgXy5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0ID09PSB0cnVlICYmIF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRIZWlnaHQgPSBfLiRzbGlkZXMuZXEoXy5jdXJyZW50U2xpZGUpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgICAgICAgXy4kbGlzdC5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRhcmdldEhlaWdodFxuICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYW5pbWF0ZVNsaWRlID0gZnVuY3Rpb24odGFyZ2V0TGVmdCwgY2FsbGJhY2spIHtcblxuICAgICAgICB2YXIgYW5pbVByb3BzID0ge30sXG4gICAgICAgICAgICBfID0gdGhpcztcblxuICAgICAgICBfLmFuaW1hdGVIZWlnaHQoKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0YXJnZXRMZWZ0ID0gLXRhcmdldExlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8udHJhbnNmb3Jtc0VuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRhcmdldExlZnRcbiAgICAgICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQsIF8ub3B0aW9ucy5lYXNpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB0YXJnZXRMZWZ0XG4gICAgICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkLCBfLm9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKF8uY3NzVHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5ydGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50TGVmdCA9IC0oXy5jdXJyZW50TGVmdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQoe1xuICAgICAgICAgICAgICAgICAgICBhbmltU3RhcnQ6IF8uY3VycmVudExlZnRcbiAgICAgICAgICAgICAgICB9KS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVN0YXJ0OiB0YXJnZXRMZWZ0XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogXy5vcHRpb25zLnNwZWVkLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IF8ub3B0aW9ucy5lYXNpbmcsXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKG5vdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gTWF0aC5jZWlsKG5vdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUoJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyArICdweCwgMHB4KSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MoYW5pbVByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbVByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZSgwcHgsJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyArICdweCknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKGFuaW1Qcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgXy5hcHBseVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ID0gTWF0aC5jZWlsKHRhcmdldExlZnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZTNkKCcgKyB0YXJnZXRMZWZ0ICsgJ3B4LCAwcHgsIDBweCknO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUzZCgwcHgsJyArIHRhcmdldExlZnQgKyAncHgsIDBweCknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyhhbmltUHJvcHMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF8uZGlzYWJsZVRyYW5zaXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0TmF2VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgYXNOYXZGb3IgPSBfLm9wdGlvbnMuYXNOYXZGb3I7XG5cbiAgICAgICAgaWYgKCBhc05hdkZvciAmJiBhc05hdkZvciAhPT0gbnVsbCApIHtcbiAgICAgICAgICAgIGFzTmF2Rm9yID0gJChhc05hdkZvcikubm90KF8uJHNsaWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXNOYXZGb3I7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmFzTmF2Rm9yID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBhc05hdkZvciA9IF8uZ2V0TmF2VGFyZ2V0KCk7XG5cbiAgICAgICAgaWYgKCBhc05hdkZvciAhPT0gbnVsbCAmJiB0eXBlb2YgYXNOYXZGb3IgPT09ICdvYmplY3QnICkge1xuICAgICAgICAgICAgYXNOYXZGb3IuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzKS5zbGljaygnZ2V0U2xpY2snKTtcbiAgICAgICAgICAgICAgICBpZighdGFyZ2V0LnVuc2xpY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2xpZGVIYW5kbGVyKGluZGV4LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hcHBseVRyYW5zaXRpb24gPSBmdW5jdGlvbihzbGlkZSkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHRyYW5zaXRpb24gPSB7fTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uW18udHJhbnNpdGlvblR5cGVdID0gXy50cmFuc2Zvcm1UeXBlICsgJyAnICsgXy5vcHRpb25zLnNwZWVkICsgJ21zICcgKyBfLm9wdGlvbnMuY3NzRWFzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25bXy50cmFuc2l0aW9uVHlwZV0gPSAnb3BhY2l0eSAnICsgXy5vcHRpb25zLnNwZWVkICsgJ21zICcgKyBfLm9wdGlvbnMuY3NzRWFzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKHRyYW5zaXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlKS5jc3ModHJhbnNpdGlvbik7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYXV0b1BsYXkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5hdXRvUGxheUNsZWFyKCk7XG5cbiAgICAgICAgaWYgKCBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICkge1xuICAgICAgICAgICAgXy5hdXRvUGxheVRpbWVyID0gc2V0SW50ZXJ2YWwoIF8uYXV0b1BsYXlJdGVyYXRvciwgXy5vcHRpb25zLmF1dG9wbGF5U3BlZWQgKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hdXRvUGxheUNsZWFyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLmF1dG9QbGF5VGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoXy5hdXRvUGxheVRpbWVyKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hdXRvUGxheUl0ZXJhdG9yID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgc2xpZGVUbyA9IF8uY3VycmVudFNsaWRlICsgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuXG4gICAgICAgIGlmICggIV8ucGF1c2VkICYmICFfLmludGVycnVwdGVkICYmICFfLmZvY3Vzc2VkICkge1xuXG4gICAgICAgICAgICBpZiAoIF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIF8uZGlyZWN0aW9uID09PSAxICYmICggXy5jdXJyZW50U2xpZGUgKyAxICkgPT09ICggXy5zbGlkZUNvdW50IC0gMSApKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZGlyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmICggXy5kaXJlY3Rpb24gPT09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2xpZGVUbyA9IF8uY3VycmVudFNsaWRlIC0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggXy5jdXJyZW50U2xpZGUgLSAxID09PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5kaXJlY3Rpb24gPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgXy5zbGlkZUhhbmRsZXIoIHNsaWRlVG8gKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmJ1aWxkQXJyb3dzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYXJyb3dzID09PSB0cnVlICkge1xuXG4gICAgICAgICAgICBfLiRwcmV2QXJyb3cgPSAkKF8ub3B0aW9ucy5wcmV2QXJyb3cpLmFkZENsYXNzKCdzbGljay1hcnJvdycpO1xuICAgICAgICAgICAgXy4kbmV4dEFycm93ID0gJChfLm9wdGlvbnMubmV4dEFycm93KS5hZGRDbGFzcygnc2xpY2stYXJyb3cnKTtcblxuICAgICAgICAgICAgaWYoIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKSB7XG5cbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWhpZGRlbicpLnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuIHRhYmluZGV4Jyk7XG4gICAgICAgICAgICAgICAgXy4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCdzbGljay1oaWRkZW4nKS5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbiB0YWJpbmRleCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKF8uaHRtbEV4cHIudGVzdChfLm9wdGlvbnMucHJldkFycm93KSkge1xuICAgICAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucHJlcGVuZFRvKF8ub3B0aW9ucy5hcHBlbmRBcnJvd3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfLmh0bWxFeHByLnRlc3QoXy5vcHRpb25zLm5leHRBcnJvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgXy4kbmV4dEFycm93LmFwcGVuZFRvKF8ub3B0aW9ucy5hcHBlbmRBcnJvd3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgXy4kcHJldkFycm93XG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cuYWRkKCBfLiRuZXh0QXJyb3cgKVxuXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2staGlkZGVuJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGlzYWJsZWQnOiAndHJ1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFiaW5kZXgnOiAnLTEnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5idWlsZERvdHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBpLCBkb3Q7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kb3RzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVyLmFkZENsYXNzKCdzbGljay1kb3R0ZWQnKTtcblxuICAgICAgICAgICAgZG90ID0gJCgnPHVsIC8+JykuYWRkQ2xhc3MoXy5vcHRpb25zLmRvdHNDbGFzcyk7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPD0gXy5nZXREb3RDb3VudCgpOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QuYXBwZW5kKCQoJzxsaSAvPicpLmFwcGVuZChfLm9wdGlvbnMuY3VzdG9tUGFnaW5nLmNhbGwodGhpcywgXywgaSkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgXy4kZG90cyA9IGRvdC5hcHBlbmRUbyhfLm9wdGlvbnMuYXBwZW5kRG90cyk7XG5cbiAgICAgICAgICAgIF8uJGRvdHMuZmluZCgnbGknKS5maXJzdCgpLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmJ1aWxkT3V0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uJHNsaWRlcyA9XG4gICAgICAgICAgICBfLiRzbGlkZXJcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oIF8ub3B0aW9ucy5zbGlkZSArICc6bm90KC5zbGljay1jbG9uZWQpJylcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLXNsaWRlJyk7XG5cbiAgICAgICAgXy5zbGlkZUNvdW50ID0gXy4kc2xpZGVzLmxlbmd0aDtcblxuICAgICAgICBfLiRzbGlkZXMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgICAgJChlbGVtZW50KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXNsaWNrLWluZGV4JywgaW5kZXgpXG4gICAgICAgICAgICAgICAgLmRhdGEoJ29yaWdpbmFsU3R5bGluZycsICQoZWxlbWVudCkuYXR0cignc3R5bGUnKSB8fCAnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uJHNsaWRlci5hZGRDbGFzcygnc2xpY2stc2xpZGVyJyk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjayA9IChfLnNsaWRlQ291bnQgPT09IDApID9cbiAgICAgICAgICAgICQoJzxkaXYgY2xhc3M9XCJzbGljay10cmFja1wiLz4nKS5hcHBlbmRUbyhfLiRzbGlkZXIpIDpcbiAgICAgICAgICAgIF8uJHNsaWRlcy53cmFwQWxsKCc8ZGl2IGNsYXNzPVwic2xpY2stdHJhY2tcIi8+JykucGFyZW50KCk7XG5cbiAgICAgICAgXy4kbGlzdCA9IF8uJHNsaWRlVHJhY2sud3JhcChcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2xpY2stbGlzdFwiLz4nKS5wYXJlbnQoKTtcbiAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MoJ29wYWNpdHknLCAwKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUgfHwgXy5vcHRpb25zLnN3aXBlVG9TbGlkZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJ2ltZ1tkYXRhLWxhenldJywgXy4kc2xpZGVyKS5ub3QoJ1tzcmNdJykuYWRkQ2xhc3MoJ3NsaWNrLWxvYWRpbmcnKTtcblxuICAgICAgICBfLnNldHVwSW5maW5pdGUoKTtcblxuICAgICAgICBfLmJ1aWxkQXJyb3dzKCk7XG5cbiAgICAgICAgXy5idWlsZERvdHMoKTtcblxuICAgICAgICBfLnVwZGF0ZURvdHMoKTtcblxuXG4gICAgICAgIF8uc2V0U2xpZGVDbGFzc2VzKHR5cGVvZiBfLmN1cnJlbnRTbGlkZSA9PT0gJ251bWJlcicgPyBfLmN1cnJlbnRTbGlkZSA6IDApO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZHJhZ2dhYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLiRsaXN0LmFkZENsYXNzKCdkcmFnZ2FibGUnKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5idWlsZFJvd3MgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsIGEsIGIsIGMsIG5ld1NsaWRlcywgbnVtT2ZTbGlkZXMsIG9yaWdpbmFsU2xpZGVzLHNsaWRlc1BlclNlY3Rpb247XG5cbiAgICAgICAgbmV3U2xpZGVzID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBvcmlnaW5hbFNsaWRlcyA9IF8uJHNsaWRlci5jaGlsZHJlbigpO1xuXG4gICAgICAgIGlmKF8ub3B0aW9ucy5yb3dzID4gMCkge1xuXG4gICAgICAgICAgICBzbGlkZXNQZXJTZWN0aW9uID0gXy5vcHRpb25zLnNsaWRlc1BlclJvdyAqIF8ub3B0aW9ucy5yb3dzO1xuICAgICAgICAgICAgbnVtT2ZTbGlkZXMgPSBNYXRoLmNlaWwoXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxTbGlkZXMubGVuZ3RoIC8gc2xpZGVzUGVyU2VjdGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZm9yKGEgPSAwOyBhIDwgbnVtT2ZTbGlkZXM7IGErKyl7XG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZm9yKGIgPSAwOyBiIDwgXy5vcHRpb25zLnJvd3M7IGIrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGZvcihjID0gMDsgYyA8IF8ub3B0aW9ucy5zbGlkZXNQZXJSb3c7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IChhICogc2xpZGVzUGVyU2VjdGlvbiArICgoYiAqIF8ub3B0aW9ucy5zbGlkZXNQZXJSb3cpICsgYykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsU2xpZGVzLmdldCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKG9yaWdpbmFsU2xpZGVzLmdldCh0YXJnZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzbGlkZS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTbGlkZXMuYXBwZW5kQ2hpbGQoc2xpZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLiRzbGlkZXIuZW1wdHkoKS5hcHBlbmQobmV3U2xpZGVzKTtcbiAgICAgICAgICAgIF8uJHNsaWRlci5jaGlsZHJlbigpLmNoaWxkcmVuKCkuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnd2lkdGgnOigxMDAgLyBfLm9wdGlvbnMuc2xpZGVzUGVyUm93KSArICclJyxcbiAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiAnaW5saW5lLWJsb2NrJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuY2hlY2tSZXNwb25zaXZlID0gZnVuY3Rpb24oaW5pdGlhbCwgZm9yY2VVcGRhdGUpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBicmVha3BvaW50LCB0YXJnZXRCcmVha3BvaW50LCByZXNwb25kVG9XaWR0aCwgdHJpZ2dlckJyZWFrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNsaWRlcldpZHRoID0gXy4kc2xpZGVyLndpZHRoKCk7XG4gICAgICAgIHZhciB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8ICQod2luZG93KS53aWR0aCgpO1xuXG4gICAgICAgIGlmIChfLnJlc3BvbmRUbyA9PT0gJ3dpbmRvdycpIHtcbiAgICAgICAgICAgIHJlc3BvbmRUb1dpZHRoID0gd2luZG93V2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5yZXNwb25kVG8gPT09ICdzbGlkZXInKSB7XG4gICAgICAgICAgICByZXNwb25kVG9XaWR0aCA9IHNsaWRlcldpZHRoO1xuICAgICAgICB9IGVsc2UgaWYgKF8ucmVzcG9uZFRvID09PSAnbWluJykge1xuICAgICAgICAgICAgcmVzcG9uZFRvV2lkdGggPSBNYXRoLm1pbih3aW5kb3dXaWR0aCwgc2xpZGVyV2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLm9wdGlvbnMucmVzcG9uc2l2ZSAmJlxuICAgICAgICAgICAgXy5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoICYmXG4gICAgICAgICAgICBfLm9wdGlvbnMucmVzcG9uc2l2ZSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICB0YXJnZXRCcmVha3BvaW50ID0gbnVsbDtcblxuICAgICAgICAgICAgZm9yIChicmVha3BvaW50IGluIF8uYnJlYWtwb2ludHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoXy5icmVha3BvaW50cy5oYXNPd25Qcm9wZXJ0eShicmVha3BvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXy5vcmlnaW5hbFNldHRpbmdzLm1vYmlsZUZpcnN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbmRUb1dpZHRoIDwgXy5icmVha3BvaW50c1ticmVha3BvaW50XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnQgPSBfLmJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbmRUb1dpZHRoID4gXy5icmVha3BvaW50c1ticmVha3BvaW50XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnQgPSBfLmJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFyZ2V0QnJlYWtwb2ludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChfLmFjdGl2ZUJyZWFrcG9pbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEJyZWFrcG9pbnQgIT09IF8uYWN0aXZlQnJlYWtwb2ludCB8fCBmb3JjZVVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5hY3RpdmVCcmVha3BvaW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uYnJlYWtwb2ludFNldHRpbmdzW3RhcmdldEJyZWFrcG9pbnRdID09PSAndW5zbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnVuc2xpY2sodGFyZ2V0QnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBfLm9yaWdpbmFsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uYnJlYWtwb2ludFNldHRpbmdzW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QnJlYWtwb2ludF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gXy5vcHRpb25zLmluaXRpYWxTbGlkZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5yZWZyZXNoKGluaXRpYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckJyZWFrcG9pbnQgPSB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgXy5hY3RpdmVCcmVha3BvaW50ID0gdGFyZ2V0QnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uYnJlYWtwb2ludFNldHRpbmdzW3RhcmdldEJyZWFrcG9pbnRdID09PSAndW5zbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8udW5zbGljayh0YXJnZXRCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBfLm9yaWdpbmFsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50U2V0dGluZ3NbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBfLm9wdGlvbnMuaW5pdGlhbFNsaWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXy5yZWZyZXNoKGluaXRpYWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJCcmVha3BvaW50ID0gdGFyZ2V0QnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChfLmFjdGl2ZUJyZWFrcG9pbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5hY3RpdmVCcmVha3BvaW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zID0gXy5vcmlnaW5hbFNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBfLm9wdGlvbnMuaW5pdGlhbFNsaWRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF8ucmVmcmVzaChpbml0aWFsKTtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckJyZWFrcG9pbnQgPSB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSB0cmlnZ2VyIGJyZWFrcG9pbnRzIGR1cmluZyBhbiBhY3R1YWwgYnJlYWsuIG5vdCBvbiBpbml0aWFsaXplLlxuICAgICAgICAgICAgaWYoICFpbml0aWFsICYmIHRyaWdnZXJCcmVha3BvaW50ICE9PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignYnJlYWtwb2ludCcsIFtfLCB0cmlnZ2VyQnJlYWtwb2ludF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNoYW5nZVNsaWRlID0gZnVuY3Rpb24oZXZlbnQsIGRvbnRBbmltYXRlKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgJHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCksXG4gICAgICAgICAgICBpbmRleE9mZnNldCwgc2xpZGVPZmZzZXQsIHVuZXZlbk9mZnNldDtcblxuICAgICAgICAvLyBJZiB0YXJnZXQgaXMgYSBsaW5rLCBwcmV2ZW50IGRlZmF1bHQgYWN0aW9uLlxuICAgICAgICBpZigkdGFyZ2V0LmlzKCdhJykpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0YXJnZXQgaXMgbm90IHRoZSA8bGk+IGVsZW1lbnQgKGllOiBhIGNoaWxkKSwgZmluZCB0aGUgPGxpPi5cbiAgICAgICAgaWYoISR0YXJnZXQuaXMoJ2xpJykpIHtcbiAgICAgICAgICAgICR0YXJnZXQgPSAkdGFyZ2V0LmNsb3Nlc3QoJ2xpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB1bmV2ZW5PZmZzZXQgPSAoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICE9PSAwKTtcbiAgICAgICAgaW5kZXhPZmZzZXQgPSB1bmV2ZW5PZmZzZXQgPyAwIDogKF8uc2xpZGVDb3VudCAtIF8uY3VycmVudFNsaWRlKSAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcblxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmRhdGEubWVzc2FnZSkge1xuXG4gICAgICAgICAgICBjYXNlICdwcmV2aW91cyc6XG4gICAgICAgICAgICAgICAgc2xpZGVPZmZzZXQgPSBpbmRleE9mZnNldCA9PT0gMCA/IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA6IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLSBpbmRleE9mZnNldDtcbiAgICAgICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgICAgICAgICBfLnNsaWRlSGFuZGxlcihfLmN1cnJlbnRTbGlkZSAtIHNsaWRlT2Zmc2V0LCBmYWxzZSwgZG9udEFuaW1hdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnbmV4dCc6XG4gICAgICAgICAgICAgICAgc2xpZGVPZmZzZXQgPSBpbmRleE9mZnNldCA9PT0gMCA/IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA6IGluZGV4T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKF8uY3VycmVudFNsaWRlICsgc2xpZGVPZmZzZXQsIGZhbHNlLCBkb250QW5pbWF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdpbmRleCc6XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuZGF0YS5pbmRleCA9PT0gMCA/IDAgOlxuICAgICAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4IHx8ICR0YXJnZXQuaW5kZXgoKSAqIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcblxuICAgICAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKF8uY2hlY2tOYXZpZ2FibGUoaW5kZXgpLCBmYWxzZSwgZG9udEFuaW1hdGUpO1xuICAgICAgICAgICAgICAgICR0YXJnZXQuY2hpbGRyZW4oKS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5jaGVja05hdmlnYWJsZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgbmF2aWdhYmxlcywgcHJldk5hdmlnYWJsZTtcblxuICAgICAgICBuYXZpZ2FibGVzID0gXy5nZXROYXZpZ2FibGVJbmRleGVzKCk7XG4gICAgICAgIHByZXZOYXZpZ2FibGUgPSAwO1xuICAgICAgICBpZiAoaW5kZXggPiBuYXZpZ2FibGVzW25hdmlnYWJsZXMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIGluZGV4ID0gbmF2aWdhYmxlc1tuYXZpZ2FibGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgbiBpbiBuYXZpZ2FibGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgbmF2aWdhYmxlc1tuXSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHByZXZOYXZpZ2FibGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2TmF2aWdhYmxlID0gbmF2aWdhYmxlc1tuXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNsZWFuVXBFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kb3RzICYmIF8uJGRvdHMgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgJCgnbGknLCBfLiRkb3RzKVxuICAgICAgICAgICAgICAgIC5vZmYoJ2NsaWNrLnNsaWNrJywgXy5jaGFuZ2VTbGlkZSlcbiAgICAgICAgICAgICAgICAub2ZmKCdtb3VzZWVudGVyLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgdHJ1ZSkpXG4gICAgICAgICAgICAgICAgLm9mZignbW91c2VsZWF2ZS5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIGZhbHNlKSk7XG5cbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF8uJGRvdHMub2ZmKCdrZXlkb3duLnNsaWNrJywgXy5rZXlIYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF8uJHNsaWRlci5vZmYoJ2ZvY3VzLnNsaWNrIGJsdXIuc2xpY2snKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFycm93cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICBfLiRwcmV2QXJyb3cgJiYgXy4kcHJldkFycm93Lm9mZignY2xpY2suc2xpY2snLCBfLmNoYW5nZVNsaWRlKTtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvdyAmJiBfLiRuZXh0QXJyb3cub2ZmKCdjbGljay5zbGljaycsIF8uY2hhbmdlU2xpZGUpO1xuXG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cgJiYgXy4kcHJldkFycm93Lm9mZigna2V5ZG93bi5zbGljaycsIF8ua2V5SGFuZGxlcik7XG4gICAgICAgICAgICAgICAgXy4kbmV4dEFycm93ICYmIF8uJG5leHRBcnJvdy5vZmYoJ2tleWRvd24uc2xpY2snLCBfLmtleUhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgXy4kbGlzdC5vZmYoJ3RvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrJywgXy5zd2lwZUhhbmRsZXIpO1xuICAgICAgICBfLiRsaXN0Lm9mZigndG91Y2htb3ZlLnNsaWNrIG1vdXNlbW92ZS5zbGljaycsIF8uc3dpcGVIYW5kbGVyKTtcbiAgICAgICAgXy4kbGlzdC5vZmYoJ3RvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2snLCBfLnN3aXBlSGFuZGxlcik7XG4gICAgICAgIF8uJGxpc3Qub2ZmKCd0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrJywgXy5zd2lwZUhhbmRsZXIpO1xuXG4gICAgICAgIF8uJGxpc3Qub2ZmKCdjbGljay5zbGljaycsIF8uY2xpY2tIYW5kbGVyKTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vZmYoXy52aXNpYmlsaXR5Q2hhbmdlLCBfLnZpc2liaWxpdHkpO1xuXG4gICAgICAgIF8uY2xlYW5VcFNsaWRlRXZlbnRzKCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLiRsaXN0Lm9mZigna2V5ZG93bi5zbGljaycsIF8ua2V5SGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZvY3VzT25TZWxlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICQoXy4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vZmYoJ2NsaWNrLnNsaWNrJywgXy5zZWxlY3RIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQod2luZG93KS5vZmYoJ29yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLScgKyBfLmluc3RhbmNlVWlkLCBfLm9yaWVudGF0aW9uQ2hhbmdlKTtcblxuICAgICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsIF8ucmVzaXplKTtcblxuICAgICAgICAkKCdbZHJhZ2dhYmxlIT10cnVlXScsIF8uJHNsaWRlVHJhY2spLm9mZignZHJhZ3N0YXJ0JywgXy5wcmV2ZW50RGVmYXVsdCk7XG5cbiAgICAgICAgJCh3aW5kb3cpLm9mZignbG9hZC5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgXy5zZXRQb3NpdGlvbik7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNsZWFuVXBTbGlkZUV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLiRsaXN0Lm9mZignbW91c2VlbnRlci5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIHRydWUpKTtcbiAgICAgICAgXy4kbGlzdC5vZmYoJ21vdXNlbGVhdmUuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCBmYWxzZSkpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5jbGVhblVwUm93cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcywgb3JpZ2luYWxTbGlkZXM7XG5cbiAgICAgICAgaWYoXy5vcHRpb25zLnJvd3MgPiAwKSB7XG4gICAgICAgICAgICBvcmlnaW5hbFNsaWRlcyA9IF8uJHNsaWRlcy5jaGlsZHJlbigpLmNoaWxkcmVuKCk7XG4gICAgICAgICAgICBvcmlnaW5hbFNsaWRlcy5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgXy4kc2xpZGVyLmVtcHR5KCkuYXBwZW5kKG9yaWdpbmFsU2xpZGVzKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5zaG91bGRDbGljayA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbihyZWZyZXNoKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uYXV0b1BsYXlDbGVhcigpO1xuXG4gICAgICAgIF8udG91Y2hPYmplY3QgPSB7fTtcblxuICAgICAgICBfLmNsZWFuVXBFdmVudHMoKTtcblxuICAgICAgICAkKCcuc2xpY2stY2xvbmVkJywgXy4kc2xpZGVyKS5kZXRhY2goKTtcblxuICAgICAgICBpZiAoXy4kZG90cykge1xuICAgICAgICAgICAgXy4kZG90cy5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy4kcHJldkFycm93ICYmIF8uJHByZXZBcnJvdy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgIF8uJHByZXZBcnJvd1xuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuJylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJpbmRleCcpXG4gICAgICAgICAgICAgICAgLmNzcygnZGlzcGxheScsJycpO1xuXG4gICAgICAgICAgICBpZiAoIF8uaHRtbEV4cHIudGVzdCggXy5vcHRpb25zLnByZXZBcnJvdyApKSB7XG4gICAgICAgICAgICAgICAgXy4kcHJldkFycm93LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLiRuZXh0QXJyb3cgJiYgXy4kbmV4dEFycm93Lmxlbmd0aCApIHtcblxuICAgICAgICAgICAgXy4kbmV4dEFycm93XG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW4nKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4JylcbiAgICAgICAgICAgICAgICAuY3NzKCdkaXNwbGF5JywnJyk7XG5cbiAgICAgICAgICAgIGlmICggXy5odG1sRXhwci50ZXN0KCBfLm9wdGlvbnMubmV4dEFycm93ICkpIHtcbiAgICAgICAgICAgICAgICBfLiRuZXh0QXJyb3cucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmIChfLiRzbGlkZXMpIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVzXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1zbGlkZSBzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudCcpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuJylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignZGF0YS1zbGljay1pbmRleCcpXG4gICAgICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdzdHlsZScsICQodGhpcykuZGF0YSgnb3JpZ2luYWxTdHlsaW5nJykpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suZGV0YWNoKCk7XG5cbiAgICAgICAgICAgIF8uJGxpc3QuZGV0YWNoKCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlci5hcHBlbmQoXy4kc2xpZGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8uY2xlYW5VcFJvd3MoKTtcblxuICAgICAgICBfLiRzbGlkZXIucmVtb3ZlQ2xhc3MoJ3NsaWNrLXNsaWRlcicpO1xuICAgICAgICBfLiRzbGlkZXIucmVtb3ZlQ2xhc3MoJ3NsaWNrLWluaXRpYWxpemVkJyk7XG4gICAgICAgIF8uJHNsaWRlci5yZW1vdmVDbGFzcygnc2xpY2stZG90dGVkJyk7XG5cbiAgICAgICAgXy51bnNsaWNrZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmKCFyZWZyZXNoKSB7XG4gICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignZGVzdHJveScsIFtfXSk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZGlzYWJsZVRyYW5zaXRpb24gPSBmdW5jdGlvbihzbGlkZSkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHRyYW5zaXRpb24gPSB7fTtcblxuICAgICAgICB0cmFuc2l0aW9uW18udHJhbnNpdGlvblR5cGVdID0gJyc7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3ModHJhbnNpdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoc2xpZGUpLmNzcyh0cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5mYWRlU2xpZGUgPSBmdW5jdGlvbihzbGlkZUluZGV4LCBjYWxsYmFjaykge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5jc3NUcmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlSW5kZXgpLmNzcyh7XG4gICAgICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlSW5kZXgpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0sIF8ub3B0aW9ucy5zcGVlZCwgXy5vcHRpb25zLmVhc2luZywgY2FsbGJhY2spO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIF8uYXBwbHlUcmFuc2l0aW9uKHNsaWRlSW5kZXgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoc2xpZGVJbmRleCkuY3NzKHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5kaXNhYmxlVHJhbnNpdGlvbihzbGlkZUluZGV4KTtcblxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKCk7XG4gICAgICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmZhZGVTbGlkZU91dCA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8uY3NzVHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShzbGlkZUluZGV4KS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleCAtIDJcbiAgICAgICAgICAgIH0sIF8ub3B0aW9ucy5zcGVlZCwgXy5vcHRpb25zLmVhc2luZyk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgXy5hcHBseVRyYW5zaXRpb24oc2xpZGVJbmRleCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShzbGlkZUluZGV4KS5jc3Moe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4IC0gMlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5maWx0ZXJTbGlkZXMgPSBTbGljay5wcm90b3R5cGUuc2xpY2tGaWx0ZXIgPSBmdW5jdGlvbihmaWx0ZXIpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICBfLiRzbGlkZXNDYWNoZSA9IF8uJHNsaWRlcztcblxuICAgICAgICAgICAgXy51bmxvYWQoKTtcblxuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZXNDYWNoZS5maWx0ZXIoZmlsdGVyKS5hcHBlbmRUbyhfLiRzbGlkZVRyYWNrKTtcblxuICAgICAgICAgICAgXy5yZWluaXQoKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmZvY3VzSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLiRzbGlkZXJcbiAgICAgICAgICAgIC5vZmYoJ2ZvY3VzLnNsaWNrIGJsdXIuc2xpY2snKVxuICAgICAgICAgICAgLm9uKCdmb2N1cy5zbGljayBibHVyLnNsaWNrJywgJyonLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciAkc2YgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF8ub3B0aW9ucy5wYXVzZU9uRm9jdXMgKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9jdXNzZWQgPSAkc2YuaXMoJzpmb2N1cycpO1xuICAgICAgICAgICAgICAgICAgICBfLmF1dG9QbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdldEN1cnJlbnQgPSBTbGljay5wcm90b3R5cGUuc2xpY2tDdXJyZW50U2xpZGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBfLmN1cnJlbnRTbGlkZTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0RG90Q291bnQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGJyZWFrUG9pbnQgPSAwO1xuICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgIHZhciBwYWdlclF0eSA9IDA7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgICsrcGFnZXJRdHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlIChicmVha1BvaW50IDwgXy5zbGlkZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICsrcGFnZXJRdHk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrUG9pbnQgPSBjb3VudGVyICsgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyICs9IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogXy5vcHRpb25zLnNsaWRlc1RvU2hvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHBhZ2VyUXR5ID0gXy5zbGlkZUNvdW50O1xuICAgICAgICB9IGVsc2UgaWYoIV8ub3B0aW9ucy5hc05hdkZvcikge1xuICAgICAgICAgICAgcGFnZXJRdHkgPSAxICsgTWF0aC5jZWlsKChfLnNsaWRlQ291bnQgLSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSAvIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCk7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIHdoaWxlIChicmVha1BvaW50IDwgXy5zbGlkZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgKytwYWdlclF0eTtcbiAgICAgICAgICAgICAgICBicmVha1BvaW50ID0gY291bnRlciArIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcbiAgICAgICAgICAgICAgICBjb3VudGVyICs9IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogXy5vcHRpb25zLnNsaWRlc1RvU2hvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWdlclF0eSAtIDE7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdldExlZnQgPSBmdW5jdGlvbihzbGlkZUluZGV4KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgdGFyZ2V0TGVmdCxcbiAgICAgICAgICAgIHZlcnRpY2FsSGVpZ2h0LFxuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQgPSAwLFxuICAgICAgICAgICAgdGFyZ2V0U2xpZGUsXG4gICAgICAgICAgICBjb2VmO1xuXG4gICAgICAgIF8uc2xpZGVPZmZzZXQgPSAwO1xuICAgICAgICB2ZXJ0aWNhbEhlaWdodCA9IF8uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KHRydWUpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9IChfLnNsaWRlV2lkdGggKiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSAqIC0xO1xuICAgICAgICAgICAgICAgIGNvZWYgPSAtMVxuXG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29lZiA9IC0xLjU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29lZiA9IC0yXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmVydGljYWxPZmZzZXQgPSAodmVydGljYWxIZWlnaHQgKiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSAqIGNvZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlSW5kZXggKyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgPiBfLnNsaWRlQ291bnQgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGVJbmRleCA+IF8uc2xpZGVDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9ICgoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIChzbGlkZUluZGV4IC0gXy5zbGlkZUNvdW50KSkgKiBfLnNsaWRlV2lkdGgpICogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9ICgoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIChzbGlkZUluZGV4IC0gXy5zbGlkZUNvdW50KSkgKiB2ZXJ0aWNhbEhlaWdodCkgKiAtMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8uc2xpZGVPZmZzZXQgPSAoKF8uc2xpZGVDb3VudCAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkgKiBfLnNsaWRlV2lkdGgpICogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9ICgoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSAqIHZlcnRpY2FsSGVpZ2h0KSAqIC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNsaWRlSW5kZXggKyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID4gXy5zbGlkZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9ICgoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIC0gXy5zbGlkZUNvdW50KSAqIF8uc2xpZGVXaWR0aDtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9ICgoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIC0gXy5zbGlkZUNvdW50KSAqIHZlcnRpY2FsSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9ICgoXy5zbGlkZVdpZHRoICogTWF0aC5mbG9vcihfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSkgLyAyKSAtICgoXy5zbGlkZVdpZHRoICogXy5zbGlkZUNvdW50KSAvIDIpO1xuICAgICAgICB9IGVsc2UgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlICYmIF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5zbGlkZU9mZnNldCArPSBfLnNsaWRlV2lkdGggKiBNYXRoLmZsb29yKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKSAtIF8uc2xpZGVXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9IDA7XG4gICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ICs9IF8uc2xpZGVXaWR0aCAqIE1hdGguZmxvb3IoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRhcmdldExlZnQgPSAoKHNsaWRlSW5kZXggKiBfLnNsaWRlV2lkdGgpICogLTEpICsgXy5zbGlkZU9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldExlZnQgPSAoKHNsaWRlSW5kZXggKiB2ZXJ0aWNhbEhlaWdodCkgKiAtMSkgKyB2ZXJ0aWNhbE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmFyaWFibGVXaWR0aCA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgfHwgXy5vcHRpb25zLmluZmluaXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFNsaWRlID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykuZXEoc2xpZGVJbmRleCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldFNsaWRlID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykuZXEoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRTbGlkZVswXSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ID0gKF8uJHNsaWRlVHJhY2sud2lkdGgoKSAtIHRhcmdldFNsaWRlWzBdLm9mZnNldExlZnQgLSB0YXJnZXRTbGlkZS53aWR0aCgpKSAqIC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSAgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSB0YXJnZXRTbGlkZVswXSA/IHRhcmdldFNsaWRlWzBdLm9mZnNldExlZnQgKiAtMSA6IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyB8fCBfLm9wdGlvbnMuaW5maW5pdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFNsaWRlID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykuZXEoc2xpZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0U2xpZGUgPSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCcuc2xpY2stc2xpZGUnKS5lcShzbGlkZUluZGV4ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMucnRsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRTbGlkZVswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IChfLiRzbGlkZVRyYWNrLndpZHRoKCkgLSB0YXJnZXRTbGlkZVswXS5vZmZzZXRMZWZ0IC0gdGFyZ2V0U2xpZGUud2lkdGgoKSkgKiAtMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSAgMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSB0YXJnZXRTbGlkZVswXSA/IHRhcmdldFNsaWRlWzBdLm9mZnNldExlZnQgKiAtMSA6IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCArPSAoXy4kbGlzdC53aWR0aCgpIC0gdGFyZ2V0U2xpZGUub3V0ZXJXaWR0aCgpKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0TGVmdDtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0T3B0aW9uID0gU2xpY2sucHJvdG90eXBlLnNsaWNrR2V0T3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBfLm9wdGlvbnNbb3B0aW9uXTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0TmF2aWdhYmxlSW5kZXhlcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGJyZWFrUG9pbnQgPSAwLFxuICAgICAgICAgICAgY291bnRlciA9IDAsXG4gICAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgICBtYXg7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG1heCA9IF8uc2xpZGVDb3VudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrUG9pbnQgPSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgKiAtMTtcbiAgICAgICAgICAgIGNvdW50ZXIgPSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgKiAtMTtcbiAgICAgICAgICAgIG1heCA9IF8uc2xpZGVDb3VudCAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoYnJlYWtQb2ludCA8IG1heCkge1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGJyZWFrUG9pbnQpO1xuICAgICAgICAgICAgYnJlYWtQb2ludCA9IGNvdW50ZXIgKyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgICAgICBjb3VudGVyICs9IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogXy5vcHRpb25zLnNsaWRlc1RvU2hvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleGVzO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXRTbGljayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXRTbGlkZUNvdW50ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgc2xpZGVzVHJhdmVyc2VkLCBzd2lwZWRTbGlkZSwgY2VudGVyT2Zmc2V0O1xuXG4gICAgICAgIGNlbnRlck9mZnNldCA9IF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlID8gXy5zbGlkZVdpZHRoICogTWF0aC5mbG9vcihfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMikgOiAwO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuc3dpcGVUb1NsaWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmZpbmQoJy5zbGljay1zbGlkZScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIHNsaWRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlLm9mZnNldExlZnQgLSBjZW50ZXJPZmZzZXQgKyAoJChzbGlkZSkub3V0ZXJXaWR0aCgpIC8gMikgPiAoXy5zd2lwZUxlZnQgKiAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkU2xpZGUgPSBzbGlkZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzbGlkZXNUcmF2ZXJzZWQgPSBNYXRoLmFicygkKHN3aXBlZFNsaWRlKS5hdHRyKCdkYXRhLXNsaWNrLWluZGV4JykgLSBfLmN1cnJlbnRTbGlkZSkgfHwgMTtcblxuICAgICAgICAgICAgcmV0dXJuIHNsaWRlc1RyYXZlcnNlZDtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nb1RvID0gU2xpY2sucHJvdG90eXBlLnNsaWNrR29UbyA9IGZ1bmN0aW9uKHNsaWRlLCBkb250QW5pbWF0ZSkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLmNoYW5nZVNsaWRlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgIGluZGV4OiBwYXJzZUludChzbGlkZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZG9udEFuaW1hdGUpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oY3JlYXRpb24pIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCEkKF8uJHNsaWRlcikuaGFzQ2xhc3MoJ3NsaWNrLWluaXRpYWxpemVkJykpIHtcblxuICAgICAgICAgICAgJChfLiRzbGlkZXIpLmFkZENsYXNzKCdzbGljay1pbml0aWFsaXplZCcpO1xuXG4gICAgICAgICAgICBfLmJ1aWxkUm93cygpO1xuICAgICAgICAgICAgXy5idWlsZE91dCgpO1xuICAgICAgICAgICAgXy5zZXRQcm9wcygpO1xuICAgICAgICAgICAgXy5zdGFydExvYWQoKTtcbiAgICAgICAgICAgIF8ubG9hZFNsaWRlcigpO1xuICAgICAgICAgICAgXy5pbml0aWFsaXplRXZlbnRzKCk7XG4gICAgICAgICAgICBfLnVwZGF0ZUFycm93cygpO1xuICAgICAgICAgICAgXy51cGRhdGVEb3RzKCk7XG4gICAgICAgICAgICBfLmNoZWNrUmVzcG9uc2l2ZSh0cnVlKTtcbiAgICAgICAgICAgIF8uZm9jdXNIYW5kbGVyKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjcmVhdGlvbikge1xuICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2luaXQnLCBbX10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLmluaXRBREEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmF1dG9wbGF5ICkge1xuXG4gICAgICAgICAgICBfLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgXy5hdXRvUGxheSgpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW5pdEFEQSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgbnVtRG90R3JvdXBzID0gTWF0aC5jZWlsKF8uc2xpZGVDb3VudCAvIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpLFxuICAgICAgICAgICAgICAgIHRhYkNvbnRyb2xJbmRleGVzID0gXy5nZXROYXZpZ2FibGVJbmRleGVzKCkuZmlsdGVyKGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHZhbCA+PSAwKSAmJiAodmFsIDwgXy5zbGlkZUNvdW50KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICBfLiRzbGlkZXMuYWRkKF8uJHNsaWRlVHJhY2suZmluZCgnLnNsaWNrLWNsb25lZCcpKS5hdHRyKHtcbiAgICAgICAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJyxcbiAgICAgICAgICAgICd0YWJpbmRleCc6ICctMSdcbiAgICAgICAgfSkuZmluZCgnYSwgaW5wdXQsIGJ1dHRvbiwgc2VsZWN0JykuYXR0cih7XG4gICAgICAgICAgICAndGFiaW5kZXgnOiAnLTEnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfLiRkb3RzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBfLiRzbGlkZXMubm90KF8uJHNsaWRlVHJhY2suZmluZCgnLnNsaWNrLWNsb25lZCcpKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVDb250cm9sSW5kZXggPSB0YWJDb250cm9sSW5kZXhlcy5pbmRleE9mKGkpO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgJ3JvbGUnOiAndGFicGFuZWwnLFxuICAgICAgICAgICAgICAgICAgICAnaWQnOiAnc2xpY2stc2xpZGUnICsgXy5pbnN0YW5jZVVpZCArIGksXG4gICAgICAgICAgICAgICAgICAgICd0YWJpbmRleCc6IC0xXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVDb250cm9sSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgdmFyIGFyaWFCdXR0b25Db250cm9sID0gJ3NsaWNrLXNsaWRlLWNvbnRyb2wnICsgXy5pbnN0YW5jZVVpZCArIHNsaWRlQ29udHJvbEluZGV4XG4gICAgICAgICAgICAgICAgICAgaWYgKCQoJyMnICsgYXJpYUJ1dHRvbkNvbnRyb2wpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6IGFyaWFCdXR0b25Db250cm9sXG4gICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIF8uJGRvdHMuYXR0cigncm9sZScsICd0YWJsaXN0JykuZmluZCgnbGknKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwcGVkU2xpZGVJbmRleCA9IHRhYkNvbnRyb2xJbmRleGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgJ3JvbGUnOiAncHJlc2VudGF0aW9uJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCdidXR0b24nKS5maXJzdCgpLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAncm9sZSc6ICd0YWInLFxuICAgICAgICAgICAgICAgICAgICAnaWQnOiAnc2xpY2stc2xpZGUtY29udHJvbCcgKyBfLmluc3RhbmNlVWlkICsgaSxcbiAgICAgICAgICAgICAgICAgICAgJ2FyaWEtY29udHJvbHMnOiAnc2xpY2stc2xpZGUnICsgXy5pbnN0YW5jZVVpZCArIG1hcHBlZFNsaWRlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogKGkgKyAxKSArICcgb2YgJyArIG51bURvdEdyb3VwcyxcbiAgICAgICAgICAgICAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAndGFiaW5kZXgnOiAnLTEnXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pLmVxKF8uY3VycmVudFNsaWRlKS5maW5kKCdidXR0b24nKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAnYXJpYS1zZWxlY3RlZCc6ICd0cnVlJyxcbiAgICAgICAgICAgICAgICAndGFiaW5kZXgnOiAnMCdcbiAgICAgICAgICAgIH0pLmVuZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaT1fLmN1cnJlbnRTbGlkZSwgbWF4PWkrXy5vcHRpb25zLnNsaWRlc1RvU2hvdzsgaSA8IG1heDsgaSsrKSB7XG4gICAgICAgICAgaWYgKF8ub3B0aW9ucy5mb2N1c09uQ2hhbmdlKSB7XG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoaSkuYXR0cih7J3RhYmluZGV4JzogJzAnfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShpKS5yZW1vdmVBdHRyKCd0YWJpbmRleCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF8uYWN0aXZhdGVBREEoKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW5pdEFycm93RXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYXJyb3dzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8uJHByZXZBcnJvd1xuICAgICAgICAgICAgICAgLm9mZignY2xpY2suc2xpY2snKVxuICAgICAgICAgICAgICAgLm9uKCdjbGljay5zbGljaycsIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ3ByZXZpb3VzJ1xuICAgICAgICAgICAgICAgfSwgXy5jaGFuZ2VTbGlkZSk7XG4gICAgICAgICAgICBfLiRuZXh0QXJyb3dcbiAgICAgICAgICAgICAgIC5vZmYoJ2NsaWNrLnNsaWNrJylcbiAgICAgICAgICAgICAgIC5vbignY2xpY2suc2xpY2snLCB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICduZXh0J1xuICAgICAgICAgICAgICAgfSwgXy5jaGFuZ2VTbGlkZSk7XG5cbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF8uJHByZXZBcnJvdy5vbigna2V5ZG93bi5zbGljaycsIF8ua2V5SGFuZGxlcik7XG4gICAgICAgICAgICAgICAgXy4kbmV4dEFycm93Lm9uKCdrZXlkb3duLnNsaWNrJywgXy5rZXlIYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0RG90RXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZG90cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAkKCdsaScsIF8uJGRvdHMpLm9uKCdjbGljay5zbGljaycsIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaW5kZXgnXG4gICAgICAgICAgICB9LCBfLmNoYW5nZVNsaWRlKTtcblxuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy4kZG90cy5vbigna2V5ZG93bi5zbGljaycsIF8ua2V5SGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmRvdHMgPT09IHRydWUgJiYgXy5vcHRpb25zLnBhdXNlT25Eb3RzSG92ZXIgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICAkKCdsaScsIF8uJGRvdHMpXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgdHJ1ZSkpXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZWxlYXZlLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgZmFsc2UpKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmluaXRTbGlkZUV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5wYXVzZU9uSG92ZXIgKSB7XG5cbiAgICAgICAgICAgIF8uJGxpc3Qub24oJ21vdXNlZW50ZXIuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCB0cnVlKSk7XG4gICAgICAgICAgICBfLiRsaXN0Lm9uKCdtb3VzZWxlYXZlLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgZmFsc2UpKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmluaXRpYWxpemVFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5pbml0QXJyb3dFdmVudHMoKTtcblxuICAgICAgICBfLmluaXREb3RFdmVudHMoKTtcbiAgICAgICAgXy5pbml0U2xpZGVFdmVudHMoKTtcblxuICAgICAgICBfLiRsaXN0Lm9uKCd0b3VjaHN0YXJ0LnNsaWNrIG1vdXNlZG93bi5zbGljaycsIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ3N0YXJ0J1xuICAgICAgICB9LCBfLnN3aXBlSGFuZGxlcik7XG4gICAgICAgIF8uJGxpc3Qub24oJ3RvdWNobW92ZS5zbGljayBtb3VzZW1vdmUuc2xpY2snLCB7XG4gICAgICAgICAgICBhY3Rpb246ICdtb3ZlJ1xuICAgICAgICB9LCBfLnN3aXBlSGFuZGxlcik7XG4gICAgICAgIF8uJGxpc3Qub24oJ3RvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2snLCB7XG4gICAgICAgICAgICBhY3Rpb246ICdlbmQnXG4gICAgICAgIH0sIF8uc3dpcGVIYW5kbGVyKTtcbiAgICAgICAgXy4kbGlzdC5vbigndG91Y2hjYW5jZWwuc2xpY2sgbW91c2VsZWF2ZS5zbGljaycsIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2VuZCdcbiAgICAgICAgfSwgXy5zd2lwZUhhbmRsZXIpO1xuXG4gICAgICAgIF8uJGxpc3Qub24oJ2NsaWNrLnNsaWNrJywgXy5jbGlja0hhbmRsZXIpO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKF8udmlzaWJpbGl0eUNoYW5nZSwgJC5wcm94eShfLnZpc2liaWxpdHksIF8pKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJGxpc3Qub24oJ2tleWRvd24uc2xpY2snLCBfLmtleUhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mb2N1c09uU2VsZWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAkKF8uJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub24oJ2NsaWNrLnNsaWNrJywgXy5zZWxlY3RIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQod2luZG93KS5vbignb3JpZW50YXRpb25jaGFuZ2Uuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsICQucHJveHkoXy5vcmllbnRhdGlvbkNoYW5nZSwgXykpO1xuXG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplLnNsaWNrLnNsaWNrLScgKyBfLmluc3RhbmNlVWlkLCAkLnByb3h5KF8ucmVzaXplLCBfKSk7XG5cbiAgICAgICAgJCgnW2RyYWdnYWJsZSE9dHJ1ZV0nLCBfLiRzbGlkZVRyYWNrKS5vbignZHJhZ3N0YXJ0JywgXy5wcmV2ZW50RGVmYXVsdCk7XG5cbiAgICAgICAgJCh3aW5kb3cpLm9uKCdsb2FkLnNsaWNrLnNsaWNrLScgKyBfLmluc3RhbmNlVWlkLCBfLnNldFBvc2l0aW9uKTtcbiAgICAgICAgJChfLnNldFBvc2l0aW9uKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW5pdFVJID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYXJyb3dzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgXy4kcHJldkFycm93LnNob3coKTtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvdy5zaG93KCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZG90cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgIF8uJGRvdHMuc2hvdygpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUua2V5SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuICAgICAgICAgLy9Eb250IHNsaWRlIGlmIHRoZSBjdXJzb3IgaXMgaW5zaWRlIHRoZSBmb3JtIGZpZWxkcyBhbmQgYXJyb3cga2V5cyBhcmUgcHJlc3NlZFxuICAgICAgICBpZighZXZlbnQudGFyZ2V0LnRhZ05hbWUubWF0Y2goJ1RFWFRBUkVBfElOUFVUfFNFTEVDVCcpKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzcgJiYgXy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLmNoYW5nZVNsaWRlKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSA/ICduZXh0JyA6ICAncHJldmlvdXMnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzkgJiYgXy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLmNoYW5nZVNsaWRlKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSA/ICdwcmV2aW91cycgOiAnbmV4dCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmxhenlMb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgbG9hZFJhbmdlLCBjbG9uZVJhbmdlLCByYW5nZVN0YXJ0LCByYW5nZUVuZDtcblxuICAgICAgICBmdW5jdGlvbiBsb2FkSW1hZ2VzKGltYWdlc1Njb3BlKSB7XG5cbiAgICAgICAgICAgICQoJ2ltZ1tkYXRhLWxhenldJywgaW1hZ2VzU2NvcGUpLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVNvdXJjZSA9ICQodGhpcykuYXR0cignZGF0YS1sYXp5JyksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlU3JjU2V0ID0gJCh0aGlzKS5hdHRyKCdkYXRhLXNyY3NldCcpLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVNpemVzICA9ICQodGhpcykuYXR0cignZGF0YS1zaXplcycpIHx8IF8uJHNsaWRlci5hdHRyKCdkYXRhLXNpemVzJyksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlVG9Mb2FkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgICAgICAgICAgICBpbWFnZVRvTG9hZC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFuaW1hdGUoeyBvcGFjaXR5OiAwIH0sIDEwMCwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VTcmNTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmNzZXQnLCBpbWFnZVNyY1NldCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZVNpemVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzaXplcycsIGltYWdlU2l6ZXMgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmMnLCBpbWFnZVNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFuaW1hdGUoeyBvcGFjaXR5OiAxIH0sIDIwMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLWxhenkgZGF0YS1zcmNzZXQgZGF0YS1zaXplcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1sb2FkaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdsYXp5TG9hZGVkJywgW18sIGltYWdlLCBpbWFnZVNvdXJjZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2VUb0xvYWQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0ciggJ2RhdGEtbGF6eScgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCAnc2xpY2stbG9hZGluZycgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCAnc2xpY2stbGF6eWxvYWQtZXJyb3InICk7XG5cbiAgICAgICAgICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2xhenlMb2FkRXJyb3InLCBbIF8sIGltYWdlLCBpbWFnZVNvdXJjZSBdKTtcblxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpbWFnZVRvTG9hZC5zcmMgPSBpbWFnZVNvdXJjZTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJhbmdlU3RhcnQgPSBfLmN1cnJlbnRTbGlkZSArIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMiArIDEpO1xuICAgICAgICAgICAgICAgIHJhbmdlRW5kID0gcmFuZ2VTdGFydCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKyAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByYW5nZVN0YXJ0ID0gTWF0aC5tYXgoMCwgXy5jdXJyZW50U2xpZGUgLSAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIgKyAxKSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VFbmQgPSAyICsgKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyICsgMSkgKyBfLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhbmdlU3RhcnQgPSBfLm9wdGlvbnMuaW5maW5pdGUgPyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgXy5jdXJyZW50U2xpZGUgOiBfLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgICAgIHJhbmdlRW5kID0gTWF0aC5jZWlsKHJhbmdlU3RhcnQgKyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KTtcbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZVN0YXJ0ID4gMCkgcmFuZ2VTdGFydC0tO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZUVuZCA8PSBfLnNsaWRlQ291bnQpIHJhbmdlRW5kKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsb2FkUmFuZ2UgPSBfLiRzbGlkZXIuZmluZCgnLnNsaWNrLXNsaWRlJykuc2xpY2UocmFuZ2VTdGFydCwgcmFuZ2VFbmQpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMubGF6eUxvYWQgPT09ICdhbnRpY2lwYXRlZCcpIHtcbiAgICAgICAgICAgIHZhciBwcmV2U2xpZGUgPSByYW5nZVN0YXJ0IC0gMSxcbiAgICAgICAgICAgICAgICBuZXh0U2xpZGUgPSByYW5nZUVuZCxcbiAgICAgICAgICAgICAgICAkc2xpZGVzID0gXy4kc2xpZGVyLmZpbmQoJy5zbGljay1zbGlkZScpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZTbGlkZSA8IDApIHByZXZTbGlkZSA9IF8uc2xpZGVDb3VudCAtIDE7XG4gICAgICAgICAgICAgICAgbG9hZFJhbmdlID0gbG9hZFJhbmdlLmFkZCgkc2xpZGVzLmVxKHByZXZTbGlkZSkpO1xuICAgICAgICAgICAgICAgIGxvYWRSYW5nZSA9IGxvYWRSYW5nZS5hZGQoJHNsaWRlcy5lcShuZXh0U2xpZGUpKTtcbiAgICAgICAgICAgICAgICBwcmV2U2xpZGUtLTtcbiAgICAgICAgICAgICAgICBuZXh0U2xpZGUrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxvYWRJbWFnZXMobG9hZFJhbmdlKTtcblxuICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIGNsb25lUmFuZ2UgPSBfLiRzbGlkZXIuZmluZCgnLnNsaWNrLXNsaWRlJyk7XG4gICAgICAgICAgICBsb2FkSW1hZ2VzKGNsb25lUmFuZ2UpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKF8uY3VycmVudFNsaWRlID49IF8uc2xpZGVDb3VudCAtIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIGNsb25lUmFuZ2UgPSBfLiRzbGlkZXIuZmluZCgnLnNsaWNrLWNsb25lZCcpLnNsaWNlKDAsIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpO1xuICAgICAgICAgICAgbG9hZEltYWdlcyhjbG9uZVJhbmdlKTtcbiAgICAgICAgfSBlbHNlIGlmIChfLmN1cnJlbnRTbGlkZSA9PT0gMCkge1xuICAgICAgICAgICAgY2xvbmVSYW5nZSA9IF8uJHNsaWRlci5maW5kKCcuc2xpY2stY2xvbmVkJykuc2xpY2UoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAqIC0xKTtcbiAgICAgICAgICAgIGxvYWRJbWFnZXMoY2xvbmVSYW5nZSk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUubG9hZFNsaWRlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLnNldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5jc3Moe1xuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9KTtcblxuICAgICAgICBfLiRzbGlkZXIucmVtb3ZlQ2xhc3MoJ3NsaWNrLWxvYWRpbmcnKTtcblxuICAgICAgICBfLmluaXRVSSgpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMubGF6eUxvYWQgPT09ICdwcm9ncmVzc2l2ZScpIHtcbiAgICAgICAgICAgIF8ucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLm5leHQgPSBTbGljay5wcm90b3R5cGUuc2xpY2tOZXh0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICduZXh0J1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUub3JpZW50YXRpb25DaGFuZ2UgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5jaGVja1Jlc3BvbnNpdmUoKTtcbiAgICAgICAgXy5zZXRQb3NpdGlvbigpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5wYXVzZSA9IFNsaWNrLnByb3RvdHlwZS5zbGlja1BhdXNlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uYXV0b1BsYXlDbGVhcigpO1xuICAgICAgICBfLnBhdXNlZCA9IHRydWU7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnBsYXkgPSBTbGljay5wcm90b3R5cGUuc2xpY2tQbGF5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uYXV0b1BsYXkoKTtcbiAgICAgICAgXy5vcHRpb25zLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgXy5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgXy5mb2N1c3NlZCA9IGZhbHNlO1xuICAgICAgICBfLmludGVycnVwdGVkID0gZmFsc2U7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnBvc3RTbGlkZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmKCAhXy51bnNsaWNrZWQgKSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdhZnRlckNoYW5nZScsIFtfLCBpbmRleF0pO1xuXG4gICAgICAgICAgICBfLmFuaW1hdGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgICAgIF8uc2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgXy5zd2lwZUxlZnQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoIF8ub3B0aW9ucy5hdXRvcGxheSApIHtcbiAgICAgICAgICAgICAgICBfLmF1dG9QbGF5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF8uaW5pdEFEQSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5mb2N1c09uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkY3VycmVudFNsaWRlID0gJChfLiRzbGlkZXMuZ2V0KF8uY3VycmVudFNsaWRlKSk7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50U2xpZGUuYXR0cigndGFiaW5kZXgnLCAwKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnByZXYgPSBTbGljay5wcm90b3R5cGUuc2xpY2tQcmV2ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdwcmV2aW91cydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5wcm9ncmVzc2l2ZUxhenlMb2FkID0gZnVuY3Rpb24oIHRyeUNvdW50ICkge1xuXG4gICAgICAgIHRyeUNvdW50ID0gdHJ5Q291bnQgfHwgMTtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICAkaW1nc1RvTG9hZCA9ICQoICdpbWdbZGF0YS1sYXp5XScsIF8uJHNsaWRlciApLFxuICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICBpbWFnZVNvdXJjZSxcbiAgICAgICAgICAgIGltYWdlU3JjU2V0LFxuICAgICAgICAgICAgaW1hZ2VTaXplcyxcbiAgICAgICAgICAgIGltYWdlVG9Mb2FkO1xuXG4gICAgICAgIGlmICggJGltZ3NUb0xvYWQubGVuZ3RoICkge1xuXG4gICAgICAgICAgICBpbWFnZSA9ICRpbWdzVG9Mb2FkLmZpcnN0KCk7XG4gICAgICAgICAgICBpbWFnZVNvdXJjZSA9IGltYWdlLmF0dHIoJ2RhdGEtbGF6eScpO1xuICAgICAgICAgICAgaW1hZ2VTcmNTZXQgPSBpbWFnZS5hdHRyKCdkYXRhLXNyY3NldCcpO1xuICAgICAgICAgICAgaW1hZ2VTaXplcyAgPSBpbWFnZS5hdHRyKCdkYXRhLXNpemVzJykgfHwgXy4kc2xpZGVyLmF0dHIoJ2RhdGEtc2l6ZXMnKTtcbiAgICAgICAgICAgIGltYWdlVG9Mb2FkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgICAgICAgIGltYWdlVG9Mb2FkLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGltYWdlU3JjU2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Jjc2V0JywgaW1hZ2VTcmNTZXQgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VTaXplcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc2l6ZXMnLCBpbWFnZVNpemVzICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAuYXR0ciggJ3NyYycsIGltYWdlU291cmNlIClcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2RhdGEtbGF6eSBkYXRhLXNyY3NldCBkYXRhLXNpemVzJylcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1sb2FkaW5nJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIF8ub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCA9PT0gdHJ1ZSApIHtcbiAgICAgICAgICAgICAgICAgICAgXy5zZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdsYXp5TG9hZGVkJywgWyBfLCBpbWFnZSwgaW1hZ2VTb3VyY2UgXSk7XG4gICAgICAgICAgICAgICAgXy5wcm9ncmVzc2l2ZUxhenlMb2FkKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGltYWdlVG9Mb2FkLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmICggdHJ5Q291bnQgPCAzICkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiB0cnkgdG8gbG9hZCB0aGUgaW1hZ2UgMyB0aW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICogbGVhdmUgYSBzbGlnaHQgZGVsYXkgc28gd2UgZG9uJ3QgZ2V0XG4gICAgICAgICAgICAgICAgICAgICAqIHNlcnZlcnMgYmxvY2tpbmcgdGhlIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ucHJvZ3Jlc3NpdmVMYXp5TG9hZCggdHJ5Q291bnQgKyAxICk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoICdkYXRhLWxhenknIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyggJ3NsaWNrLWxvYWRpbmcnIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyggJ3NsaWNrLWxhenlsb2FkLWVycm9yJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdsYXp5TG9hZEVycm9yJywgWyBfLCBpbWFnZSwgaW1hZ2VTb3VyY2UgXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5wcm9ncmVzc2l2ZUxhenlMb2FkKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGltYWdlVG9Mb2FkLnNyYyA9IGltYWdlU291cmNlO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdhbGxJbWFnZXNMb2FkZWQnLCBbIF8gXSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oIGluaXRpYWxpemluZyApIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsIGN1cnJlbnRTbGlkZSwgbGFzdFZpc2libGVJbmRleDtcblxuICAgICAgICBsYXN0VmlzaWJsZUluZGV4ID0gXy5zbGlkZUNvdW50IC0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdztcblxuICAgICAgICAvLyBpbiBub24taW5maW5pdGUgc2xpZGVycywgd2UgZG9uJ3Qgd2FudCB0byBnbyBwYXN0IHRoZVxuICAgICAgICAvLyBsYXN0IHZpc2libGUgaW5kZXguXG4gICAgICAgIGlmKCAhXy5vcHRpb25zLmluZmluaXRlICYmICggXy5jdXJyZW50U2xpZGUgPiBsYXN0VmlzaWJsZUluZGV4ICkpIHtcbiAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gbGFzdFZpc2libGVJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGxlc3Mgc2xpZGVzIHRoYW4gdG8gc2hvdywgZ28gdG8gc3RhcnQuXG4gICAgICAgIGlmICggXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKSB7XG4gICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSA9IDA7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRTbGlkZSA9IF8uY3VycmVudFNsaWRlO1xuXG4gICAgICAgIF8uZGVzdHJveSh0cnVlKTtcblxuICAgICAgICAkLmV4dGVuZChfLCBfLmluaXRpYWxzLCB7IGN1cnJlbnRTbGlkZTogY3VycmVudFNsaWRlIH0pO1xuXG4gICAgICAgIF8uaW5pdCgpO1xuXG4gICAgICAgIGlmKCAhaW5pdGlhbGl6aW5nICkge1xuXG4gICAgICAgICAgICBfLmNoYW5nZVNsaWRlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdpbmRleCcsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBjdXJyZW50U2xpZGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5yZWdpc3RlckJyZWFrcG9pbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLCBicmVha3BvaW50LCBjdXJyZW50QnJlYWtwb2ludCwgbCxcbiAgICAgICAgICAgIHJlc3BvbnNpdmVTZXR0aW5ncyA9IF8ub3B0aW9ucy5yZXNwb25zaXZlIHx8IG51bGw7XG5cbiAgICAgICAgaWYgKCAkLnR5cGUocmVzcG9uc2l2ZVNldHRpbmdzKSA9PT0gJ2FycmF5JyAmJiByZXNwb25zaXZlU2V0dGluZ3MubGVuZ3RoICkge1xuXG4gICAgICAgICAgICBfLnJlc3BvbmRUbyA9IF8ub3B0aW9ucy5yZXNwb25kVG8gfHwgJ3dpbmRvdyc7XG5cbiAgICAgICAgICAgIGZvciAoIGJyZWFrcG9pbnQgaW4gcmVzcG9uc2l2ZVNldHRpbmdzICkge1xuXG4gICAgICAgICAgICAgICAgbCA9IF8uYnJlYWtwb2ludHMubGVuZ3RoLTE7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2l2ZVNldHRpbmdzLmhhc093blByb3BlcnR5KGJyZWFrcG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCcmVha3BvaW50ID0gcmVzcG9uc2l2ZVNldHRpbmdzW2JyZWFrcG9pbnRdLmJyZWFrcG9pbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBicmVha3BvaW50cyBhbmQgY3V0IG91dCBhbnkgZXhpc3RpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gb25lcyB3aXRoIHRoZSBzYW1lIGJyZWFrcG9pbnQgbnVtYmVyLCB3ZSBkb24ndCB3YW50IGR1cGVzLlxuICAgICAgICAgICAgICAgICAgICB3aGlsZSggbCA+PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF8uYnJlYWtwb2ludHNbbF0gJiYgXy5icmVha3BvaW50c1tsXSA9PT0gY3VycmVudEJyZWFrcG9pbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50cy5zcGxpY2UobCwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGwtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF8uYnJlYWtwb2ludHMucHVzaChjdXJyZW50QnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIF8uYnJlYWtwb2ludFNldHRpbmdzW2N1cnJlbnRCcmVha3BvaW50XSA9IHJlc3BvbnNpdmVTZXR0aW5nc1ticmVha3BvaW50XS5zZXR0aW5ncztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoIF8ub3B0aW9ucy5tb2JpbGVGaXJzdCApID8gYS1iIDogYi1hO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5yZWluaXQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy4kc2xpZGVzID1cbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2tcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oXy5vcHRpb25zLnNsaWRlKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stc2xpZGUnKTtcblxuICAgICAgICBfLnNsaWRlQ291bnQgPSBfLiRzbGlkZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChfLmN1cnJlbnRTbGlkZSA+PSBfLnNsaWRlQ291bnQgJiYgXy5jdXJyZW50U2xpZGUgIT09IDApIHtcbiAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gXy5jdXJyZW50U2xpZGUgLSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIF8ucmVnaXN0ZXJCcmVha3BvaW50cygpO1xuXG4gICAgICAgIF8uc2V0UHJvcHMoKTtcbiAgICAgICAgXy5zZXR1cEluZmluaXRlKCk7XG4gICAgICAgIF8uYnVpbGRBcnJvd3MoKTtcbiAgICAgICAgXy51cGRhdGVBcnJvd3MoKTtcbiAgICAgICAgXy5pbml0QXJyb3dFdmVudHMoKTtcbiAgICAgICAgXy5idWlsZERvdHMoKTtcbiAgICAgICAgXy51cGRhdGVEb3RzKCk7XG4gICAgICAgIF8uaW5pdERvdEV2ZW50cygpO1xuICAgICAgICBfLmNsZWFuVXBTbGlkZUV2ZW50cygpO1xuICAgICAgICBfLmluaXRTbGlkZUV2ZW50cygpO1xuXG4gICAgICAgIF8uY2hlY2tSZXNwb25zaXZlKGZhbHNlLCB0cnVlKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZvY3VzT25TZWxlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICQoXy4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vbignY2xpY2suc2xpY2snLCBfLnNlbGVjdEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5zZXRTbGlkZUNsYXNzZXModHlwZW9mIF8uY3VycmVudFNsaWRlID09PSAnbnVtYmVyJyA/IF8uY3VycmVudFNsaWRlIDogMCk7XG5cbiAgICAgICAgXy5zZXRQb3NpdGlvbigpO1xuICAgICAgICBfLmZvY3VzSGFuZGxlcigpO1xuXG4gICAgICAgIF8ucGF1c2VkID0gIV8ub3B0aW9ucy5hdXRvcGxheTtcbiAgICAgICAgXy5hdXRvUGxheSgpO1xuXG4gICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdyZUluaXQnLCBbX10pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpICE9PSBfLndpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoXy53aW5kb3dEZWxheSk7XG4gICAgICAgICAgICBfLndpbmRvd0RlbGF5ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXy53aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuICAgICAgICAgICAgICAgIF8uY2hlY2tSZXNwb25zaXZlKCk7XG4gICAgICAgICAgICAgICAgaWYoICFfLnVuc2xpY2tlZCApIHsgXy5zZXRQb3NpdGlvbigpOyB9XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnJlbW92ZVNsaWRlID0gU2xpY2sucHJvdG90eXBlLnNsaWNrUmVtb3ZlID0gZnVuY3Rpb24oaW5kZXgsIHJlbW92ZUJlZm9yZSwgcmVtb3ZlQWxsKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICh0eXBlb2YoaW5kZXgpID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJlbW92ZUJlZm9yZSA9IGluZGV4O1xuICAgICAgICAgICAgaW5kZXggPSByZW1vdmVCZWZvcmUgPT09IHRydWUgPyAwIDogXy5zbGlkZUNvdW50IC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4ID0gcmVtb3ZlQmVmb3JlID09PSB0cnVlID8gLS1pbmRleCA6IGluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8IDEgfHwgaW5kZXggPCAwIHx8IGluZGV4ID4gXy5zbGlkZUNvdW50IC0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgXy51bmxvYWQoKTtcblxuICAgICAgICBpZiAocmVtb3ZlQWxsID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCkucmVtb3ZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZXEoaW5kZXgpLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVzID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpO1xuXG4gICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKTtcblxuICAgICAgICBfLiRzbGlkZVRyYWNrLmFwcGVuZChfLiRzbGlkZXMpO1xuXG4gICAgICAgIF8uJHNsaWRlc0NhY2hlID0gXy4kc2xpZGVzO1xuXG4gICAgICAgIF8ucmVpbml0KCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNldENTUyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgcG9zaXRpb25Qcm9wcyA9IHt9LFxuICAgICAgICAgICAgeCwgeTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSAtcG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgeCA9IF8ucG9zaXRpb25Qcm9wID09ICdsZWZ0JyA/IE1hdGguY2VpbChwb3NpdGlvbikgKyAncHgnIDogJzBweCc7XG4gICAgICAgIHkgPSBfLnBvc2l0aW9uUHJvcCA9PSAndG9wJyA/IE1hdGguY2VpbChwb3NpdGlvbikgKyAncHgnIDogJzBweCc7XG5cbiAgICAgICAgcG9zaXRpb25Qcm9wc1tfLnBvc2l0aW9uUHJvcF0gPSBwb3NpdGlvbjtcblxuICAgICAgICBpZiAoXy50cmFuc2Zvcm1zRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKHBvc2l0aW9uUHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb25Qcm9wcyA9IHt9O1xuICAgICAgICAgICAgaWYgKF8uY3NzVHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUoJyArIHggKyAnLCAnICsgeSArICcpJztcbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyhwb3NpdGlvblByb3BzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUzZCgnICsgeCArICcsICcgKyB5ICsgJywgMHB4KSc7XG4gICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MocG9zaXRpb25Qcm9wcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy4kbGlzdC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAoJzBweCAnICsgXy5vcHRpb25zLmNlbnRlclBhZGRpbmcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLiRsaXN0LmhlaWdodChfLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCh0cnVlKSAqIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpO1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy4kbGlzdC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAoXy5vcHRpb25zLmNlbnRlclBhZGRpbmcgKyAnIDBweCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfLmxpc3RXaWR0aCA9IF8uJGxpc3Qud2lkdGgoKTtcbiAgICAgICAgXy5saXN0SGVpZ2h0ID0gXy4kbGlzdC5oZWlnaHQoKTtcblxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlICYmIF8ub3B0aW9ucy52YXJpYWJsZVdpZHRoID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy5zbGlkZVdpZHRoID0gTWF0aC5jZWlsKF8ubGlzdFdpZHRoIC8gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyk7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLndpZHRoKE1hdGguY2VpbCgoXy5zbGlkZVdpZHRoICogXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykubGVuZ3RoKSkpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoXy5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2sud2lkdGgoNTAwMCAqIF8uc2xpZGVDb3VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLnNsaWRlV2lkdGggPSBNYXRoLmNlaWwoXy5saXN0V2lkdGgpO1xuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5oZWlnaHQoTWF0aC5jZWlsKChfLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCh0cnVlKSAqIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4oJy5zbGljay1zbGlkZScpLmxlbmd0aCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvZmZzZXQgPSBfLiRzbGlkZXMuZmlyc3QoKS5vdXRlcldpZHRoKHRydWUpIC0gXy4kc2xpZGVzLmZpcnN0KCkud2lkdGgoKTtcbiAgICAgICAgaWYgKF8ub3B0aW9ucy52YXJpYWJsZVdpZHRoID09PSBmYWxzZSkgXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykud2lkdGgoXy5zbGlkZVdpZHRoIC0gb2Zmc2V0KTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0RmFkZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHRhcmdldExlZnQ7XG5cbiAgICAgICAgXy4kc2xpZGVzLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRhcmdldExlZnQgPSAoXy5zbGlkZVdpZHRoICogaW5kZXgpICogLTE7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICQoZWxlbWVudCkuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0YXJnZXRMZWZ0LFxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleCAtIDIsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChlbGVtZW50KS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogdGFyZ2V0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IF8ub3B0aW9ucy56SW5kZXggLSAyLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uJHNsaWRlcy5lcShfLmN1cnJlbnRTbGlkZSkuY3NzKHtcbiAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleCAtIDEsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPT09IDEgJiYgXy5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0ID09PSB0cnVlICYmIF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRIZWlnaHQgPSBfLiRzbGlkZXMuZXEoXy5jdXJyZW50U2xpZGUpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgICAgICAgXy4kbGlzdC5jc3MoJ2hlaWdodCcsIHRhcmdldEhlaWdodCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0T3B0aW9uID1cbiAgICBTbGljay5wcm90b3R5cGUuc2xpY2tTZXRPcHRpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYWNjZXB0cyBhcmd1bWVudHMgaW4gZm9ybWF0IG9mOlxuICAgICAgICAgKlxuICAgICAgICAgKiAgLSBmb3IgY2hhbmdpbmcgYSBzaW5nbGUgb3B0aW9uJ3MgdmFsdWU6XG4gICAgICAgICAqICAgICAuc2xpY2soXCJzZXRPcHRpb25cIiwgb3B0aW9uLCB2YWx1ZSwgcmVmcmVzaCApXG4gICAgICAgICAqXG4gICAgICAgICAqICAtIGZvciBjaGFuZ2luZyBhIHNldCBvZiByZXNwb25zaXZlIG9wdGlvbnM6XG4gICAgICAgICAqICAgICAuc2xpY2soXCJzZXRPcHRpb25cIiwgJ3Jlc3BvbnNpdmUnLCBbe30sIC4uLl0sIHJlZnJlc2ggKVxuICAgICAgICAgKlxuICAgICAgICAgKiAgLSBmb3IgdXBkYXRpbmcgbXVsdGlwbGUgdmFsdWVzIGF0IG9uY2UgKG5vdCByZXNwb25zaXZlKVxuICAgICAgICAgKiAgICAgLnNsaWNrKFwic2V0T3B0aW9uXCIsIHsgJ29wdGlvbic6IHZhbHVlLCAuLi4gfSwgcmVmcmVzaCApXG4gICAgICAgICAqL1xuXG4gICAgICAgIHZhciBfID0gdGhpcywgbCwgaXRlbSwgb3B0aW9uLCB2YWx1ZSwgcmVmcmVzaCA9IGZhbHNlLCB0eXBlO1xuXG4gICAgICAgIGlmKCAkLnR5cGUoIGFyZ3VtZW50c1swXSApID09PSAnb2JqZWN0JyApIHtcblxuICAgICAgICAgICAgb3B0aW9uID0gIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHJlZnJlc2ggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB0eXBlID0gJ211bHRpcGxlJztcblxuICAgICAgICB9IGVsc2UgaWYgKCAkLnR5cGUoIGFyZ3VtZW50c1swXSApID09PSAnc3RyaW5nJyApIHtcblxuICAgICAgICAgICAgb3B0aW9uID0gIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHZhbHVlID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgcmVmcmVzaCA9IGFyZ3VtZW50c1syXTtcblxuICAgICAgICAgICAgaWYgKCBhcmd1bWVudHNbMF0gPT09ICdyZXNwb25zaXZlJyAmJiAkLnR5cGUoIGFyZ3VtZW50c1sxXSApID09PSAnYXJyYXknICkge1xuXG4gICAgICAgICAgICAgICAgdHlwZSA9ICdyZXNwb25zaXZlJztcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggdHlwZW9mIGFyZ3VtZW50c1sxXSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cbiAgICAgICAgICAgICAgICB0eXBlID0gJ3NpbmdsZSc7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0eXBlID09PSAnc2luZ2xlJyApIHtcblxuICAgICAgICAgICAgXy5vcHRpb25zW29wdGlvbl0gPSB2YWx1ZTtcblxuXG4gICAgICAgIH0gZWxzZSBpZiAoIHR5cGUgPT09ICdtdWx0aXBsZScgKSB7XG5cbiAgICAgICAgICAgICQuZWFjaCggb3B0aW9uICwgZnVuY3Rpb24oIG9wdCwgdmFsICkge1xuXG4gICAgICAgICAgICAgICAgXy5vcHRpb25zW29wdF0gPSB2YWw7XG5cbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgfSBlbHNlIGlmICggdHlwZSA9PT0gJ3Jlc3BvbnNpdmUnICkge1xuXG4gICAgICAgICAgICBmb3IgKCBpdGVtIGluIHZhbHVlICkge1xuXG4gICAgICAgICAgICAgICAgaWYoICQudHlwZSggXy5vcHRpb25zLnJlc3BvbnNpdmUgKSAhPT0gJ2FycmF5JyApIHtcblxuICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMucmVzcG9uc2l2ZSA9IFsgdmFsdWVbaXRlbV0gXTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbCA9IF8ub3B0aW9ucy5yZXNwb25zaXZlLmxlbmd0aC0xO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgcmVzcG9uc2l2ZSBvYmplY3QgYW5kIHNwbGljZSBvdXQgZHVwbGljYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUoIGwgPj0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF8ub3B0aW9ucy5yZXNwb25zaXZlW2xdLmJyZWFrcG9pbnQgPT09IHZhbHVlW2l0ZW1dLmJyZWFrcG9pbnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMucmVzcG9uc2l2ZS5zcGxpY2UobCwxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsLS07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5yZXNwb25zaXZlLnB1c2goIHZhbHVlW2l0ZW1dICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCByZWZyZXNoICkge1xuXG4gICAgICAgICAgICBfLnVubG9hZCgpO1xuICAgICAgICAgICAgXy5yZWluaXQoKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uc2V0RGltZW5zaW9ucygpO1xuXG4gICAgICAgIF8uc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy5zZXRDU1MoXy5nZXRMZWZ0KF8uY3VycmVudFNsaWRlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLnNldEZhZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdzZXRQb3NpdGlvbicsIFtfXSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNldFByb3BzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgYm9keVN0eWxlID0gZG9jdW1lbnQuYm9keS5zdHlsZTtcblxuICAgICAgICBfLnBvc2l0aW9uUHJvcCA9IF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gdHJ1ZSA/ICd0b3AnIDogJ2xlZnQnO1xuXG4gICAgICAgIGlmIChfLnBvc2l0aW9uUHJvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlci5hZGRDbGFzcygnc2xpY2stdmVydGljYWwnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJHNsaWRlci5yZW1vdmVDbGFzcygnc2xpY2stdmVydGljYWwnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib2R5U3R5bGUuV2Via2l0VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBib2R5U3R5bGUuTW96VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBib2R5U3R5bGUubXNUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMudXNlQ1NTID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy5jc3NUcmFuc2l0aW9ucyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5mYWRlICkge1xuICAgICAgICAgICAgaWYgKCB0eXBlb2YgXy5vcHRpb25zLnpJbmRleCA9PT0gJ251bWJlcicgKSB7XG4gICAgICAgICAgICAgICAgaWYoIF8ub3B0aW9ucy56SW5kZXggPCAzICkge1xuICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMuekluZGV4ID0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF8ub3B0aW9ucy56SW5kZXggPSBfLmRlZmF1bHRzLnpJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib2R5U3R5bGUuT1RyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfLmFuaW1UeXBlID0gJ09UcmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJy1vLXRyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gJ09UcmFuc2l0aW9uJztcbiAgICAgICAgICAgIGlmIChib2R5U3R5bGUucGVyc3BlY3RpdmVQcm9wZXJ0eSA9PT0gdW5kZWZpbmVkICYmIGJvZHlTdHlsZS53ZWJraXRQZXJzcGVjdGl2ZSA9PT0gdW5kZWZpbmVkKSBfLmFuaW1UeXBlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHlTdHlsZS5Nb3pUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgXy5hbmltVHlwZSA9ICdNb3pUcmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJy1tb3otdHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNpdGlvblR5cGUgPSAnTW96VHJhbnNpdGlvbic7XG4gICAgICAgICAgICBpZiAoYm9keVN0eWxlLnBlcnNwZWN0aXZlUHJvcGVydHkgPT09IHVuZGVmaW5lZCAmJiBib2R5U3R5bGUuTW96UGVyc3BlY3RpdmUgPT09IHVuZGVmaW5lZCkgXy5hbmltVHlwZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5U3R5bGUud2Via2l0VHJhbnNmb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF8uYW5pbVR5cGUgPSAnd2Via2l0VHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNmb3JtVHlwZSA9ICctd2Via2l0LXRyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gJ3dlYmtpdFRyYW5zaXRpb24nO1xuICAgICAgICAgICAgaWYgKGJvZHlTdHlsZS5wZXJzcGVjdGl2ZVByb3BlcnR5ID09PSB1bmRlZmluZWQgJiYgYm9keVN0eWxlLndlYmtpdFBlcnNwZWN0aXZlID09PSB1bmRlZmluZWQpIF8uYW5pbVR5cGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9keVN0eWxlLm1zVHJhbnNmb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF8uYW5pbVR5cGUgPSAnbXNUcmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJy1tcy10cmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2l0aW9uVHlwZSA9ICdtc1RyYW5zaXRpb24nO1xuICAgICAgICAgICAgaWYgKGJvZHlTdHlsZS5tc1RyYW5zZm9ybSA9PT0gdW5kZWZpbmVkKSBfLmFuaW1UeXBlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHlTdHlsZS50cmFuc2Zvcm0gIT09IHVuZGVmaW5lZCAmJiBfLmFuaW1UeXBlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgXy5hbmltVHlwZSA9ICd0cmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJ3RyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gJ3RyYW5zaXRpb24nO1xuICAgICAgICB9XG4gICAgICAgIF8udHJhbnNmb3Jtc0VuYWJsZWQgPSBfLm9wdGlvbnMudXNlVHJhbnNmb3JtICYmIChfLmFuaW1UeXBlICE9PSBudWxsICYmIF8uYW5pbVR5cGUgIT09IGZhbHNlKTtcbiAgICB9O1xuXG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0U2xpZGVDbGFzc2VzID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBjZW50ZXJPZmZzZXQsIGFsbFNsaWRlcywgaW5kZXhPZmZzZXQsIHJlbWFpbmRlcjtcblxuICAgICAgICBhbGxTbGlkZXMgPSBfLiRzbGlkZXJcbiAgICAgICAgICAgIC5maW5kKCcuc2xpY2stc2xpZGUnKVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLWN1cnJlbnQnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgIC5lcShpbmRleClcbiAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stY3VycmVudCcpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICB2YXIgZXZlbkNvZWYgPSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICUgMiA9PT0gMCA/IDEgOiAwO1xuXG4gICAgICAgICAgICBjZW50ZXJPZmZzZXQgPSBNYXRoLmZsb29yKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKTtcblxuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IGNlbnRlck9mZnNldCAmJiBpbmRleCA8PSAoXy5zbGlkZUNvdW50IC0gMSkgLSBjZW50ZXJPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgXy4kc2xpZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoaW5kZXggLSBjZW50ZXJPZmZzZXQgKyBldmVuQ29lZiwgaW5kZXggKyBjZW50ZXJPZmZzZXQgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGluZGV4T2Zmc2V0ID0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIGluZGV4O1xuICAgICAgICAgICAgICAgICAgICBhbGxTbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleE9mZnNldCAtIGNlbnRlck9mZnNldCArIDEgKyBldmVuQ29lZiwgaW5kZXhPZmZzZXQgKyBjZW50ZXJPZmZzZXQgKyAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBhbGxTbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcShhbGxTbGlkZXMubGVuZ3RoIC0gMSAtIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWNlbnRlcicpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gXy5zbGlkZUNvdW50IC0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGFsbFNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLmVxKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWNlbnRlcicpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uJHNsaWRlc1xuICAgICAgICAgICAgICAgIC5lcShpbmRleClcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWNlbnRlcicpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDw9IChfLnNsaWRlQ291bnQgLSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSkge1xuXG4gICAgICAgICAgICAgICAgXy4kc2xpZGVzXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleCwgaW5kZXggKyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsbFNsaWRlcy5sZW5ndGggPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICAgICAgYWxsU2xpZGVzXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stYWN0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICByZW1haW5kZXIgPSBfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuICAgICAgICAgICAgICAgIGluZGV4T2Zmc2V0ID0gXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlID8gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIGluZGV4IDogaW5kZXg7XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyA9PSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgJiYgKF8uc2xpZGVDb3VudCAtIGluZGV4KSA8IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgICAgICAgICBhbGxTbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleE9mZnNldCAtIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gcmVtYWluZGVyKSwgaW5kZXhPZmZzZXQgKyByZW1haW5kZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgYWxsU2xpZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoaW5kZXhPZmZzZXQsIGluZGV4T2Zmc2V0ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stYWN0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMubGF6eUxvYWQgPT09ICdvbmRlbWFuZCcgfHwgXy5vcHRpb25zLmxhenlMb2FkID09PSAnYW50aWNpcGF0ZWQnKSB7XG4gICAgICAgICAgICBfLmxhenlMb2FkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNldHVwSW5maW5pdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBpLCBzbGlkZUluZGV4LCBpbmZpbml0ZUNvdW50O1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5vcHRpb25zLmNlbnRlck1vZGUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IHRydWUgJiYgXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgIHNsaWRlSW5kZXggPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZmluaXRlQ291bnQgPSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZUNvdW50ID0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBfLnNsaWRlQ291bnQ7IGkgPiAoXy5zbGlkZUNvdW50IC1cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmluaXRlQ291bnQpOyBpIC09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVJbmRleCA9IGkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAkKF8uJHNsaWRlc1tzbGlkZUluZGV4XSkuY2xvbmUodHJ1ZSkuYXR0cignaWQnLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXNsaWNrLWluZGV4Jywgc2xpZGVJbmRleCAtIF8uc2xpZGVDb3VudClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5wcmVwZW5kVG8oXy4kc2xpZGVUcmFjaykuYWRkQ2xhc3MoJ3NsaWNrLWNsb25lZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5maW5pdGVDb3VudCAgKyBfLnNsaWRlQ291bnQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgJChfLiRzbGlkZXNbc2xpZGVJbmRleF0pLmNsb25lKHRydWUpLmF0dHIoJ2lkJywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZGF0YS1zbGljay1pbmRleCcsIHNsaWRlSW5kZXggKyBfLnNsaWRlQ291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oXy4kc2xpZGVUcmFjaykuYWRkQ2xhc3MoJ3NsaWNrLWNsb25lZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmZpbmQoJy5zbGljay1jbG9uZWQnKS5maW5kKCdbaWRdJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdpZCcsICcnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW50ZXJydXB0ID0gZnVuY3Rpb24oIHRvZ2dsZSApIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYoICF0b2dnbGUgKSB7XG4gICAgICAgICAgICBfLmF1dG9QbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgXy5pbnRlcnJ1cHRlZCA9IHRvZ2dsZTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2VsZWN0SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIHZhciB0YXJnZXRFbGVtZW50ID1cbiAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5pcygnLnNsaWNrLXNsaWRlJykgP1xuICAgICAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KSA6XG4gICAgICAgICAgICAgICAgJChldmVudC50YXJnZXQpLnBhcmVudHMoJy5zbGljay1zbGlkZScpO1xuXG4gICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KHRhcmdldEVsZW1lbnQuYXR0cignZGF0YS1zbGljay1pbmRleCcpKTtcblxuICAgICAgICBpZiAoIWluZGV4KSBpbmRleCA9IDA7XG5cbiAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKGluZGV4LCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgfVxuXG4gICAgICAgIF8uc2xpZGVIYW5kbGVyKGluZGV4KTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2xpZGVIYW5kbGVyID0gZnVuY3Rpb24oaW5kZXgsIHN5bmMsIGRvbnRBbmltYXRlKSB7XG5cbiAgICAgICAgdmFyIHRhcmdldFNsaWRlLCBhbmltU2xpZGUsIG9sZFNsaWRlLCBzbGlkZUxlZnQsIHRhcmdldExlZnQgPSBudWxsLFxuICAgICAgICAgICAgXyA9IHRoaXMsIG5hdlRhcmdldDtcblxuICAgICAgICBzeW5jID0gc3luYyB8fCBmYWxzZTtcblxuICAgICAgICBpZiAoXy5hbmltYXRpbmcgPT09IHRydWUgJiYgXy5vcHRpb25zLndhaXRGb3JBbmltYXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IHRydWUgJiYgXy5jdXJyZW50U2xpZGUgPT09IGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF8uYXNOYXZGb3IoaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0U2xpZGUgPSBpbmRleDtcbiAgICAgICAgdGFyZ2V0TGVmdCA9IF8uZ2V0TGVmdCh0YXJnZXRTbGlkZSk7XG4gICAgICAgIHNsaWRlTGVmdCA9IF8uZ2V0TGVmdChfLmN1cnJlbnRTbGlkZSk7XG5cbiAgICAgICAgXy5jdXJyZW50TGVmdCA9IF8uc3dpcGVMZWZ0ID09PSBudWxsID8gc2xpZGVMZWZ0IDogXy5zd2lwZUxlZnQ7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UgJiYgXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IGZhbHNlICYmIChpbmRleCA8IDAgfHwgaW5kZXggPiBfLmdldERvdENvdW50KCkgKiBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xpZGUgPSBfLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgICAgICAgICBpZiAoZG9udEFuaW1hdGUgIT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgICAgICAgICBfLmFuaW1hdGVTbGlkZShzbGlkZUxlZnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5wb3N0U2xpZGUodGFyZ2V0U2xpZGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfLnBvc3RTbGlkZSh0YXJnZXRTbGlkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UgJiYgXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUgJiYgKGluZGV4IDwgMCB8fCBpbmRleCA+IChfLnNsaWRlQ291bnQgLSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpKSkge1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFNsaWRlID0gXy5jdXJyZW50U2xpZGU7XG4gICAgICAgICAgICAgICAgaWYgKGRvbnRBbmltYXRlICE9PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5hbmltYXRlU2xpZGUoc2xpZGVMZWZ0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKHRhcmdldFNsaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgXy5wb3N0U2xpZGUodGFyZ2V0U2xpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmF1dG9wbGF5ICkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfLmF1dG9QbGF5VGltZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldFNsaWRlIDwgMCkge1xuICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGFuaW1TbGlkZSA9IF8uc2xpZGVDb3VudCAtIChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmltU2xpZGUgPSBfLnNsaWRlQ291bnQgKyB0YXJnZXRTbGlkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRTbGlkZSA+PSBfLnNsaWRlQ291bnQpIHtcbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgIT09IDApIHtcbiAgICAgICAgICAgICAgICBhbmltU2xpZGUgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmltU2xpZGUgPSB0YXJnZXRTbGlkZSAtIF8uc2xpZGVDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuaW1TbGlkZSA9IHRhcmdldFNsaWRlO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5hbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdiZWZvcmVDaGFuZ2UnLCBbXywgXy5jdXJyZW50U2xpZGUsIGFuaW1TbGlkZV0pO1xuXG4gICAgICAgIG9sZFNsaWRlID0gXy5jdXJyZW50U2xpZGU7XG4gICAgICAgIF8uY3VycmVudFNsaWRlID0gYW5pbVNsaWRlO1xuXG4gICAgICAgIF8uc2V0U2xpZGVDbGFzc2VzKF8uY3VycmVudFNsaWRlKTtcblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5hc05hdkZvciApIHtcblxuICAgICAgICAgICAgbmF2VGFyZ2V0ID0gXy5nZXROYXZUYXJnZXQoKTtcbiAgICAgICAgICAgIG5hdlRhcmdldCA9IG5hdlRhcmdldC5zbGljaygnZ2V0U2xpY2snKTtcblxuICAgICAgICAgICAgaWYgKCBuYXZUYXJnZXQuc2xpZGVDb3VudCA8PSBuYXZUYXJnZXQub3B0aW9ucy5zbGlkZXNUb1Nob3cgKSB7XG4gICAgICAgICAgICAgICAgbmF2VGFyZ2V0LnNldFNsaWRlQ2xhc3NlcyhfLmN1cnJlbnRTbGlkZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIF8udXBkYXRlRG90cygpO1xuICAgICAgICBfLnVwZGF0ZUFycm93cygpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKGRvbnRBbmltYXRlICE9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICBfLmZhZGVTbGlkZU91dChvbGRTbGlkZSk7XG5cbiAgICAgICAgICAgICAgICBfLmZhZGVTbGlkZShhbmltU2xpZGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfLnBvc3RTbGlkZShhbmltU2xpZGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKGFuaW1TbGlkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfLmFuaW1hdGVIZWlnaHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb250QW5pbWF0ZSAhPT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICBfLmFuaW1hdGVTbGlkZSh0YXJnZXRMZWZ0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfLnBvc3RTbGlkZShhbmltU2xpZGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLnBvc3RTbGlkZShhbmltU2xpZGUpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFycm93cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgIF8uJHByZXZBcnJvdy5oaWRlKCk7XG4gICAgICAgICAgICBfLiRuZXh0QXJyb3cuaGlkZSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmRvdHMgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICBfLiRkb3RzLmhpZGUoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVyLmFkZENsYXNzKCdzbGljay1sb2FkaW5nJyk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN3aXBlRGlyZWN0aW9uID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHhEaXN0LCB5RGlzdCwgciwgc3dpcGVBbmdsZSwgXyA9IHRoaXM7XG5cbiAgICAgICAgeERpc3QgPSBfLnRvdWNoT2JqZWN0LnN0YXJ0WCAtIF8udG91Y2hPYmplY3QuY3VyWDtcbiAgICAgICAgeURpc3QgPSBfLnRvdWNoT2JqZWN0LnN0YXJ0WSAtIF8udG91Y2hPYmplY3QuY3VyWTtcbiAgICAgICAgciA9IE1hdGguYXRhbjIoeURpc3QsIHhEaXN0KTtcblxuICAgICAgICBzd2lwZUFuZ2xlID0gTWF0aC5yb3VuZChyICogMTgwIC8gTWF0aC5QSSk7XG4gICAgICAgIGlmIChzd2lwZUFuZ2xlIDwgMCkge1xuICAgICAgICAgICAgc3dpcGVBbmdsZSA9IDM2MCAtIE1hdGguYWJzKHN3aXBlQW5nbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChzd2lwZUFuZ2xlIDw9IDQ1KSAmJiAoc3dpcGVBbmdsZSA+PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIChfLm9wdGlvbnMucnRsID09PSBmYWxzZSA/ICdsZWZ0JyA6ICdyaWdodCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc3dpcGVBbmdsZSA8PSAzNjApICYmIChzd2lwZUFuZ2xlID49IDMxNSkpIHtcbiAgICAgICAgICAgIHJldHVybiAoXy5vcHRpb25zLnJ0bCA9PT0gZmFsc2UgPyAnbGVmdCcgOiAncmlnaHQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHN3aXBlQW5nbGUgPj0gMTM1KSAmJiAoc3dpcGVBbmdsZSA8PSAyMjUpKSB7XG4gICAgICAgICAgICByZXR1cm4gKF8ub3B0aW9ucy5ydGwgPT09IGZhbHNlID8gJ3JpZ2h0JyA6ICdsZWZ0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmICgoc3dpcGVBbmdsZSA+PSAzNSkgJiYgKHN3aXBlQW5nbGUgPD0gMTM1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnZG93bic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAndXAnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICd2ZXJ0aWNhbCc7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN3aXBlRW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBzbGlkZUNvdW50LFxuICAgICAgICAgICAgZGlyZWN0aW9uO1xuXG4gICAgICAgIF8uZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgXy5zd2lwaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKF8uc2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICBfLnNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5pbnRlcnJ1cHRlZCA9IGZhbHNlO1xuICAgICAgICBfLnNob3VsZENsaWNrID0gKCBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID4gMTAgKSA/IGZhbHNlIDogdHJ1ZTtcblxuICAgICAgICBpZiAoIF8udG91Y2hPYmplY3QuY3VyWCA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLnRvdWNoT2JqZWN0LmVkZ2VIaXQgPT09IHRydWUgKSB7XG4gICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignZWRnZScsIFtfLCBfLnN3aXBlRGlyZWN0aW9uKCkgXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGggPj0gXy50b3VjaE9iamVjdC5taW5Td2lwZSApIHtcblxuICAgICAgICAgICAgZGlyZWN0aW9uID0gXy5zd2lwZURpcmVjdGlvbigpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCBkaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdkb3duJzpcblxuICAgICAgICAgICAgICAgICAgICBzbGlkZUNvdW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5zd2lwZVRvU2xpZGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uY2hlY2tOYXZpZ2FibGUoIF8uY3VycmVudFNsaWRlICsgXy5nZXRTbGlkZUNvdW50KCkgKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgKyBfLmdldFNsaWRlQ291bnQoKTtcblxuICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnREaXJlY3Rpb24gPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3VwJzpcblxuICAgICAgICAgICAgICAgICAgICBzbGlkZUNvdW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5zd2lwZVRvU2xpZGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uY2hlY2tOYXZpZ2FibGUoIF8uY3VycmVudFNsaWRlIC0gXy5nZXRTbGlkZUNvdW50KCkgKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgLSBfLmdldFNsaWRlQ291bnQoKTtcblxuICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnREaXJlY3Rpb24gPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcblxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCBkaXJlY3Rpb24gIT0gJ3ZlcnRpY2FsJyApIHtcblxuICAgICAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKCBzbGlkZUNvdW50ICk7XG4gICAgICAgICAgICAgICAgXy50b3VjaE9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdzd2lwZScsIFtfLCBkaXJlY3Rpb24gXSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoIF8udG91Y2hPYmplY3Quc3RhcnRYICE9PSBfLnRvdWNoT2JqZWN0LmN1clggKSB7XG5cbiAgICAgICAgICAgICAgICBfLnNsaWRlSGFuZGxlciggXy5jdXJyZW50U2xpZGUgKTtcbiAgICAgICAgICAgICAgICBfLnRvdWNoT2JqZWN0ID0ge307XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN3aXBlSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICgoXy5vcHRpb25zLnN3aXBlID09PSBmYWxzZSkgfHwgKCdvbnRvdWNoZW5kJyBpbiBkb2N1bWVudCAmJiBfLm9wdGlvbnMuc3dpcGUgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKF8ub3B0aW9ucy5kcmFnZ2FibGUgPT09IGZhbHNlICYmIGV2ZW50LnR5cGUuaW5kZXhPZignbW91c2UnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF8udG91Y2hPYmplY3QuZmluZ2VyQ291bnQgPSBldmVudC5vcmlnaW5hbEV2ZW50ICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGggOiAxO1xuXG4gICAgICAgIF8udG91Y2hPYmplY3QubWluU3dpcGUgPSBfLmxpc3RXaWR0aCAvIF8ub3B0aW9uc1xuICAgICAgICAgICAgLnRvdWNoVGhyZXNob2xkO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWxTd2lwaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLnRvdWNoT2JqZWN0Lm1pblN3aXBlID0gXy5saXN0SGVpZ2h0IC8gXy5vcHRpb25zXG4gICAgICAgICAgICAgICAgLnRvdWNoVGhyZXNob2xkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChldmVudC5kYXRhLmFjdGlvbikge1xuXG4gICAgICAgICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgICAgICAgICAgXy5zd2lwZVN0YXJ0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnbW92ZSc6XG4gICAgICAgICAgICAgICAgXy5zd2lwZU1vdmUoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdlbmQnOlxuICAgICAgICAgICAgICAgIF8uc3dpcGVFbmQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc3dpcGVNb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBlZGdlV2FzSGl0ID0gZmFsc2UsXG4gICAgICAgICAgICBjdXJMZWZ0LCBzd2lwZURpcmVjdGlvbiwgc3dpcGVMZW5ndGgsIHBvc2l0aW9uT2Zmc2V0LCB0b3VjaGVzLCB2ZXJ0aWNhbFN3aXBlTGVuZ3RoO1xuXG4gICAgICAgIHRvdWNoZXMgPSBldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQgPyBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgOiBudWxsO1xuXG4gICAgICAgIGlmICghXy5kcmFnZ2luZyB8fCBfLnNjcm9sbGluZyB8fCB0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJMZWZ0ID0gXy5nZXRMZWZ0KF8uY3VycmVudFNsaWRlKTtcblxuICAgICAgICBfLnRvdWNoT2JqZWN0LmN1clggPSB0b3VjaGVzICE9PSB1bmRlZmluZWQgPyB0b3VjaGVzWzBdLnBhZ2VYIDogZXZlbnQuY2xpZW50WDtcbiAgICAgICAgXy50b3VjaE9iamVjdC5jdXJZID0gdG91Y2hlcyAhPT0gdW5kZWZpbmVkID8gdG91Y2hlc1swXS5wYWdlWSA6IGV2ZW50LmNsaWVudFk7XG5cbiAgICAgICAgXy50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KFxuICAgICAgICAgICAgTWF0aC5wb3coXy50b3VjaE9iamVjdC5jdXJYIC0gXy50b3VjaE9iamVjdC5zdGFydFgsIDIpKSk7XG5cbiAgICAgICAgdmVydGljYWxTd2lwZUxlbmd0aCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KFxuICAgICAgICAgICAgTWF0aC5wb3coXy50b3VjaE9iamVjdC5jdXJZIC0gXy50b3VjaE9iamVjdC5zdGFydFksIDIpKSk7XG5cbiAgICAgICAgaWYgKCFfLm9wdGlvbnMudmVydGljYWxTd2lwaW5nICYmICFfLnN3aXBpbmcgJiYgdmVydGljYWxTd2lwZUxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgIF8uc2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWxTd2lwaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID0gdmVydGljYWxTd2lwZUxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXBlRGlyZWN0aW9uID0gXy5zd2lwZURpcmVjdGlvbigpO1xuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQgJiYgXy50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgIF8uc3dpcGluZyA9IHRydWU7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9zaXRpb25PZmZzZXQgPSAoXy5vcHRpb25zLnJ0bCA9PT0gZmFsc2UgPyAxIDogLTEpICogKF8udG91Y2hPYmplY3QuY3VyWCA+IF8udG91Y2hPYmplY3Quc3RhcnRYID8gMSA6IC0xKTtcbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uT2Zmc2V0ID0gXy50b3VjaE9iamVjdC5jdXJZID4gXy50b3VjaE9iamVjdC5zdGFydFkgPyAxIDogLTE7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHN3aXBlTGVuZ3RoID0gXy50b3VjaE9iamVjdC5zd2lwZUxlbmd0aDtcblxuICAgICAgICBfLnRvdWNoT2JqZWN0LmVkZ2VIaXQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKChfLmN1cnJlbnRTbGlkZSA9PT0gMCAmJiBzd2lwZURpcmVjdGlvbiA9PT0gJ3JpZ2h0JykgfHwgKF8uY3VycmVudFNsaWRlID49IF8uZ2V0RG90Q291bnQoKSAmJiBzd2lwZURpcmVjdGlvbiA9PT0gJ2xlZnQnKSkge1xuICAgICAgICAgICAgICAgIHN3aXBlTGVuZ3RoID0gXy50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCAqIF8ub3B0aW9ucy5lZGdlRnJpY3Rpb247XG4gICAgICAgICAgICAgICAgXy50b3VjaE9iamVjdC5lZGdlSGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLnN3aXBlTGVmdCA9IGN1ckxlZnQgKyBzd2lwZUxlbmd0aCAqIHBvc2l0aW9uT2Zmc2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXy5zd2lwZUxlZnQgPSBjdXJMZWZ0ICsgKHN3aXBlTGVuZ3RoICogKF8uJGxpc3QuaGVpZ2h0KCkgLyBfLmxpc3RXaWR0aCkpICogcG9zaXRpb25PZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uc3dpcGVMZWZ0ID0gY3VyTGVmdCArIHN3aXBlTGVuZ3RoICogcG9zaXRpb25PZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IHRydWUgfHwgXy5vcHRpb25zLnRvdWNoTW92ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLmFuaW1hdGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5zd2lwZUxlZnQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5zZXRDU1MoXy5zd2lwZUxlZnQpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zd2lwZVN0YXJ0ID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICB0b3VjaGVzO1xuXG4gICAgICAgIF8uaW50ZXJydXB0ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChfLnRvdWNoT2JqZWN0LmZpbmdlckNvdW50ICE9PSAxIHx8IF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICBfLnRvdWNoT2JqZWN0ID0ge307XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgXy50b3VjaE9iamVjdC5zdGFydFggPSBfLnRvdWNoT2JqZWN0LmN1clggPSB0b3VjaGVzICE9PSB1bmRlZmluZWQgPyB0b3VjaGVzLnBhZ2VYIDogZXZlbnQuY2xpZW50WDtcbiAgICAgICAgXy50b3VjaE9iamVjdC5zdGFydFkgPSBfLnRvdWNoT2JqZWN0LmN1clkgPSB0b3VjaGVzICE9PSB1bmRlZmluZWQgPyB0b3VjaGVzLnBhZ2VZIDogZXZlbnQuY2xpZW50WTtcblxuICAgICAgICBfLmRyYWdnaW5nID0gdHJ1ZTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudW5maWx0ZXJTbGlkZXMgPSBTbGljay5wcm90b3R5cGUuc2xpY2tVbmZpbHRlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy4kc2xpZGVzQ2FjaGUgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgXy51bmxvYWQoKTtcblxuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZXNDYWNoZS5hcHBlbmRUbyhfLiRzbGlkZVRyYWNrKTtcblxuICAgICAgICAgICAgXy5yZWluaXQoKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICAkKCcuc2xpY2stY2xvbmVkJywgXy4kc2xpZGVyKS5yZW1vdmUoKTtcblxuICAgICAgICBpZiAoXy4kZG90cykge1xuICAgICAgICAgICAgXy4kZG90cy5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLiRwcmV2QXJyb3cgJiYgXy5odG1sRXhwci50ZXN0KF8ub3B0aW9ucy5wcmV2QXJyb3cpKSB7XG4gICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy4kbmV4dEFycm93ICYmIF8uaHRtbEV4cHIudGVzdChfLm9wdGlvbnMubmV4dEFycm93KSkge1xuICAgICAgICAgICAgXy4kbmV4dEFycm93LnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVzXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLXNsaWRlIHNsaWNrLWFjdGl2ZSBzbGljay12aXNpYmxlIHNsaWNrLWN1cnJlbnQnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuICAgICAgICAgICAgLmNzcygnd2lkdGgnLCAnJyk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnVuc2xpY2sgPSBmdW5jdGlvbihmcm9tQnJlYWtwb2ludCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcbiAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ3Vuc2xpY2snLCBbXywgZnJvbUJyZWFrcG9pbnRdKTtcbiAgICAgICAgXy5kZXN0cm95KCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnVwZGF0ZUFycm93cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGNlbnRlck9mZnNldDtcblxuICAgICAgICBjZW50ZXJPZmZzZXQgPSBNYXRoLmZsb29yKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKTtcblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5hcnJvd3MgPT09IHRydWUgJiZcbiAgICAgICAgICAgIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiZcbiAgICAgICAgICAgICFfLm9wdGlvbnMuaW5maW5pdGUgKSB7XG5cbiAgICAgICAgICAgIF8uJHByZXZBcnJvdy5yZW1vdmVDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICBfLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuXG4gICAgICAgICAgICBpZiAoXy5jdXJyZW50U2xpZGUgPT09IDApIHtcblxuICAgICAgICAgICAgICAgIF8uJHByZXZBcnJvdy5hZGRDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICBfLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uY3VycmVudFNsaWRlID49IF8uc2xpZGVDb3VudCAtIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgICAgICBfLiRuZXh0QXJyb3cuYWRkQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgXy4kcHJldkFycm93LnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChfLmN1cnJlbnRTbGlkZSA+PSBfLnNsaWRlQ291bnQgLSAxICYmIF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICBfLiRuZXh0QXJyb3cuYWRkQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgXy4kcHJldkFycm93LnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudXBkYXRlRG90cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy4kZG90cyAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICBfLiRkb3RzXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2xpJylcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAuZW5kKCk7XG5cbiAgICAgICAgICAgIF8uJGRvdHNcbiAgICAgICAgICAgICAgICAuZmluZCgnbGknKVxuICAgICAgICAgICAgICAgIC5lcShNYXRoLmZsb29yKF8uY3VycmVudFNsaWRlIC8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudmlzaWJpbGl0eSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5hdXRvcGxheSApIHtcblxuICAgICAgICAgICAgaWYgKCBkb2N1bWVudFtfLmhpZGRlbl0gKSB7XG5cbiAgICAgICAgICAgICAgICBfLmludGVycnVwdGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIF8uaW50ZXJydXB0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAkLmZuLnNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIG9wdCA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgbCA9IF8ubGVuZ3RoLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHJldDtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHQgPT0gJ29iamVjdCcgfHwgdHlwZW9mIG9wdCA9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICBfW2ldLnNsaWNrID0gbmV3IFNsaWNrKF9baV0sIG9wdCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0ID0gX1tpXS5zbGlja1tvcHRdLmFwcGx5KF9baV0uc2xpY2ssIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXQgIT0gJ3VuZGVmaW5lZCcpIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF87XG4gICAgfTtcblxufSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/slick-carousel/slick/slick.js\n");

/***/ }),

/***/ "./node_modules/zurb-twentytwenty/js/jquery.event.move.js":
/*!****************************************************************!*\
  !*** ./node_modules/zurb-twentytwenty/js/jquery.event.move.js ***!
  \****************************************************************/
/***/ ((module, exports) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// DOM.event.move\n//\n// 2.0.0\n//\n// Stephen Band\n//\n// Triggers 'movestart', 'move' and 'moveend' events after\n// mousemoves following a mousedown cross a distance threshold,\n// similar to the native 'dragstart', 'drag' and 'dragend' events.\n// Move events are throttled to animation frames. Move event objects\n// have the properties:\n//\n// pageX:\n// pageY:     Page coordinates of pointer.\n// startX:\n// startY:    Page coordinates of pointer at movestart.\n// distX:\n// distY:     Distance the pointer has moved since movestart.\n// deltaX:\n// deltaY:    Distance the finger has moved since last event.\n// velocityX:\n// velocityY: Average velocity over last few events.\n\n\n(function(fn) {\n\tif (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (fn),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n})(function(){\n\tvar assign = Object.assign || window.jQuery && jQuery.extend;\n\n\t// Number of pixels a pressed pointer travels before movestart\n\t// event is fired.\n\tvar threshold = 8;\n\n\t// Shim for requestAnimationFrame, falling back to timer. See:\n\t// see http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n\tvar requestFrame = (function(){\n\t\treturn (\n\t\t\twindow.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\tfunction(fn, element){\n\t\t\t\treturn window.setTimeout(function(){\n\t\t\t\t\tfn();\n\t\t\t\t}, 25);\n\t\t\t}\n\t\t);\n\t})();\n\t\n\t// Shim for customEvent\n\t// see https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill\n\t(function () {\n\t\tif ( typeof window.CustomEvent === \"function\" ) return false;\n\t\tfunction CustomEvent ( event, params ) {\n\t\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\t\tvar evt = document.createEvent( 'CustomEvent' );\n\t\t\tevt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n\t\t\treturn evt;\n\t\t}\n\t\t\n\t\tCustomEvent.prototype = window.Event.prototype;\n\t\twindow.CustomEvent = CustomEvent;\n\t})();\n\n\tvar ignoreTags = {\n\t\t\ttextarea: true,\n\t\t\tinput: true,\n\t\t\tselect: true,\n\t\t\tbutton: true\n\t\t};\n\n\tvar mouseevents = {\n\t\tmove:   'mousemove',\n\t\tcancel: 'mouseup dragstart',\n\t\tend:    'mouseup'\n\t};\n\n\tvar touchevents = {\n\t\tmove:   'touchmove',\n\t\tcancel: 'touchend',\n\t\tend:    'touchend'\n\t};\n\n\tvar rspaces = /\\s+/;\n\n\n\t// DOM Events\n\n\tvar eventOptions = { bubbles: true, cancelable: true };\n\n\tvar eventsSymbol = typeof Symbol === \"function\" ? Symbol('events') : {};\n\n\tfunction createEvent(type) {\n\t\treturn new CustomEvent(type, eventOptions);\n\t}\n\n\tfunction getEvents(node) {\n\t\treturn node[eventsSymbol] || (node[eventsSymbol] = {});\n\t}\n\n\tfunction on(node, types, fn, data, selector) {\n\t\ttypes = types.split(rspaces);\n\n\t\tvar events = getEvents(node);\n\t\tvar i = types.length;\n\t\tvar handlers, type;\n\n\t\tfunction handler(e) { fn(e, data); }\n\n\t\twhile (i--) {\n\t\t\ttype = types[i];\n\t\t\thandlers = events[type] || (events[type] = []);\n\t\t\thandlers.push([fn, handler]);\n\t\t\tnode.addEventListener(type, handler);\n\t\t}\n\t}\n\n\tfunction off(node, types, fn, selector) {\n\t\ttypes = types.split(rspaces);\n\n\t\tvar events = getEvents(node);\n\t\tvar i = types.length;\n\t\tvar type, handlers, k;\n\n\t\tif (!events) { return; }\n\n\t\twhile (i--) {\n\t\t\ttype = types[i];\n\t\t\thandlers = events[type];\n\t\t\tif (!handlers) { continue; }\n\t\t\tk = handlers.length;\n\t\t\twhile (k--) {\n\t\t\t\tif (handlers[k][0] === fn) {\n\t\t\t\t\tnode.removeEventListener(type, handlers[k][1]);\n\t\t\t\t\thandlers.splice(k, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction trigger(node, type, properties) {\n\t\t// Don't cache events. It prevents you from triggering an event of a\n\t\t// given type from inside the handler of another event of that type.\n\t\tvar event = createEvent(type);\n\t\tif (properties) { assign(event, properties); }\n\t\tnode.dispatchEvent(event);\n\t}\n\n\n\t// Constructors\n\n\tfunction Timer(fn){\n\t\tvar callback = fn,\n\t\t    active = false,\n\t\t    running = false;\n\n\t\tfunction trigger(time) {\n\t\t\tif (active){\n\t\t\t\tcallback();\n\t\t\t\trequestFrame(trigger);\n\t\t\t\trunning = true;\n\t\t\t\tactive = false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\n\t\tthis.kick = function(fn) {\n\t\t\tactive = true;\n\t\t\tif (!running) { trigger(); }\n\t\t};\n\n\t\tthis.end = function(fn) {\n\t\t\tvar cb = callback;\n\n\t\t\tif (!fn) { return; }\n\n\t\t\t// If the timer is not running, simply call the end callback.\n\t\t\tif (!running) {\n\t\t\t\tfn();\n\t\t\t}\n\t\t\t// If the timer is running, and has been kicked lately, then\n\t\t\t// queue up the current callback and the end callback, otherwise\n\t\t\t// just the end callback.\n\t\t\telse {\n\t\t\t\tcallback = active ?\n\t\t\t\t\tfunction(){ cb(); fn(); } :\n\t\t\t\t\tfn ;\n\n\t\t\t\tactive = true;\n\t\t\t}\n\t\t};\n\t}\n\n\n\t// Functions\n\n\tfunction noop() {}\n\n\tfunction preventDefault(e) {\n\t\te.preventDefault();\n\t}\n\n\tfunction isIgnoreTag(e) {\n\t\treturn !!ignoreTags[e.target.tagName.toLowerCase()];\n\t}\n\n\tfunction isPrimaryButton(e) {\n\t\t// Ignore mousedowns on any button other than the left (or primary)\n\t\t// mouse button, or when a modifier key is pressed.\n\t\treturn (e.which === 1 && !e.ctrlKey && !e.altKey);\n\t}\n\n\tfunction identifiedTouch(touchList, id) {\n\t\tvar i, l;\n\n\t\tif (touchList.identifiedTouch) {\n\t\t\treturn touchList.identifiedTouch(id);\n\t\t}\n\n\t\t// touchList.identifiedTouch() does not exist in\n\t\t// webkit yet we must do the search ourselves...\n\n\t\ti = -1;\n\t\tl = touchList.length;\n\n\t\twhile (++i < l) {\n\t\t\tif (touchList[i].identifier === id) {\n\t\t\t\treturn touchList[i];\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction changedTouch(e, data) {\n\t\tvar touch = identifiedTouch(e.changedTouches, data.identifier);\n\n\t\t// This isn't the touch you're looking for.\n\t\tif (!touch) { return; }\n\n\t\t// Chrome Android (at least) includes touches that have not\n\t\t// changed in e.changedTouches. That's a bit annoying. Check\n\t\t// that this touch has changed.\n\t\tif (touch.pageX === data.pageX && touch.pageY === data.pageY) { return; }\n\n\t\treturn touch;\n\t}\n\n\n\t// Handlers that decide when the first movestart is triggered\n\n\tfunction mousedown(e){\n\t\t// Ignore non-primary buttons\n\t\tif (!isPrimaryButton(e)) { return; }\n\n\t\t// Ignore form and interactive elements\n\t\tif (isIgnoreTag(e)) { return; }\n\n\t\ton(document, mouseevents.move, mousemove, e);\n\t\ton(document, mouseevents.cancel, mouseend, e);\n\t}\n\n\tfunction mousemove(e, data){\n\t\tcheckThreshold(e, data, e, removeMouse);\n\t}\n\n\tfunction mouseend(e, data) {\n\t\tremoveMouse();\n\t}\n\n\tfunction removeMouse() {\n\t\toff(document, mouseevents.move, mousemove);\n\t\toff(document, mouseevents.cancel, mouseend);\n\t}\n\n\tfunction touchstart(e) {\n\t\t// Don't get in the way of interaction with form elements\n\t\tif (ignoreTags[e.target.tagName.toLowerCase()]) { return; }\n\n\t\tvar touch = e.changedTouches[0];\n\n\t\t// iOS live updates the touch objects whereas Android gives us copies.\n\t\t// That means we can't trust the touchstart object to stay the same,\n\t\t// so we must copy the data. This object acts as a template for\n\t\t// movestart, move and moveend event objects.\n\t\tvar data = {\n\t\t\ttarget:     touch.target,\n\t\t\tpageX:      touch.pageX,\n\t\t\tpageY:      touch.pageY,\n\t\t\tidentifier: touch.identifier,\n\n\t\t\t// The only way to make handlers individually unbindable is by\n\t\t\t// making them unique.\n\t\t\ttouchmove:  function(e, data) { touchmove(e, data); },\n\t\t\ttouchend:   function(e, data) { touchend(e, data); }\n\t\t};\n\n\t\ton(document, touchevents.move, data.touchmove, data);\n\t\ton(document, touchevents.cancel, data.touchend, data);\n\t}\n\n\tfunction touchmove(e, data) {\n\t\tvar touch = changedTouch(e, data);\n\t\tif (!touch) { return; }\n\t\tcheckThreshold(e, data, touch, removeTouch);\n\t}\n\n\tfunction touchend(e, data) {\n\t\tvar touch = identifiedTouch(e.changedTouches, data.identifier);\n\t\tif (!touch) { return; }\n\t\tremoveTouch(data);\n\t}\n\n\tfunction removeTouch(data) {\n\t\toff(document, touchevents.move, data.touchmove);\n\t\toff(document, touchevents.cancel, data.touchend);\n\t}\n\n\tfunction checkThreshold(e, data, touch, fn) {\n\t\tvar distX = touch.pageX - data.pageX;\n\t\tvar distY = touch.pageY - data.pageY;\n\n\t\t// Do nothing if the threshold has not been crossed.\n\t\tif ((distX * distX) + (distY * distY) < (threshold * threshold)) { return; }\n\n\t\ttriggerStart(e, data, touch, distX, distY, fn);\n\t}\n\n\tfunction triggerStart(e, data, touch, distX, distY, fn) {\n\t\tvar touches = e.targetTouches;\n\t\tvar time = e.timeStamp - data.timeStamp;\n\n\t\t// Create a movestart object with some special properties that\n\t\t// are passed only to the movestart handlers.\n\t\tvar template = {\n\t\t\taltKey:     e.altKey,\n\t\t\tctrlKey:    e.ctrlKey,\n\t\t\tshiftKey:   e.shiftKey,\n\t\t\tstartX:     data.pageX,\n\t\t\tstartY:     data.pageY,\n\t\t\tdistX:      distX,\n\t\t\tdistY:      distY,\n\t\t\tdeltaX:     distX,\n\t\t\tdeltaY:     distY,\n\t\t\tpageX:      touch.pageX,\n\t\t\tpageY:      touch.pageY,\n\t\t\tvelocityX:  distX / time,\n\t\t\tvelocityY:  distY / time,\n\t\t\tidentifier: data.identifier,\n\t\t\ttargetTouches: touches,\n\t\t\tfinger: touches ? touches.length : 1,\n\t\t\tenableMove: function() {\n\t\t\t\tthis.moveEnabled = true;\n\t\t\t\tthis.enableMove = noop;\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t};\n\n\t\t// Trigger the movestart event.\n\t\ttrigger(data.target, 'movestart', template);\n\n\t\t// Unbind handlers that tracked the touch or mouse up till now.\n\t\tfn(data);\n\t}\n\n\n\t// Handlers that control what happens following a movestart\n\n\tfunction activeMousemove(e, data) {\n\t\tvar timer  = data.timer;\n\n\t\tdata.touch = e;\n\t\tdata.timeStamp = e.timeStamp;\n\t\ttimer.kick();\n\t}\n\n\tfunction activeMouseend(e, data) {\n\t\tvar target = data.target;\n\t\tvar event  = data.event;\n\t\tvar timer  = data.timer;\n\n\t\tremoveActiveMouse();\n\n\t\tendEvent(target, event, timer, function() {\n\t\t\t// Unbind the click suppressor, waiting until after mouseup\n\t\t\t// has been handled.\n\t\t\tsetTimeout(function(){\n\t\t\t\toff(target, 'click', preventDefault);\n\t\t\t}, 0);\n\t\t});\n\t}\n\n\tfunction removeActiveMouse() {\n\t\toff(document, mouseevents.move, activeMousemove);\n\t\toff(document, mouseevents.end, activeMouseend);\n\t}\n\n\tfunction activeTouchmove(e, data) {\n\t\tvar event = data.event;\n\t\tvar timer = data.timer;\n\t\tvar touch = changedTouch(e, event);\n\n\t\tif (!touch) { return; }\n\n\t\t// Stop the interface from gesturing\n\t\te.preventDefault();\n\n\t\tevent.targetTouches = e.targetTouches;\n\t\tdata.touch = touch;\n\t\tdata.timeStamp = e.timeStamp;\n\n\t\ttimer.kick();\n\t}\n\n\tfunction activeTouchend(e, data) {\n\t\tvar target = data.target;\n\t\tvar event  = data.event;\n\t\tvar timer  = data.timer;\n\t\tvar touch  = identifiedTouch(e.changedTouches, event.identifier);\n\n\t\t// This isn't the touch you're looking for.\n\t\tif (!touch) { return; }\n\n\t\tremoveActiveTouch(data);\n\t\tendEvent(target, event, timer);\n\t}\n\n\tfunction removeActiveTouch(data) {\n\t\toff(document, touchevents.move, data.activeTouchmove);\n\t\toff(document, touchevents.end, data.activeTouchend);\n\t}\n\n\n\t// Logic for triggering move and moveend events\n\n\tfunction updateEvent(event, touch, timeStamp) {\n\t\tvar time = timeStamp - event.timeStamp;\n\n\t\tevent.distX =  touch.pageX - event.startX;\n\t\tevent.distY =  touch.pageY - event.startY;\n\t\tevent.deltaX = touch.pageX - event.pageX;\n\t\tevent.deltaY = touch.pageY - event.pageY;\n\n\t\t// Average the velocity of the last few events using a decay\n\t\t// curve to even out spurious jumps in values.\n\t\tevent.velocityX = 0.3 * event.velocityX + 0.7 * event.deltaX / time;\n\t\tevent.velocityY = 0.3 * event.velocityY + 0.7 * event.deltaY / time;\n\t\tevent.pageX =  touch.pageX;\n\t\tevent.pageY =  touch.pageY;\n\t}\n\n\tfunction endEvent(target, event, timer, fn) {\n\t\ttimer.end(function(){\n\t\t\ttrigger(target, 'moveend', event);\n\t\t\treturn fn && fn();\n\t\t});\n\t}\n\n\n\t// Set up the DOM\n\n\tfunction movestart(e) {\n\t\tif (e.defaultPrevented) { return; }\n\t\tif (!e.moveEnabled) { return; }\n\n\t\tvar event = {\n\t\t\tstartX:        e.startX,\n\t\t\tstartY:        e.startY,\n\t\t\tpageX:         e.pageX,\n\t\t\tpageY:         e.pageY,\n\t\t\tdistX:         e.distX,\n\t\t\tdistY:         e.distY,\n\t\t\tdeltaX:        e.deltaX,\n\t\t\tdeltaY:        e.deltaY,\n\t\t\tvelocityX:     e.velocityX,\n\t\t\tvelocityY:     e.velocityY,\n\t\t\tidentifier:    e.identifier,\n\t\t\ttargetTouches: e.targetTouches,\n\t\t\tfinger:        e.finger\n\t\t};\n\n\t\tvar data = {\n\t\t\ttarget:    e.target,\n\t\t\tevent:     event,\n\t\t\ttimer:     new Timer(update),\n\t\t\ttouch:     undefined,\n\t\t\ttimeStamp: e.timeStamp\n\t\t};\n\n\t\tfunction update(time) {\n\t\t\tupdateEvent(event, data.touch, data.timeStamp);\n\t\t\ttrigger(data.target, 'move', event);\n\t\t}\n\n\t\tif (e.identifier === undefined) {\n\t\t\t// We're dealing with a mouse event.\n\t\t\t// Stop clicks from propagating during a move\n\t\t\ton(e.target, 'click', preventDefault);\n\t\t\ton(document, mouseevents.move, activeMousemove, data);\n\t\t\ton(document, mouseevents.end, activeMouseend, data);\n\t\t}\n\t\telse {\n\t\t\t// In order to unbind correct handlers they have to be unique\n\t\t\tdata.activeTouchmove = function(e, data) { activeTouchmove(e, data); };\n\t\t\tdata.activeTouchend = function(e, data) { activeTouchend(e, data); };\n\n\t\t\t// We're dealing with a touch.\n\t\t\ton(document, touchevents.move, data.activeTouchmove, data);\n\t\t\ton(document, touchevents.end, data.activeTouchend, data);\n\t\t}\n\t}\n\n\ton(document, 'mousedown', mousedown);\n\ton(document, 'touchstart', touchstart);\n\ton(document, 'movestart', movestart);\n\n\n\t// jQuery special events\n\t//\n\t// jQuery event objects are copies of DOM event objects. They need\n\t// a little help copying the move properties across.\n\n\tif (!window.jQuery) { return; }\n\n\tvar properties = (\"startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY\").split(' ');\n\n\tfunction enableMove1(e) { e.enableMove(); }\n\tfunction enableMove2(e) { e.enableMove(); }\n\tfunction enableMove3(e) { e.enableMove(); }\n\n\tfunction add(handleObj) {\n\t\tvar handler = handleObj.handler;\n\n\t\thandleObj.handler = function(e) {\n\t\t\t// Copy move properties across from originalEvent\n\t\t\tvar i = properties.length;\n\t\t\tvar property;\n\n\t\t\twhile(i--) {\n\t\t\t\tproperty = properties[i];\n\t\t\t\te[property] = e.originalEvent[property];\n\t\t\t}\n\n\t\t\thandler.apply(this, arguments);\n\t\t};\n\t}\n\n\tjQuery.event.special.movestart = {\n\t\tsetup: function() {\n\t\t\t// Movestart must be enabled to allow other move events\n\t\t\ton(this, 'movestart', enableMove1);\n\n\t\t\t// Do listen to DOM events\n\t\t\treturn false;\n\t\t},\n\n\t\tteardown: function() {\n\t\t\toff(this, 'movestart', enableMove1);\n\t\t\treturn false;\n\t\t},\n\n\t\tadd: add\n\t};\n\n\tjQuery.event.special.move = {\n\t\tsetup: function() {\n\t\t\ton(this, 'movestart', enableMove2);\n\t\t\treturn false;\n\t\t},\n\n\t\tteardown: function() {\n\t\t\toff(this, 'movestart', enableMove2);\n\t\t\treturn false;\n\t\t},\n\n\t\tadd: add\n\t};\n\n\tjQuery.event.special.moveend = {\n\t\tsetup: function() {\n\t\t\ton(this, 'movestart', enableMove3);\n\t\t\treturn false;\n\t\t},\n\n\t\tteardown: function() {\n\t\t\toff(this, 'movestart', enableMove3);\n\t\t\treturn false;\n\t\t},\n\n\t\tadd: add\n\t};\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvenVyYi10d2VudHl0d2VudHkvanMvanF1ZXJ5LmV2ZW50Lm1vdmUuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsS0FBSyxJQUEwQztBQUMvQyxRQUFRLGlDQUFPLEVBQUUsb0NBQUUsRUFBRTtBQUFBO0FBQUE7QUFBQSxrR0FBQztBQUN0QixNQUFNLEtBQUssRUFJVDtBQUNGLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQSxzQkFBc0I7O0FBRXRCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVEQUF1RDtBQUN2RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0I7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtB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QTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cC8uL25vZGVfbW9kdWxlcy96dXJiLXR3ZW50eXR3ZW50eS9qcy9qcXVlcnkuZXZlbnQubW92ZS5qcz83YTdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIERPTS5ldmVudC5tb3ZlXG4vL1xuLy8gMi4wLjBcbi8vXG4vLyBTdGVwaGVuIEJhbmRcbi8vXG4vLyBUcmlnZ2VycyAnbW92ZXN0YXJ0JywgJ21vdmUnIGFuZCAnbW92ZWVuZCcgZXZlbnRzIGFmdGVyXG4vLyBtb3VzZW1vdmVzIGZvbGxvd2luZyBhIG1vdXNlZG93biBjcm9zcyBhIGRpc3RhbmNlIHRocmVzaG9sZCxcbi8vIHNpbWlsYXIgdG8gdGhlIG5hdGl2ZSAnZHJhZ3N0YXJ0JywgJ2RyYWcnIGFuZCAnZHJhZ2VuZCcgZXZlbnRzLlxuLy8gTW92ZSBldmVudHMgYXJlIHRocm90dGxlZCB0byBhbmltYXRpb24gZnJhbWVzLiBNb3ZlIGV2ZW50IG9iamVjdHNcbi8vIGhhdmUgdGhlIHByb3BlcnRpZXM6XG4vL1xuLy8gcGFnZVg6XG4vLyBwYWdlWTogICAgIFBhZ2UgY29vcmRpbmF0ZXMgb2YgcG9pbnRlci5cbi8vIHN0YXJ0WDpcbi8vIHN0YXJ0WTogICAgUGFnZSBjb29yZGluYXRlcyBvZiBwb2ludGVyIGF0IG1vdmVzdGFydC5cbi8vIGRpc3RYOlxuLy8gZGlzdFk6ICAgICBEaXN0YW5jZSB0aGUgcG9pbnRlciBoYXMgbW92ZWQgc2luY2UgbW92ZXN0YXJ0LlxuLy8gZGVsdGFYOlxuLy8gZGVsdGFZOiAgICBEaXN0YW5jZSB0aGUgZmluZ2VyIGhhcyBtb3ZlZCBzaW5jZSBsYXN0IGV2ZW50LlxuLy8gdmVsb2NpdHlYOlxuLy8gdmVsb2NpdHlZOiBBdmVyYWdlIHZlbG9jaXR5IG92ZXIgbGFzdCBmZXcgZXZlbnRzLlxuXG5cbihmdW5jdGlvbihmbikge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbXSwgZm4pO1xuICAgIH0gZWxzZSBpZiAoKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlICE9PSBudWxsKSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZuO1xuXHR9IGVsc2Uge1xuXHRcdGZuKCk7XG5cdH1cbn0pKGZ1bmN0aW9uKCl7XG5cdHZhciBhc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IHdpbmRvdy5qUXVlcnkgJiYgalF1ZXJ5LmV4dGVuZDtcblxuXHQvLyBOdW1iZXIgb2YgcGl4ZWxzIGEgcHJlc3NlZCBwb2ludGVyIHRyYXZlbHMgYmVmb3JlIG1vdmVzdGFydFxuXHQvLyBldmVudCBpcyBmaXJlZC5cblx0dmFyIHRocmVzaG9sZCA9IDg7XG5cblx0Ly8gU2hpbSBmb3IgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBmYWxsaW5nIGJhY2sgdG8gdGltZXIuIFNlZTpcblx0Ly8gc2VlIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG5cdHZhciByZXF1ZXN0RnJhbWUgPSAoZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gKFxuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0ZnVuY3Rpb24oZm4sIGVsZW1lbnQpe1xuXHRcdFx0XHRyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRmbigpO1xuXHRcdFx0XHR9LCAyNSk7XG5cdFx0XHR9XG5cdFx0KTtcblx0fSkoKTtcblx0XG5cdC8vIFNoaW0gZm9yIGN1c3RvbUV2ZW50XG5cdC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQvQ3VzdG9tRXZlbnQjUG9seWZpbGxcblx0KGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIiApIHJldHVybiBmYWxzZTtcblx0XHRmdW5jdGlvbiBDdXN0b21FdmVudCAoIGV2ZW50LCBwYXJhbXMgKSB7XG5cdFx0XHRwYXJhbXMgPSBwYXJhbXMgfHwgeyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogdW5kZWZpbmVkIH07XG5cdFx0XHR2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoICdDdXN0b21FdmVudCcgKTtcblx0XHRcdGV2dC5pbml0Q3VzdG9tRXZlbnQoIGV2ZW50LCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWwgKTtcblx0XHRcdHJldHVybiBldnQ7XG5cdFx0fVxuXHRcdFxuXHRcdEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGU7XG5cdFx0d2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG5cdH0pKCk7XG5cblx0dmFyIGlnbm9yZVRhZ3MgPSB7XG5cdFx0XHR0ZXh0YXJlYTogdHJ1ZSxcblx0XHRcdGlucHV0OiB0cnVlLFxuXHRcdFx0c2VsZWN0OiB0cnVlLFxuXHRcdFx0YnV0dG9uOiB0cnVlXG5cdFx0fTtcblxuXHR2YXIgbW91c2VldmVudHMgPSB7XG5cdFx0bW92ZTogICAnbW91c2Vtb3ZlJyxcblx0XHRjYW5jZWw6ICdtb3VzZXVwIGRyYWdzdGFydCcsXG5cdFx0ZW5kOiAgICAnbW91c2V1cCdcblx0fTtcblxuXHR2YXIgdG91Y2hldmVudHMgPSB7XG5cdFx0bW92ZTogICAndG91Y2htb3ZlJyxcblx0XHRjYW5jZWw6ICd0b3VjaGVuZCcsXG5cdFx0ZW5kOiAgICAndG91Y2hlbmQnXG5cdH07XG5cblx0dmFyIHJzcGFjZXMgPSAvXFxzKy87XG5cblxuXHQvLyBET00gRXZlbnRzXG5cblx0dmFyIGV2ZW50T3B0aW9ucyA9IHsgYnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZSB9O1xuXG5cdHZhciBldmVudHNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2woJ2V2ZW50cycpIDoge307XG5cblx0ZnVuY3Rpb24gY3JlYXRlRXZlbnQodHlwZSkge1xuXHRcdHJldHVybiBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgZXZlbnRPcHRpb25zKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldEV2ZW50cyhub2RlKSB7XG5cdFx0cmV0dXJuIG5vZGVbZXZlbnRzU3ltYm9sXSB8fCAobm9kZVtldmVudHNTeW1ib2xdID0ge30pO1xuXHR9XG5cblx0ZnVuY3Rpb24gb24obm9kZSwgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3Rvcikge1xuXHRcdHR5cGVzID0gdHlwZXMuc3BsaXQocnNwYWNlcyk7XG5cblx0XHR2YXIgZXZlbnRzID0gZ2V0RXZlbnRzKG5vZGUpO1xuXHRcdHZhciBpID0gdHlwZXMubGVuZ3RoO1xuXHRcdHZhciBoYW5kbGVycywgdHlwZTtcblxuXHRcdGZ1bmN0aW9uIGhhbmRsZXIoZSkgeyBmbihlLCBkYXRhKTsgfVxuXG5cdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0dHlwZSA9IHR5cGVzW2ldO1xuXHRcdFx0aGFuZGxlcnMgPSBldmVudHNbdHlwZV0gfHwgKGV2ZW50c1t0eXBlXSA9IFtdKTtcblx0XHRcdGhhbmRsZXJzLnB1c2goW2ZuLCBoYW5kbGVyXSk7XG5cdFx0XHRub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gb2ZmKG5vZGUsIHR5cGVzLCBmbiwgc2VsZWN0b3IpIHtcblx0XHR0eXBlcyA9IHR5cGVzLnNwbGl0KHJzcGFjZXMpO1xuXG5cdFx0dmFyIGV2ZW50cyA9IGdldEV2ZW50cyhub2RlKTtcblx0XHR2YXIgaSA9IHR5cGVzLmxlbmd0aDtcblx0XHR2YXIgdHlwZSwgaGFuZGxlcnMsIGs7XG5cblx0XHRpZiAoIWV2ZW50cykgeyByZXR1cm47IH1cblxuXHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdHR5cGUgPSB0eXBlc1tpXTtcblx0XHRcdGhhbmRsZXJzID0gZXZlbnRzW3R5cGVdO1xuXHRcdFx0aWYgKCFoYW5kbGVycykgeyBjb250aW51ZTsgfVxuXHRcdFx0ayA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlIChrLS0pIHtcblx0XHRcdFx0aWYgKGhhbmRsZXJzW2tdWzBdID09PSBmbikge1xuXHRcdFx0XHRcdG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyc1trXVsxXSk7XG5cdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKGssIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdHJpZ2dlcihub2RlLCB0eXBlLCBwcm9wZXJ0aWVzKSB7XG5cdFx0Ly8gRG9uJ3QgY2FjaGUgZXZlbnRzLiBJdCBwcmV2ZW50cyB5b3UgZnJvbSB0cmlnZ2VyaW5nIGFuIGV2ZW50IG9mIGFcblx0XHQvLyBnaXZlbiB0eXBlIGZyb20gaW5zaWRlIHRoZSBoYW5kbGVyIG9mIGFub3RoZXIgZXZlbnQgb2YgdGhhdCB0eXBlLlxuXHRcdHZhciBldmVudCA9IGNyZWF0ZUV2ZW50KHR5cGUpO1xuXHRcdGlmIChwcm9wZXJ0aWVzKSB7IGFzc2lnbihldmVudCwgcHJvcGVydGllcyk7IH1cblx0XHRub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHR9XG5cblxuXHQvLyBDb25zdHJ1Y3RvcnNcblxuXHRmdW5jdGlvbiBUaW1lcihmbil7XG5cdFx0dmFyIGNhbGxiYWNrID0gZm4sXG5cdFx0ICAgIGFjdGl2ZSA9IGZhbHNlLFxuXHRcdCAgICBydW5uaW5nID0gZmFsc2U7XG5cblx0XHRmdW5jdGlvbiB0cmlnZ2VyKHRpbWUpIHtcblx0XHRcdGlmIChhY3RpdmUpe1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRyZXF1ZXN0RnJhbWUodHJpZ2dlcik7XG5cdFx0XHRcdHJ1bm5pbmcgPSB0cnVlO1xuXHRcdFx0XHRhY3RpdmUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5raWNrID0gZnVuY3Rpb24oZm4pIHtcblx0XHRcdGFjdGl2ZSA9IHRydWU7XG5cdFx0XHRpZiAoIXJ1bm5pbmcpIHsgdHJpZ2dlcigpOyB9XG5cdFx0fTtcblxuXHRcdHRoaXMuZW5kID0gZnVuY3Rpb24oZm4pIHtcblx0XHRcdHZhciBjYiA9IGNhbGxiYWNrO1xuXG5cdFx0XHRpZiAoIWZuKSB7IHJldHVybjsgfVxuXG5cdFx0XHQvLyBJZiB0aGUgdGltZXIgaXMgbm90IHJ1bm5pbmcsIHNpbXBseSBjYWxsIHRoZSBlbmQgY2FsbGJhY2suXG5cdFx0XHRpZiAoIXJ1bm5pbmcpIHtcblx0XHRcdFx0Zm4oKTtcblx0XHRcdH1cblx0XHRcdC8vIElmIHRoZSB0aW1lciBpcyBydW5uaW5nLCBhbmQgaGFzIGJlZW4ga2lja2VkIGxhdGVseSwgdGhlblxuXHRcdFx0Ly8gcXVldWUgdXAgdGhlIGN1cnJlbnQgY2FsbGJhY2sgYW5kIHRoZSBlbmQgY2FsbGJhY2ssIG90aGVyd2lzZVxuXHRcdFx0Ly8ganVzdCB0aGUgZW5kIGNhbGxiYWNrLlxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNhbGxiYWNrID0gYWN0aXZlID9cblx0XHRcdFx0XHRmdW5jdGlvbigpeyBjYigpOyBmbigpOyB9IDpcblx0XHRcdFx0XHRmbiA7XG5cblx0XHRcdFx0YWN0aXZlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblxuXHQvLyBGdW5jdGlvbnNcblxuXHRmdW5jdGlvbiBub29wKCkge31cblxuXHRmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNJZ25vcmVUYWcoZSkge1xuXHRcdHJldHVybiAhIWlnbm9yZVRhZ3NbZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzUHJpbWFyeUJ1dHRvbihlKSB7XG5cdFx0Ly8gSWdub3JlIG1vdXNlZG93bnMgb24gYW55IGJ1dHRvbiBvdGhlciB0aGFuIHRoZSBsZWZ0IChvciBwcmltYXJ5KVxuXHRcdC8vIG1vdXNlIGJ1dHRvbiwgb3Igd2hlbiBhIG1vZGlmaWVyIGtleSBpcyBwcmVzc2VkLlxuXHRcdHJldHVybiAoZS53aGljaCA9PT0gMSAmJiAhZS5jdHJsS2V5ICYmICFlLmFsdEtleSk7XG5cdH1cblxuXHRmdW5jdGlvbiBpZGVudGlmaWVkVG91Y2godG91Y2hMaXN0LCBpZCkge1xuXHRcdHZhciBpLCBsO1xuXG5cdFx0aWYgKHRvdWNoTGlzdC5pZGVudGlmaWVkVG91Y2gpIHtcblx0XHRcdHJldHVybiB0b3VjaExpc3QuaWRlbnRpZmllZFRvdWNoKGlkKTtcblx0XHR9XG5cblx0XHQvLyB0b3VjaExpc3QuaWRlbnRpZmllZFRvdWNoKCkgZG9lcyBub3QgZXhpc3QgaW5cblx0XHQvLyB3ZWJraXQgeWV04oCmIHdlIG11c3QgZG8gdGhlIHNlYXJjaCBvdXJzZWx2ZXMuLi5cblxuXHRcdGkgPSAtMTtcblx0XHRsID0gdG91Y2hMaXN0Lmxlbmd0aDtcblxuXHRcdHdoaWxlICgrK2kgPCBsKSB7XG5cdFx0XHRpZiAodG91Y2hMaXN0W2ldLmlkZW50aWZpZXIgPT09IGlkKSB7XG5cdFx0XHRcdHJldHVybiB0b3VjaExpc3RbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gY2hhbmdlZFRvdWNoKGUsIGRhdGEpIHtcblx0XHR2YXIgdG91Y2ggPSBpZGVudGlmaWVkVG91Y2goZS5jaGFuZ2VkVG91Y2hlcywgZGF0YS5pZGVudGlmaWVyKTtcblxuXHRcdC8vIFRoaXMgaXNuJ3QgdGhlIHRvdWNoIHlvdSdyZSBsb29raW5nIGZvci5cblx0XHRpZiAoIXRvdWNoKSB7IHJldHVybjsgfVxuXG5cdFx0Ly8gQ2hyb21lIEFuZHJvaWQgKGF0IGxlYXN0KSBpbmNsdWRlcyB0b3VjaGVzIHRoYXQgaGF2ZSBub3Rcblx0XHQvLyBjaGFuZ2VkIGluIGUuY2hhbmdlZFRvdWNoZXMuIFRoYXQncyBhIGJpdCBhbm5veWluZy4gQ2hlY2tcblx0XHQvLyB0aGF0IHRoaXMgdG91Y2ggaGFzIGNoYW5nZWQuXG5cdFx0aWYgKHRvdWNoLnBhZ2VYID09PSBkYXRhLnBhZ2VYICYmIHRvdWNoLnBhZ2VZID09PSBkYXRhLnBhZ2VZKSB7IHJldHVybjsgfVxuXG5cdFx0cmV0dXJuIHRvdWNoO1xuXHR9XG5cblxuXHQvLyBIYW5kbGVycyB0aGF0IGRlY2lkZSB3aGVuIHRoZSBmaXJzdCBtb3Zlc3RhcnQgaXMgdHJpZ2dlcmVkXG5cblx0ZnVuY3Rpb24gbW91c2Vkb3duKGUpe1xuXHRcdC8vIElnbm9yZSBub24tcHJpbWFyeSBidXR0b25zXG5cdFx0aWYgKCFpc1ByaW1hcnlCdXR0b24oZSkpIHsgcmV0dXJuOyB9XG5cblx0XHQvLyBJZ25vcmUgZm9ybSBhbmQgaW50ZXJhY3RpdmUgZWxlbWVudHNcblx0XHRpZiAoaXNJZ25vcmVUYWcoZSkpIHsgcmV0dXJuOyB9XG5cblx0XHRvbihkb2N1bWVudCwgbW91c2VldmVudHMubW92ZSwgbW91c2Vtb3ZlLCBlKTtcblx0XHRvbihkb2N1bWVudCwgbW91c2VldmVudHMuY2FuY2VsLCBtb3VzZWVuZCwgZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBtb3VzZW1vdmUoZSwgZGF0YSl7XG5cdFx0Y2hlY2tUaHJlc2hvbGQoZSwgZGF0YSwgZSwgcmVtb3ZlTW91c2UpO1xuXHR9XG5cblx0ZnVuY3Rpb24gbW91c2VlbmQoZSwgZGF0YSkge1xuXHRcdHJlbW92ZU1vdXNlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVNb3VzZSgpIHtcblx0XHRvZmYoZG9jdW1lbnQsIG1vdXNlZXZlbnRzLm1vdmUsIG1vdXNlbW92ZSk7XG5cdFx0b2ZmKGRvY3VtZW50LCBtb3VzZWV2ZW50cy5jYW5jZWwsIG1vdXNlZW5kKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRvdWNoc3RhcnQoZSkge1xuXHRcdC8vIERvbid0IGdldCBpbiB0aGUgd2F5IG9mIGludGVyYWN0aW9uIHdpdGggZm9ybSBlbGVtZW50c1xuXHRcdGlmIChpZ25vcmVUYWdzW2UudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKV0pIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgdG91Y2ggPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuXG5cdFx0Ly8gaU9TIGxpdmUgdXBkYXRlcyB0aGUgdG91Y2ggb2JqZWN0cyB3aGVyZWFzIEFuZHJvaWQgZ2l2ZXMgdXMgY29waWVzLlxuXHRcdC8vIFRoYXQgbWVhbnMgd2UgY2FuJ3QgdHJ1c3QgdGhlIHRvdWNoc3RhcnQgb2JqZWN0IHRvIHN0YXkgdGhlIHNhbWUsXG5cdFx0Ly8gc28gd2UgbXVzdCBjb3B5IHRoZSBkYXRhLiBUaGlzIG9iamVjdCBhY3RzIGFzIGEgdGVtcGxhdGUgZm9yXG5cdFx0Ly8gbW92ZXN0YXJ0LCBtb3ZlIGFuZCBtb3ZlZW5kIGV2ZW50IG9iamVjdHMuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHR0YXJnZXQ6ICAgICB0b3VjaC50YXJnZXQsXG5cdFx0XHRwYWdlWDogICAgICB0b3VjaC5wYWdlWCxcblx0XHRcdHBhZ2VZOiAgICAgIHRvdWNoLnBhZ2VZLFxuXHRcdFx0aWRlbnRpZmllcjogdG91Y2guaWRlbnRpZmllcixcblxuXHRcdFx0Ly8gVGhlIG9ubHkgd2F5IHRvIG1ha2UgaGFuZGxlcnMgaW5kaXZpZHVhbGx5IHVuYmluZGFibGUgaXMgYnlcblx0XHRcdC8vIG1ha2luZyB0aGVtIHVuaXF1ZS5cblx0XHRcdHRvdWNobW92ZTogIGZ1bmN0aW9uKGUsIGRhdGEpIHsgdG91Y2htb3ZlKGUsIGRhdGEpOyB9LFxuXHRcdFx0dG91Y2hlbmQ6ICAgZnVuY3Rpb24oZSwgZGF0YSkgeyB0b3VjaGVuZChlLCBkYXRhKTsgfVxuXHRcdH07XG5cblx0XHRvbihkb2N1bWVudCwgdG91Y2hldmVudHMubW92ZSwgZGF0YS50b3VjaG1vdmUsIGRhdGEpO1xuXHRcdG9uKGRvY3VtZW50LCB0b3VjaGV2ZW50cy5jYW5jZWwsIGRhdGEudG91Y2hlbmQsIGRhdGEpO1xuXHR9XG5cblx0ZnVuY3Rpb24gdG91Y2htb3ZlKGUsIGRhdGEpIHtcblx0XHR2YXIgdG91Y2ggPSBjaGFuZ2VkVG91Y2goZSwgZGF0YSk7XG5cdFx0aWYgKCF0b3VjaCkgeyByZXR1cm47IH1cblx0XHRjaGVja1RocmVzaG9sZChlLCBkYXRhLCB0b3VjaCwgcmVtb3ZlVG91Y2gpO1xuXHR9XG5cblx0ZnVuY3Rpb24gdG91Y2hlbmQoZSwgZGF0YSkge1xuXHRcdHZhciB0b3VjaCA9IGlkZW50aWZpZWRUb3VjaChlLmNoYW5nZWRUb3VjaGVzLCBkYXRhLmlkZW50aWZpZXIpO1xuXHRcdGlmICghdG91Y2gpIHsgcmV0dXJuOyB9XG5cdFx0cmVtb3ZlVG91Y2goZGF0YSk7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVUb3VjaChkYXRhKSB7XG5cdFx0b2ZmKGRvY3VtZW50LCB0b3VjaGV2ZW50cy5tb3ZlLCBkYXRhLnRvdWNobW92ZSk7XG5cdFx0b2ZmKGRvY3VtZW50LCB0b3VjaGV2ZW50cy5jYW5jZWwsIGRhdGEudG91Y2hlbmQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hlY2tUaHJlc2hvbGQoZSwgZGF0YSwgdG91Y2gsIGZuKSB7XG5cdFx0dmFyIGRpc3RYID0gdG91Y2gucGFnZVggLSBkYXRhLnBhZ2VYO1xuXHRcdHZhciBkaXN0WSA9IHRvdWNoLnBhZ2VZIC0gZGF0YS5wYWdlWTtcblxuXHRcdC8vIERvIG5vdGhpbmcgaWYgdGhlIHRocmVzaG9sZCBoYXMgbm90IGJlZW4gY3Jvc3NlZC5cblx0XHRpZiAoKGRpc3RYICogZGlzdFgpICsgKGRpc3RZICogZGlzdFkpIDwgKHRocmVzaG9sZCAqIHRocmVzaG9sZCkpIHsgcmV0dXJuOyB9XG5cblx0XHR0cmlnZ2VyU3RhcnQoZSwgZGF0YSwgdG91Y2gsIGRpc3RYLCBkaXN0WSwgZm4pO1xuXHR9XG5cblx0ZnVuY3Rpb24gdHJpZ2dlclN0YXJ0KGUsIGRhdGEsIHRvdWNoLCBkaXN0WCwgZGlzdFksIGZuKSB7XG5cdFx0dmFyIHRvdWNoZXMgPSBlLnRhcmdldFRvdWNoZXM7XG5cdFx0dmFyIHRpbWUgPSBlLnRpbWVTdGFtcCAtIGRhdGEudGltZVN0YW1wO1xuXG5cdFx0Ly8gQ3JlYXRlIGEgbW92ZXN0YXJ0IG9iamVjdCB3aXRoIHNvbWUgc3BlY2lhbCBwcm9wZXJ0aWVzIHRoYXRcblx0XHQvLyBhcmUgcGFzc2VkIG9ubHkgdG8gdGhlIG1vdmVzdGFydCBoYW5kbGVycy5cblx0XHR2YXIgdGVtcGxhdGUgPSB7XG5cdFx0XHRhbHRLZXk6ICAgICBlLmFsdEtleSxcblx0XHRcdGN0cmxLZXk6ICAgIGUuY3RybEtleSxcblx0XHRcdHNoaWZ0S2V5OiAgIGUuc2hpZnRLZXksXG5cdFx0XHRzdGFydFg6ICAgICBkYXRhLnBhZ2VYLFxuXHRcdFx0c3RhcnRZOiAgICAgZGF0YS5wYWdlWSxcblx0XHRcdGRpc3RYOiAgICAgIGRpc3RYLFxuXHRcdFx0ZGlzdFk6ICAgICAgZGlzdFksXG5cdFx0XHRkZWx0YVg6ICAgICBkaXN0WCxcblx0XHRcdGRlbHRhWTogICAgIGRpc3RZLFxuXHRcdFx0cGFnZVg6ICAgICAgdG91Y2gucGFnZVgsXG5cdFx0XHRwYWdlWTogICAgICB0b3VjaC5wYWdlWSxcblx0XHRcdHZlbG9jaXR5WDogIGRpc3RYIC8gdGltZSxcblx0XHRcdHZlbG9jaXR5WTogIGRpc3RZIC8gdGltZSxcblx0XHRcdGlkZW50aWZpZXI6IGRhdGEuaWRlbnRpZmllcixcblx0XHRcdHRhcmdldFRvdWNoZXM6IHRvdWNoZXMsXG5cdFx0XHRmaW5nZXI6IHRvdWNoZXMgPyB0b3VjaGVzLmxlbmd0aCA6IDEsXG5cdFx0XHRlbmFibGVNb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5tb3ZlRW5hYmxlZCA9IHRydWU7XG5cdFx0XHRcdHRoaXMuZW5hYmxlTW92ZSA9IG5vb3A7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gVHJpZ2dlciB0aGUgbW92ZXN0YXJ0IGV2ZW50LlxuXHRcdHRyaWdnZXIoZGF0YS50YXJnZXQsICdtb3Zlc3RhcnQnLCB0ZW1wbGF0ZSk7XG5cblx0XHQvLyBVbmJpbmQgaGFuZGxlcnMgdGhhdCB0cmFja2VkIHRoZSB0b3VjaCBvciBtb3VzZSB1cCB0aWxsIG5vdy5cblx0XHRmbihkYXRhKTtcblx0fVxuXG5cblx0Ly8gSGFuZGxlcnMgdGhhdCBjb250cm9sIHdoYXQgaGFwcGVucyBmb2xsb3dpbmcgYSBtb3Zlc3RhcnRcblxuXHRmdW5jdGlvbiBhY3RpdmVNb3VzZW1vdmUoZSwgZGF0YSkge1xuXHRcdHZhciB0aW1lciAgPSBkYXRhLnRpbWVyO1xuXG5cdFx0ZGF0YS50b3VjaCA9IGU7XG5cdFx0ZGF0YS50aW1lU3RhbXAgPSBlLnRpbWVTdGFtcDtcblx0XHR0aW1lci5raWNrKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBhY3RpdmVNb3VzZWVuZChlLCBkYXRhKSB7XG5cdFx0dmFyIHRhcmdldCA9IGRhdGEudGFyZ2V0O1xuXHRcdHZhciBldmVudCAgPSBkYXRhLmV2ZW50O1xuXHRcdHZhciB0aW1lciAgPSBkYXRhLnRpbWVyO1xuXG5cdFx0cmVtb3ZlQWN0aXZlTW91c2UoKTtcblxuXHRcdGVuZEV2ZW50KHRhcmdldCwgZXZlbnQsIHRpbWVyLCBmdW5jdGlvbigpIHtcblx0XHRcdC8vIFVuYmluZCB0aGUgY2xpY2sgc3VwcHJlc3Nvciwgd2FpdGluZyB1bnRpbCBhZnRlciBtb3VzZXVwXG5cdFx0XHQvLyBoYXMgYmVlbiBoYW5kbGVkLlxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRvZmYodGFyZ2V0LCAnY2xpY2snLCBwcmV2ZW50RGVmYXVsdCk7XG5cdFx0XHR9LCAwKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZUFjdGl2ZU1vdXNlKCkge1xuXHRcdG9mZihkb2N1bWVudCwgbW91c2VldmVudHMubW92ZSwgYWN0aXZlTW91c2Vtb3ZlKTtcblx0XHRvZmYoZG9jdW1lbnQsIG1vdXNlZXZlbnRzLmVuZCwgYWN0aXZlTW91c2VlbmQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYWN0aXZlVG91Y2htb3ZlKGUsIGRhdGEpIHtcblx0XHR2YXIgZXZlbnQgPSBkYXRhLmV2ZW50O1xuXHRcdHZhciB0aW1lciA9IGRhdGEudGltZXI7XG5cdFx0dmFyIHRvdWNoID0gY2hhbmdlZFRvdWNoKGUsIGV2ZW50KTtcblxuXHRcdGlmICghdG91Y2gpIHsgcmV0dXJuOyB9XG5cblx0XHQvLyBTdG9wIHRoZSBpbnRlcmZhY2UgZnJvbSBnZXN0dXJpbmdcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRldmVudC50YXJnZXRUb3VjaGVzID0gZS50YXJnZXRUb3VjaGVzO1xuXHRcdGRhdGEudG91Y2ggPSB0b3VjaDtcblx0XHRkYXRhLnRpbWVTdGFtcCA9IGUudGltZVN0YW1wO1xuXG5cdFx0dGltZXIua2ljaygpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYWN0aXZlVG91Y2hlbmQoZSwgZGF0YSkge1xuXHRcdHZhciB0YXJnZXQgPSBkYXRhLnRhcmdldDtcblx0XHR2YXIgZXZlbnQgID0gZGF0YS5ldmVudDtcblx0XHR2YXIgdGltZXIgID0gZGF0YS50aW1lcjtcblx0XHR2YXIgdG91Y2ggID0gaWRlbnRpZmllZFRvdWNoKGUuY2hhbmdlZFRvdWNoZXMsIGV2ZW50LmlkZW50aWZpZXIpO1xuXG5cdFx0Ly8gVGhpcyBpc24ndCB0aGUgdG91Y2ggeW91J3JlIGxvb2tpbmcgZm9yLlxuXHRcdGlmICghdG91Y2gpIHsgcmV0dXJuOyB9XG5cblx0XHRyZW1vdmVBY3RpdmVUb3VjaChkYXRhKTtcblx0XHRlbmRFdmVudCh0YXJnZXQsIGV2ZW50LCB0aW1lcik7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVBY3RpdmVUb3VjaChkYXRhKSB7XG5cdFx0b2ZmKGRvY3VtZW50LCB0b3VjaGV2ZW50cy5tb3ZlLCBkYXRhLmFjdGl2ZVRvdWNobW92ZSk7XG5cdFx0b2ZmKGRvY3VtZW50LCB0b3VjaGV2ZW50cy5lbmQsIGRhdGEuYWN0aXZlVG91Y2hlbmQpO1xuXHR9XG5cblxuXHQvLyBMb2dpYyBmb3IgdHJpZ2dlcmluZyBtb3ZlIGFuZCBtb3ZlZW5kIGV2ZW50c1xuXG5cdGZ1bmN0aW9uIHVwZGF0ZUV2ZW50KGV2ZW50LCB0b3VjaCwgdGltZVN0YW1wKSB7XG5cdFx0dmFyIHRpbWUgPSB0aW1lU3RhbXAgLSBldmVudC50aW1lU3RhbXA7XG5cblx0XHRldmVudC5kaXN0WCA9ICB0b3VjaC5wYWdlWCAtIGV2ZW50LnN0YXJ0WDtcblx0XHRldmVudC5kaXN0WSA9ICB0b3VjaC5wYWdlWSAtIGV2ZW50LnN0YXJ0WTtcblx0XHRldmVudC5kZWx0YVggPSB0b3VjaC5wYWdlWCAtIGV2ZW50LnBhZ2VYO1xuXHRcdGV2ZW50LmRlbHRhWSA9IHRvdWNoLnBhZ2VZIC0gZXZlbnQucGFnZVk7XG5cblx0XHQvLyBBdmVyYWdlIHRoZSB2ZWxvY2l0eSBvZiB0aGUgbGFzdCBmZXcgZXZlbnRzIHVzaW5nIGEgZGVjYXlcblx0XHQvLyBjdXJ2ZSB0byBldmVuIG91dCBzcHVyaW91cyBqdW1wcyBpbiB2YWx1ZXMuXG5cdFx0ZXZlbnQudmVsb2NpdHlYID0gMC4zICogZXZlbnQudmVsb2NpdHlYICsgMC43ICogZXZlbnQuZGVsdGFYIC8gdGltZTtcblx0XHRldmVudC52ZWxvY2l0eVkgPSAwLjMgKiBldmVudC52ZWxvY2l0eVkgKyAwLjcgKiBldmVudC5kZWx0YVkgLyB0aW1lO1xuXHRcdGV2ZW50LnBhZ2VYID0gIHRvdWNoLnBhZ2VYO1xuXHRcdGV2ZW50LnBhZ2VZID0gIHRvdWNoLnBhZ2VZO1xuXHR9XG5cblx0ZnVuY3Rpb24gZW5kRXZlbnQodGFyZ2V0LCBldmVudCwgdGltZXIsIGZuKSB7XG5cdFx0dGltZXIuZW5kKGZ1bmN0aW9uKCl7XG5cdFx0XHR0cmlnZ2VyKHRhcmdldCwgJ21vdmVlbmQnLCBldmVudCk7XG5cdFx0XHRyZXR1cm4gZm4gJiYgZm4oKTtcblx0XHR9KTtcblx0fVxuXG5cblx0Ly8gU2V0IHVwIHRoZSBET01cblxuXHRmdW5jdGlvbiBtb3Zlc3RhcnQoZSkge1xuXHRcdGlmIChlLmRlZmF1bHRQcmV2ZW50ZWQpIHsgcmV0dXJuOyB9XG5cdFx0aWYgKCFlLm1vdmVFbmFibGVkKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIGV2ZW50ID0ge1xuXHRcdFx0c3RhcnRYOiAgICAgICAgZS5zdGFydFgsXG5cdFx0XHRzdGFydFk6ICAgICAgICBlLnN0YXJ0WSxcblx0XHRcdHBhZ2VYOiAgICAgICAgIGUucGFnZVgsXG5cdFx0XHRwYWdlWTogICAgICAgICBlLnBhZ2VZLFxuXHRcdFx0ZGlzdFg6ICAgICAgICAgZS5kaXN0WCxcblx0XHRcdGRpc3RZOiAgICAgICAgIGUuZGlzdFksXG5cdFx0XHRkZWx0YVg6ICAgICAgICBlLmRlbHRhWCxcblx0XHRcdGRlbHRhWTogICAgICAgIGUuZGVsdGFZLFxuXHRcdFx0dmVsb2NpdHlYOiAgICAgZS52ZWxvY2l0eVgsXG5cdFx0XHR2ZWxvY2l0eVk6ICAgICBlLnZlbG9jaXR5WSxcblx0XHRcdGlkZW50aWZpZXI6ICAgIGUuaWRlbnRpZmllcixcblx0XHRcdHRhcmdldFRvdWNoZXM6IGUudGFyZ2V0VG91Y2hlcyxcblx0XHRcdGZpbmdlcjogICAgICAgIGUuZmluZ2VyXG5cdFx0fTtcblxuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0dGFyZ2V0OiAgICBlLnRhcmdldCxcblx0XHRcdGV2ZW50OiAgICAgZXZlbnQsXG5cdFx0XHR0aW1lcjogICAgIG5ldyBUaW1lcih1cGRhdGUpLFxuXHRcdFx0dG91Y2g6ICAgICB1bmRlZmluZWQsXG5cdFx0XHR0aW1lU3RhbXA6IGUudGltZVN0YW1wXG5cdFx0fTtcblxuXHRcdGZ1bmN0aW9uIHVwZGF0ZSh0aW1lKSB7XG5cdFx0XHR1cGRhdGVFdmVudChldmVudCwgZGF0YS50b3VjaCwgZGF0YS50aW1lU3RhbXApO1xuXHRcdFx0dHJpZ2dlcihkYXRhLnRhcmdldCwgJ21vdmUnLCBldmVudCk7XG5cdFx0fVxuXG5cdFx0aWYgKGUuaWRlbnRpZmllciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBXZSdyZSBkZWFsaW5nIHdpdGggYSBtb3VzZSBldmVudC5cblx0XHRcdC8vIFN0b3AgY2xpY2tzIGZyb20gcHJvcGFnYXRpbmcgZHVyaW5nIGEgbW92ZVxuXHRcdFx0b24oZS50YXJnZXQsICdjbGljaycsIHByZXZlbnREZWZhdWx0KTtcblx0XHRcdG9uKGRvY3VtZW50LCBtb3VzZWV2ZW50cy5tb3ZlLCBhY3RpdmVNb3VzZW1vdmUsIGRhdGEpO1xuXHRcdFx0b24oZG9jdW1lbnQsIG1vdXNlZXZlbnRzLmVuZCwgYWN0aXZlTW91c2VlbmQsIGRhdGEpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIEluIG9yZGVyIHRvIHVuYmluZCBjb3JyZWN0IGhhbmRsZXJzIHRoZXkgaGF2ZSB0byBiZSB1bmlxdWVcblx0XHRcdGRhdGEuYWN0aXZlVG91Y2htb3ZlID0gZnVuY3Rpb24oZSwgZGF0YSkgeyBhY3RpdmVUb3VjaG1vdmUoZSwgZGF0YSk7IH07XG5cdFx0XHRkYXRhLmFjdGl2ZVRvdWNoZW5kID0gZnVuY3Rpb24oZSwgZGF0YSkgeyBhY3RpdmVUb3VjaGVuZChlLCBkYXRhKTsgfTtcblxuXHRcdFx0Ly8gV2UncmUgZGVhbGluZyB3aXRoIGEgdG91Y2guXG5cdFx0XHRvbihkb2N1bWVudCwgdG91Y2hldmVudHMubW92ZSwgZGF0YS5hY3RpdmVUb3VjaG1vdmUsIGRhdGEpO1xuXHRcdFx0b24oZG9jdW1lbnQsIHRvdWNoZXZlbnRzLmVuZCwgZGF0YS5hY3RpdmVUb3VjaGVuZCwgZGF0YSk7XG5cdFx0fVxuXHR9XG5cblx0b24oZG9jdW1lbnQsICdtb3VzZWRvd24nLCBtb3VzZWRvd24pO1xuXHRvbihkb2N1bWVudCwgJ3RvdWNoc3RhcnQnLCB0b3VjaHN0YXJ0KTtcblx0b24oZG9jdW1lbnQsICdtb3Zlc3RhcnQnLCBtb3Zlc3RhcnQpO1xuXG5cblx0Ly8galF1ZXJ5IHNwZWNpYWwgZXZlbnRzXG5cdC8vXG5cdC8vIGpRdWVyeSBldmVudCBvYmplY3RzIGFyZSBjb3BpZXMgb2YgRE9NIGV2ZW50IG9iamVjdHMuIFRoZXkgbmVlZFxuXHQvLyBhIGxpdHRsZSBoZWxwIGNvcHlpbmcgdGhlIG1vdmUgcHJvcGVydGllcyBhY3Jvc3MuXG5cblx0aWYgKCF3aW5kb3cualF1ZXJ5KSB7IHJldHVybjsgfVxuXG5cdHZhciBwcm9wZXJ0aWVzID0gKFwic3RhcnRYIHN0YXJ0WSBwYWdlWCBwYWdlWSBkaXN0WCBkaXN0WSBkZWx0YVggZGVsdGFZIHZlbG9jaXR5WCB2ZWxvY2l0eVlcIikuc3BsaXQoJyAnKTtcblxuXHRmdW5jdGlvbiBlbmFibGVNb3ZlMShlKSB7IGUuZW5hYmxlTW92ZSgpOyB9XG5cdGZ1bmN0aW9uIGVuYWJsZU1vdmUyKGUpIHsgZS5lbmFibGVNb3ZlKCk7IH1cblx0ZnVuY3Rpb24gZW5hYmxlTW92ZTMoZSkgeyBlLmVuYWJsZU1vdmUoKTsgfVxuXG5cdGZ1bmN0aW9uIGFkZChoYW5kbGVPYmopIHtcblx0XHR2YXIgaGFuZGxlciA9IGhhbmRsZU9iai5oYW5kbGVyO1xuXG5cdFx0aGFuZGxlT2JqLmhhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHQvLyBDb3B5IG1vdmUgcHJvcGVydGllcyBhY3Jvc3MgZnJvbSBvcmlnaW5hbEV2ZW50XG5cdFx0XHR2YXIgaSA9IHByb3BlcnRpZXMubGVuZ3RoO1xuXHRcdFx0dmFyIHByb3BlcnR5O1xuXG5cdFx0XHR3aGlsZShpLS0pIHtcblx0XHRcdFx0cHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuXHRcdFx0XHRlW3Byb3BlcnR5XSA9IGUub3JpZ2luYWxFdmVudFtwcm9wZXJ0eV07XG5cdFx0XHR9XG5cblx0XHRcdGhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9O1xuXHR9XG5cblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWwubW92ZXN0YXJ0ID0ge1xuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdC8vIE1vdmVzdGFydCBtdXN0IGJlIGVuYWJsZWQgdG8gYWxsb3cgb3RoZXIgbW92ZSBldmVudHNcblx0XHRcdG9uKHRoaXMsICdtb3Zlc3RhcnQnLCBlbmFibGVNb3ZlMSk7XG5cblx0XHRcdC8vIERvIGxpc3RlbiB0byBET00gZXZlbnRzXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblxuXHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdG9mZih0aGlzLCAnbW92ZXN0YXJ0JywgZW5hYmxlTW92ZTEpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cblx0XHRhZGQ6IGFkZFxuXHR9O1xuXG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsLm1vdmUgPSB7XG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0b24odGhpcywgJ21vdmVzdGFydCcsIGVuYWJsZU1vdmUyKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXG5cdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0b2ZmKHRoaXMsICdtb3Zlc3RhcnQnLCBlbmFibGVNb3ZlMik7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGFkZDogYWRkXG5cdH07XG5cblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWwubW92ZWVuZCA9IHtcblx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHRvbih0aGlzLCAnbW92ZXN0YXJ0JywgZW5hYmxlTW92ZTMpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cblx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHRvZmYodGhpcywgJ21vdmVzdGFydCcsIGVuYWJsZU1vdmUzKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXG5cdFx0YWRkOiBhZGRcblx0fTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/zurb-twentytwenty/js/jquery.event.move.js\n");

/***/ }),

/***/ "./node_modules/zurb-twentytwenty/js/jquery.twentytwenty.js":
/*!******************************************************************!*\
  !*** ./node_modules/zurb-twentytwenty/js/jquery.twentytwenty.js ***!
  \******************************************************************/
/***/ (() => {

eval("(function($){\n\n  $.fn.twentytwenty = function(options) {\n    var options = $.extend({\n      default_offset_pct: 0.5,\n      orientation: 'horizontal',\n      before_label: 'Before',\n      after_label: 'After',\n      no_overlay: false,\n      move_slider_on_hover: false,\n      move_with_handle_only: true,\n      click_to_move: false\n    }, options);\n\n    return this.each(function() {\n\n      var sliderPct = options.default_offset_pct;\n      var container = $(this);\n      var sliderOrientation = options.orientation;\n      var beforeDirection = (sliderOrientation === 'vertical') ? 'down' : 'left';\n      var afterDirection = (sliderOrientation === 'vertical') ? 'up' : 'right';\n\n\n      container.wrap(\"<div class='twentytwenty-wrapper twentytwenty-\" + sliderOrientation + \"'></div>\");\n      if(!options.no_overlay) {\n        container.append(\"<div class='twentytwenty-overlay'></div>\");\n        var overlay = container.find(\".twentytwenty-overlay\");\n        overlay.append(\"<div class='twentytwenty-before-label' data-content='\"+options.before_label+\"'></div>\");\n        overlay.append(\"<div class='twentytwenty-after-label' data-content='\"+options.after_label+\"'></div>\");\n      }\n      var beforeImg = container.find(\"img:first\");\n      var afterImg = container.find(\"img:last\");\n      container.append(\"<div class='twentytwenty-handle'></div>\");\n      var slider = container.find(\".twentytwenty-handle\");\n      slider.append(\"<span class='twentytwenty-\" + beforeDirection + \"-arrow'></span>\");\n      slider.append(\"<span class='twentytwenty-\" + afterDirection + \"-arrow'></span>\");\n      container.addClass(\"twentytwenty-container\");\n      beforeImg.addClass(\"twentytwenty-before\");\n      afterImg.addClass(\"twentytwenty-after\");\n      \n      var calcOffset = function(dimensionPct) {\n        var w = beforeImg.width();\n        var h = beforeImg.height();\n        return {\n          w: w+\"px\",\n          h: h+\"px\",\n          cw: (dimensionPct*w)+\"px\",\n          ch: (dimensionPct*h)+\"px\"\n        };\n      };\n\n      var adjustContainer = function(offset) {\n      \tif (sliderOrientation === 'vertical') {\n          beforeImg.css(\"clip\", \"rect(0,\"+offset.w+\",\"+offset.ch+\",0)\");\n          afterImg.css(\"clip\", \"rect(\"+offset.ch+\",\"+offset.w+\",\"+offset.h+\",0)\");\n      \t}\n      \telse {\n          beforeImg.css(\"clip\", \"rect(0,\"+offset.cw+\",\"+offset.h+\",0)\");\n          afterImg.css(\"clip\", \"rect(0,\"+offset.w+\",\"+offset.h+\",\"+offset.cw+\")\");\n    \t}\n        container.css(\"height\", offset.h);\n      };\n\n      var adjustSlider = function(pct) {\n        var offset = calcOffset(pct);\n        slider.css((sliderOrientation===\"vertical\") ? \"top\" : \"left\", (sliderOrientation===\"vertical\") ? offset.ch : offset.cw);\n        adjustContainer(offset);\n      };\n\n      // Return the number specified or the min/max number if it outside the range given.\n      var minMaxNumber = function(num, min, max) {\n        return Math.max(min, Math.min(max, num));\n      };\n\n      // Calculate the slider percentage based on the position.\n      var getSliderPercentage = function(positionX, positionY) {\n        var sliderPercentage = (sliderOrientation === 'vertical') ?\n          (positionY-offsetY)/imgHeight :\n          (positionX-offsetX)/imgWidth;\n\n        return minMaxNumber(sliderPercentage, 0, 1);\n      };\n\n\n      $(window).on(\"resize.twentytwenty\", function(e) {\n        adjustSlider(sliderPct);\n      });\n\n      var offsetX = 0;\n      var offsetY = 0;\n      var imgWidth = 0;\n      var imgHeight = 0;\n      var onMoveStart = function(e) {\n        if (((e.distX > e.distY && e.distX < -e.distY) || (e.distX < e.distY && e.distX > -e.distY)) && sliderOrientation !== 'vertical') {\n          e.preventDefault();\n        }\n        else if (((e.distX < e.distY && e.distX < -e.distY) || (e.distX > e.distY && e.distX > -e.distY)) && sliderOrientation === 'vertical') {\n          e.preventDefault();\n        }\n        container.addClass(\"active\");\n        offsetX = container.offset().left;\n        offsetY = container.offset().top;\n        imgWidth = beforeImg.width(); \n        imgHeight = beforeImg.height();          \n      };\n      var onMove = function(e) {\n        if (container.hasClass(\"active\")) {\n          sliderPct = getSliderPercentage(e.pageX, e.pageY);\n          adjustSlider(sliderPct);\n        }\n      };\n      var onMoveEnd = function() {\n          container.removeClass(\"active\");\n      };\n\n      var moveTarget = options.move_with_handle_only ? slider : container;\n      moveTarget.on(\"movestart\",onMoveStart);\n      moveTarget.on(\"move\",onMove);\n      moveTarget.on(\"moveend\",onMoveEnd);\n\n      if (options.move_slider_on_hover) {\n        container.on(\"mouseenter\", onMoveStart);\n        container.on(\"mousemove\", onMove);\n        container.on(\"mouseleave\", onMoveEnd);\n      }\n\n      slider.on(\"touchmove\", function(e) {\n        e.preventDefault();\n      });\n\n      container.find(\"img\").on(\"mousedown\", function(event) {\n        event.preventDefault();\n      });\n\n      if (options.click_to_move) {\n        container.on('click', function(e) {\n          offsetX = container.offset().left;\n          offsetY = container.offset().top;\n          imgWidth = beforeImg.width();\n          imgHeight = beforeImg.height();\n\n          sliderPct = getSliderPercentage(e.pageX, e.pageY);\n          adjustSlider(sliderPct);\n        });\n      }\n\n      $(window).trigger(\"resize.twentytwenty\");\n    });\n  };\n\n})(jQuery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvenVyYi10d2VudHl0d2VudHkvanMvanF1ZXJ5LnR3ZW50eXR3ZW50eS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3AvLi9ub2RlX21vZHVsZXMvenVyYi10d2VudHl0d2VudHkvanMvanF1ZXJ5LnR3ZW50eXR3ZW50eS5qcz81MzM4Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkKXtcblxuICAkLmZuLnR3ZW50eXR3ZW50eSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHtcbiAgICAgIGRlZmF1bHRfb2Zmc2V0X3BjdDogMC41LFxuICAgICAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJyxcbiAgICAgIGJlZm9yZV9sYWJlbDogJ0JlZm9yZScsXG4gICAgICBhZnRlcl9sYWJlbDogJ0FmdGVyJyxcbiAgICAgIG5vX292ZXJsYXk6IGZhbHNlLFxuICAgICAgbW92ZV9zbGlkZXJfb25faG92ZXI6IGZhbHNlLFxuICAgICAgbW92ZV93aXRoX2hhbmRsZV9vbmx5OiB0cnVlLFxuICAgICAgY2xpY2tfdG9fbW92ZTogZmFsc2VcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBzbGlkZXJQY3QgPSBvcHRpb25zLmRlZmF1bHRfb2Zmc2V0X3BjdDtcbiAgICAgIHZhciBjb250YWluZXIgPSAkKHRoaXMpO1xuICAgICAgdmFyIHNsaWRlck9yaWVudGF0aW9uID0gb3B0aW9ucy5vcmllbnRhdGlvbjtcbiAgICAgIHZhciBiZWZvcmVEaXJlY3Rpb24gPSAoc2xpZGVyT3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpID8gJ2Rvd24nIDogJ2xlZnQnO1xuICAgICAgdmFyIGFmdGVyRGlyZWN0aW9uID0gKHNsaWRlck9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSA/ICd1cCcgOiAncmlnaHQnO1xuXG5cbiAgICAgIGNvbnRhaW5lci53cmFwKFwiPGRpdiBjbGFzcz0ndHdlbnR5dHdlbnR5LXdyYXBwZXIgdHdlbnR5dHdlbnR5LVwiICsgc2xpZGVyT3JpZW50YXRpb24gKyBcIic+PC9kaXY+XCIpO1xuICAgICAgaWYoIW9wdGlvbnMubm9fb3ZlcmxheSkge1xuICAgICAgICBjb250YWluZXIuYXBwZW5kKFwiPGRpdiBjbGFzcz0ndHdlbnR5dHdlbnR5LW92ZXJsYXknPjwvZGl2PlwiKTtcbiAgICAgICAgdmFyIG92ZXJsYXkgPSBjb250YWluZXIuZmluZChcIi50d2VudHl0d2VudHktb3ZlcmxheVwiKTtcbiAgICAgICAgb3ZlcmxheS5hcHBlbmQoXCI8ZGl2IGNsYXNzPSd0d2VudHl0d2VudHktYmVmb3JlLWxhYmVsJyBkYXRhLWNvbnRlbnQ9J1wiK29wdGlvbnMuYmVmb3JlX2xhYmVsK1wiJz48L2Rpdj5cIik7XG4gICAgICAgIG92ZXJsYXkuYXBwZW5kKFwiPGRpdiBjbGFzcz0ndHdlbnR5dHdlbnR5LWFmdGVyLWxhYmVsJyBkYXRhLWNvbnRlbnQ9J1wiK29wdGlvbnMuYWZ0ZXJfbGFiZWwrXCInPjwvZGl2PlwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBiZWZvcmVJbWcgPSBjb250YWluZXIuZmluZChcImltZzpmaXJzdFwiKTtcbiAgICAgIHZhciBhZnRlckltZyA9IGNvbnRhaW5lci5maW5kKFwiaW1nOmxhc3RcIik7XG4gICAgICBjb250YWluZXIuYXBwZW5kKFwiPGRpdiBjbGFzcz0ndHdlbnR5dHdlbnR5LWhhbmRsZSc+PC9kaXY+XCIpO1xuICAgICAgdmFyIHNsaWRlciA9IGNvbnRhaW5lci5maW5kKFwiLnR3ZW50eXR3ZW50eS1oYW5kbGVcIik7XG4gICAgICBzbGlkZXIuYXBwZW5kKFwiPHNwYW4gY2xhc3M9J3R3ZW50eXR3ZW50eS1cIiArIGJlZm9yZURpcmVjdGlvbiArIFwiLWFycm93Jz48L3NwYW4+XCIpO1xuICAgICAgc2xpZGVyLmFwcGVuZChcIjxzcGFuIGNsYXNzPSd0d2VudHl0d2VudHktXCIgKyBhZnRlckRpcmVjdGlvbiArIFwiLWFycm93Jz48L3NwYW4+XCIpO1xuICAgICAgY29udGFpbmVyLmFkZENsYXNzKFwidHdlbnR5dHdlbnR5LWNvbnRhaW5lclwiKTtcbiAgICAgIGJlZm9yZUltZy5hZGRDbGFzcyhcInR3ZW50eXR3ZW50eS1iZWZvcmVcIik7XG4gICAgICBhZnRlckltZy5hZGRDbGFzcyhcInR3ZW50eXR3ZW50eS1hZnRlclwiKTtcbiAgICAgIFxuICAgICAgdmFyIGNhbGNPZmZzZXQgPSBmdW5jdGlvbihkaW1lbnNpb25QY3QpIHtcbiAgICAgICAgdmFyIHcgPSBiZWZvcmVJbWcud2lkdGgoKTtcbiAgICAgICAgdmFyIGggPSBiZWZvcmVJbWcuaGVpZ2h0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdzogdytcInB4XCIsXG4gICAgICAgICAgaDogaCtcInB4XCIsXG4gICAgICAgICAgY3c6IChkaW1lbnNpb25QY3QqdykrXCJweFwiLFxuICAgICAgICAgIGNoOiAoZGltZW5zaW9uUGN0KmgpK1wicHhcIlxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgdmFyIGFkanVzdENvbnRhaW5lciA9IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgICAgXHRpZiAoc2xpZGVyT3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICBiZWZvcmVJbWcuY3NzKFwiY2xpcFwiLCBcInJlY3QoMCxcIitvZmZzZXQudytcIixcIitvZmZzZXQuY2grXCIsMClcIik7XG4gICAgICAgICAgYWZ0ZXJJbWcuY3NzKFwiY2xpcFwiLCBcInJlY3QoXCIrb2Zmc2V0LmNoK1wiLFwiK29mZnNldC53K1wiLFwiK29mZnNldC5oK1wiLDApXCIpO1xuICAgICAgXHR9XG4gICAgICBcdGVsc2Uge1xuICAgICAgICAgIGJlZm9yZUltZy5jc3MoXCJjbGlwXCIsIFwicmVjdCgwLFwiK29mZnNldC5jdytcIixcIitvZmZzZXQuaCtcIiwwKVwiKTtcbiAgICAgICAgICBhZnRlckltZy5jc3MoXCJjbGlwXCIsIFwicmVjdCgwLFwiK29mZnNldC53K1wiLFwiK29mZnNldC5oK1wiLFwiK29mZnNldC5jdytcIilcIik7XG4gICAgXHR9XG4gICAgICAgIGNvbnRhaW5lci5jc3MoXCJoZWlnaHRcIiwgb2Zmc2V0LmgpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGFkanVzdFNsaWRlciA9IGZ1bmN0aW9uKHBjdCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gY2FsY09mZnNldChwY3QpO1xuICAgICAgICBzbGlkZXIuY3NzKChzbGlkZXJPcmllbnRhdGlvbj09PVwidmVydGljYWxcIikgPyBcInRvcFwiIDogXCJsZWZ0XCIsIChzbGlkZXJPcmllbnRhdGlvbj09PVwidmVydGljYWxcIikgPyBvZmZzZXQuY2ggOiBvZmZzZXQuY3cpO1xuICAgICAgICBhZGp1c3RDb250YWluZXIob2Zmc2V0KTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFJldHVybiB0aGUgbnVtYmVyIHNwZWNpZmllZCBvciB0aGUgbWluL21heCBudW1iZXIgaWYgaXQgb3V0c2lkZSB0aGUgcmFuZ2UgZ2l2ZW4uXG4gICAgICB2YXIgbWluTWF4TnVtYmVyID0gZnVuY3Rpb24obnVtLCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIG51bSkpO1xuICAgICAgfTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBzbGlkZXIgcGVyY2VudGFnZSBiYXNlZCBvbiB0aGUgcG9zaXRpb24uXG4gICAgICB2YXIgZ2V0U2xpZGVyUGVyY2VudGFnZSA9IGZ1bmN0aW9uKHBvc2l0aW9uWCwgcG9zaXRpb25ZKSB7XG4gICAgICAgIHZhciBzbGlkZXJQZXJjZW50YWdlID0gKHNsaWRlck9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSA/XG4gICAgICAgICAgKHBvc2l0aW9uWS1vZmZzZXRZKS9pbWdIZWlnaHQgOlxuICAgICAgICAgIChwb3NpdGlvblgtb2Zmc2V0WCkvaW1nV2lkdGg7XG5cbiAgICAgICAgcmV0dXJuIG1pbk1heE51bWJlcihzbGlkZXJQZXJjZW50YWdlLCAwLCAxKTtcbiAgICAgIH07XG5cblxuICAgICAgJCh3aW5kb3cpLm9uKFwicmVzaXplLnR3ZW50eXR3ZW50eVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGFkanVzdFNsaWRlcihzbGlkZXJQY3QpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBvZmZzZXRYID0gMDtcbiAgICAgIHZhciBvZmZzZXRZID0gMDtcbiAgICAgIHZhciBpbWdXaWR0aCA9IDA7XG4gICAgICB2YXIgaW1nSGVpZ2h0ID0gMDtcbiAgICAgIHZhciBvbk1vdmVTdGFydCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCgoZS5kaXN0WCA+IGUuZGlzdFkgJiYgZS5kaXN0WCA8IC1lLmRpc3RZKSB8fCAoZS5kaXN0WCA8IGUuZGlzdFkgJiYgZS5kaXN0WCA+IC1lLmRpc3RZKSkgJiYgc2xpZGVyT3JpZW50YXRpb24gIT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKChlLmRpc3RYIDwgZS5kaXN0WSAmJiBlLmRpc3RYIDwgLWUuZGlzdFkpIHx8IChlLmRpc3RYID4gZS5kaXN0WSAmJiBlLmRpc3RYID4gLWUuZGlzdFkpKSAmJiBzbGlkZXJPcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgIG9mZnNldFggPSBjb250YWluZXIub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgb2Zmc2V0WSA9IGNvbnRhaW5lci5vZmZzZXQoKS50b3A7XG4gICAgICAgIGltZ1dpZHRoID0gYmVmb3JlSW1nLndpZHRoKCk7IFxuICAgICAgICBpbWdIZWlnaHQgPSBiZWZvcmVJbWcuaGVpZ2h0KCk7ICAgICAgICAgIFxuICAgICAgfTtcbiAgICAgIHZhciBvbk1vdmUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChjb250YWluZXIuaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgICBzbGlkZXJQY3QgPSBnZXRTbGlkZXJQZXJjZW50YWdlKGUucGFnZVgsIGUucGFnZVkpO1xuICAgICAgICAgIGFkanVzdFNsaWRlcihzbGlkZXJQY3QpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIG9uTW92ZUVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBtb3ZlVGFyZ2V0ID0gb3B0aW9ucy5tb3ZlX3dpdGhfaGFuZGxlX29ubHkgPyBzbGlkZXIgOiBjb250YWluZXI7XG4gICAgICBtb3ZlVGFyZ2V0Lm9uKFwibW92ZXN0YXJ0XCIsb25Nb3ZlU3RhcnQpO1xuICAgICAgbW92ZVRhcmdldC5vbihcIm1vdmVcIixvbk1vdmUpO1xuICAgICAgbW92ZVRhcmdldC5vbihcIm1vdmVlbmRcIixvbk1vdmVFbmQpO1xuXG4gICAgICBpZiAob3B0aW9ucy5tb3ZlX3NsaWRlcl9vbl9ob3Zlcikge1xuICAgICAgICBjb250YWluZXIub24oXCJtb3VzZWVudGVyXCIsIG9uTW92ZVN0YXJ0KTtcbiAgICAgICAgY29udGFpbmVyLm9uKFwibW91c2Vtb3ZlXCIsIG9uTW92ZSk7XG4gICAgICAgIGNvbnRhaW5lci5vbihcIm1vdXNlbGVhdmVcIiwgb25Nb3ZlRW5kKTtcbiAgICAgIH1cblxuICAgICAgc2xpZGVyLm9uKFwidG91Y2htb3ZlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnRhaW5lci5maW5kKFwiaW1nXCIpLm9uKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9wdGlvbnMuY2xpY2tfdG9fbW92ZSkge1xuICAgICAgICBjb250YWluZXIub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIG9mZnNldFggPSBjb250YWluZXIub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgICBvZmZzZXRZID0gY29udGFpbmVyLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICBpbWdXaWR0aCA9IGJlZm9yZUltZy53aWR0aCgpO1xuICAgICAgICAgIGltZ0hlaWdodCA9IGJlZm9yZUltZy5oZWlnaHQoKTtcblxuICAgICAgICAgIHNsaWRlclBjdCA9IGdldFNsaWRlclBlcmNlbnRhZ2UoZS5wYWdlWCwgZS5wYWdlWSk7XG4gICAgICAgICAgYWRqdXN0U2xpZGVyKHNsaWRlclBjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAkKHdpbmRvdykudHJpZ2dlcihcInJlc2l6ZS50d2VudHl0d2VudHlcIik7XG4gICAgfSk7XG4gIH07XG5cbn0pKGpRdWVyeSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/zurb-twentytwenty/js/jquery.twentytwenty.js\n");

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = window["jQuery"];

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/frontend.js");
/******/ 	(window.wp = window.wp || {})["gutenbee.scripts"] = __webpack_exports__;
/******/ 	
/******/ })()
;